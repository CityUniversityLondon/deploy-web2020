!function(e){function a(a){for(var n,s,c=a[0],i=a[1],o=a[2],d=0,u=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(m&&m(a);u.length;)u.shift()();return l.push.apply(l,o||[]),t()}function t(){for(var e,a=0;a<l.length;a++){for(var t,s=l[a],c=!0,i=1;i<s.length;i++)t=s[i],0!==r[t]&&(c=!1);c&&(l.splice(a--,1),e=n(n.s=s[0]))}return e}function n(a){if(s[a])return s[a].exports;var t=s[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var s={},r={6:0},l=[];n.m=e,n.c=s,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var s in e)n.d(t,s,function(a){return e[a]}.bind(null,s));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var o=0;o<c.length;o++)a(c[o]);var m=i;l.push([225,1,0,4,3,2]),t()}({15:function(e,a,t){"use strict";function n(e){const a=Math.random().toString(16).slice(-4),t=e.config.sort.filter(a=>""!==a.type||!!(""!==e.query.query||0<Object.keys(e.query.facets).length||""===e.query.sortType));return 1<t.length?l.a.createElement("div",{className:"finder__select--sort finder__select".concat(e.query.sortType===e.config.sort[0].type?"":" finder__select--selected")},l.a.createElement("label",{className:"finder__select__overline",htmlFor:"sort--".concat(a)},"Sort by"),l.a.createElement("select",{name:"sort",id:"sort--".concat(a),onChange:a=>(a=>{const t=e.query;t.sortType=a,t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value),value:e.query.sortType},t.map((e,a)=>l.a.createElement("option",{key:a,value:e.type},e.label)))):null}var s=t(9),r=(t.n(s),t(0)),l=t.n(r),c=t(1),i=t.n(c);n.propTypes={config:i.a.object,query:i.a.object,update:i.a.object},a.a=n},17:function(e,a,t){"use strict";function n(e){return r.a.createElement("button",{className:"finder__reset",type:"button",onClick:()=>{e.clear(e.resetSort)}},r.a.createElement("span",{className:"far fa-fw fa-times icon"}),r.a.createElement("span",{className:"finder__reset__text"},"Reset"))}var s=t(0),r=t.n(s),l=t(1),c=t.n(l);n.propTypes={clear:c.a.func,resetSort:c.a.bool},a.a=n},2:function(e,a,t){"use strict";function n(e){return!("true"!==e)}function s(e,a,t){const n=t?S(a):T(a);e.className=e.className.split(/\s+/).filter(e=>n(e)).join(" ")}function r(){return!!window.matchMedia("(prefers-reduced-motion: reduce)").matches}function l(e){return!(0===e.offsetHeight||0===e.offsetWidth)}function c(e){return!!(0<=e.getBoundingClientRect().top&&e.getBoundingClientRect().top<=window.innerHeight)}function i(e){const a={};return e.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");a[t]=n}),a}function o(e){if(0<Object.keys(e).length){let a="?";for(const t in e)1!==a.length&&(a+="&"),a+=t+"="+e[t];return a}return""}function m(e,a,t,n,s,r){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:a,eventAction:t,eventLabel:n,eventValue:s,nonInteractionHit:r})}function d(e,a){a.forEach(a=>e.appendChild(a))}function u(e=432){if(window.innerWidth<e)return!0}function p(e){let a=[];for(let t=e.length>>>0;t--;)a[t]=e[t];return a}function f(){const e=window.navigator.userAgent,a=e.indexOf("MSIE ");if(0<a)return parseInt(e.substring(a+5,e.indexOf(".",a)),10);if(0<e.indexOf("Trident/")){let a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}const t=e.indexOf("Edge/");return!!(0<t)&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}function _(){return!!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)}function y(e,a){let t=document.createElement(e);return a.map((function(e){"content"===e.label?t.appendChild(document.createTextNode(e.val)):"html"===e.label?t.innerHTML=e.val:t.setAttribute(e.label,e.val)})),t}function E(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function g(e){return k()(e).then(e=>{if(200===e.status)return e.data;throw"Bad response: ".concat(e.status)}).catch(e=>{k.a.isCancel(e)||m("jsError","JavaScript error","Line ".concat(e.lineNumber," – ").concat(e.message),"axiosRequest ".concat(e.fileName," (").concat(window.location,")"),!0)})}function h(e){return O.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),O.a.createElement("sup",null,function(e){const a=e.toString().slice(-1);return e>=11||e<=13?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th"}(e.getUTCDate()))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}t.d(a,"o",(function(){return n})),t.d(a,"m",(function(){return s})),t.d(a,"l",(function(){return r})),t.d(a,"i",(function(){return l})),t.d(a,"q",(function(){return c})),t.d(a,"k",(function(){return i})),t.d(a,"j",(function(){return o})),t.d(a,"g",(function(){return m})),t.d(a,"a",(function(){return d})),t.d(a,"h",(function(){return u})),t.d(a,"n",(function(){return p})),t.d(a,"e",(function(){return f})),t.d(a,"c",(function(){return _})),t.d(a,"d",(function(){return y})),t.d(a,"p",(function(){return E})),t.d(a,"b",(function(){return g})),t.d(a,"f",(function(){return h}));var b=t(4),v=(t.n(b),t(9)),N=(t.n(v),t(14)),q=(t.n(N),t(3)),D=(t.n(q),t(5)),j=(t.n(D),t(7)),k=t.n(j),w=t(0),O=t.n(w);const S=e=>a=>0>a.indexOf(e),T=e=>a=>a!==e},225:function(e,a,t){e.exports=t(229)},229:function(e,a,t){"use strict";function n(e){function a(){q.focus()}const[t,n]=Object(m.useState)(e.query.query||""),[s,r]=Object(m.useState)([]),[l,c]=Object(m.useState)({cancel:()=>{}}),[i]=Object(m.useState)("finder--"+e.query.collection+"--"+Math.random().toString(16).slice(-4)),[o,u]=Object(m.useState)(!1),[p,f]=Object(m.useState)("");Object(m.useEffect)(()=>{n(e.query.query)},[e.query.query,e.updating]);let q=null;const D=()=>{l.cancel(),n(""),r([]),a();const t=e.query,s=e.pastEventsQuery;t.misspelling=null,t.query="",t.sortType=e.config.sort[0].type,t.startRank=1,t.interacted=!0,s.misspelling=null,s.query="",s.sortType=e.config.sort[0].type,s.startRank=1,s.interacted=!0,e.update.query(t),e.pastEventsUpdate.query(s),e.update.results(!e.update.updateState)},j=a=>{l.cancel(),r([]);const n=e.query,s=e.pastEventsQuery;n.misspelling=null,n.query=a||(t||""),n.sortType=e.config.sort[0].type,n.startRank=1,n.interacted=!0,s.misspelling=null,s.query=a||(t||""),s.sortType=e.config.sort[0].type,s.startRank=1,s.interacted=!0,e.update.query(n),e.pastEventsUpdate.query(s),e.update.results(!e.update.updateState)},k=t&&d.a.createElement(y.a,{clear:()=>{D()}}),w=e=>{u(!1),r([]),a(),j(e)},O=s&&0<s.length&&d.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":p,className:o?"finder__query__suggestions show":"finder__query__suggestions hide"},[...new Set(s)].slice(0,E).map((e,a)=>d.a.createElement("li",{key:e,role:"option",id:i+"--"+a},d.a.createElement("button",{type:"button",onBlur:()=>{f(""),u(!1)},onFocus:()=>u(!0),onMouseDown:()=>w(e),onClick:()=>w(e),onKeyDown:e=>{switch(e.key){case g:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),r([]),f("");break;case v:e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),f(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),f(""));break;case N:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),f(e.target.parentNode.nextElementSibling.id));break;case b:e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),f(e.target.parentNode.firstChild.id));break;case h:e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),f(e.target.parentNode.lastChild.id))}}},function(e,a){return d.a.createElement(d.a.Fragment,null,d.a.createElement("span",null,d.a.createElement("span",{className:"sr-only"},e),d.a.createElement("span",{"aria-hidden":"true"},d.a.createElement("span",{className:"finder__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(e,t))))),S=d.a.createElement("div",{className:"finder__query__input"},d.a.createElement("div",{className:"finder__query__icon--wrapper"},d.a.createElement("span",{className:"finder__icon fal fa-search icon","aria-hidden":"true"})),d.a.createElement("label",{className:"sr-only",htmlFor:i},"Search ".concat(e.config.summariseAs.plural)),d.a.createElement("input",{autoComplete:"off",id:i,name:"query",placeholder:e.config.placeholder,ref:e=>{q=e},type:"text",value:t,onKeyDown:e=>{switch(e.key){case g:D();break;case N:s&&0<s.length&&(e.preventDefault(),e.target.parentNode.querySelector(".finder__query__suggestions button").focus(),f(e.target.parentNode.querySelector(".finder__query__suggestions li").id))}},onFocus:()=>u(!0),onBlur:()=>u(!1),onChange:a=>{if(r([]),n(a.target.value),l.cancel(),a.target.value){const[t,n]=Object(_.c)(e.query.collection,a.target.value);c({cancel:()=>{n.cancel()}}),t.then(e=>r(e)).catch(()=>r([]))}else r([])}}),O,k);return d.a.createElement("fieldset",{className:"finder__query"},d.a.createElement("div",null,S,d.a.createElement("button",{type:"submit",className:"finder__query__submit",onClick:()=>j()},d.a.createElement("span",{className:"fal fa-search finder__query__submit__icon","aria-hidden":"true"})," ",d.a.createElement("span",{className:"finder__query__submit__text"},"Find"))))}function s(e){const a=Math.random().toString(16).slice(-4),t=e.query.facets[e.facet.meta]||"",n=e.facet.values.reduce((e,a)=>[...e,a],[]),s=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values?e.responseFacet[0].categories[0].values.reduce((e,a)=>[...e,a.data],[]):[],r=n.map(e=>e.data).filter(e=>0>s.indexOf(e.toLowerCase())).length;return e.facet.values.length>r?d.a.createElement("div",{className:"finder__filter finder__select ".concat(t&&"finder__select--selected")},d.a.createElement("label",{htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(a)},e.facet.name),d.a.createElement("select",{name:e.facet.name,id:"meta_".concat(e.facet.meta,"_sand--").concat(a),onChange:a=>(a=>{const t=e.query,n=e.pastEventsQuery;e.dependencies.map(e=>{delete t.facets[e.meta]}),a?(t.facets[e.facet.meta]=a,n.facets[e.facet.meta]=a):(delete t.facets[e.facet.meta],delete n.facets[e.facet.meta]),t.startRank=1,t.misspelling=null,t.interacted=!0,n.startRank=1,n.misspelling=null,n.interacted=!0,e.update.query(t),e.pastEventsUpdate.query(n),e.update.results(!e.update.updateState)})(a.target.value),value:t},d.a.createElement("option",{value:"",id:"meta".concat(e.facet.meta,"all"),name:"meta_".concat(e.facet.meta,"_sand--").concat(a)},e.facet.noSelection),e.facet.values.map((a,n)=>{const s=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values.filter(e=>e.data.toLowerCase()===a.data.toLowerCase());return t.toLowerCase()===a.data.toLowerCase()||s&&s[0]?d.a.createElement("option",{key:n,value:a.data.toLowerCase()},a.label,t===a.data?"":0<s[0].count&&" (".concat(s[0].count,")")):null}))):null}function r(e){const a=Math.random().toString(16).slice(-4),t=e.pastEventsResponse&&e.pastEventsResponse.summary&&e.pastEventsResponse.summary.fullyMatching,n=e.pastEventsResponse&&e.pastEventsResponse.summary&&e.pastEventsResponse.summary.partiallyMatching,s=e.responseParameter&&e.responseParameter.REQUEST_URL&&new URL(e.responseParameter.REQUEST_URL),r=e.responseParameter&&e.responseParameter.REQUEST_URL&&new URLSearchParams(s.search.slice(1)),l=!(!r||"past"!==r.get("events")),c=t||(n||0),i=()=>{const a=e.query;a.events=l?"":"past",a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)};return d.a.createElement("div",{className:"finder__filter finder__checkbox"},d.a.createElement("input",{type:"checkbox",id:"past_events--".concat(a),name:"events",value:"past",onChange:()=>i(),checked:l}),d.a.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:()=>i()},l?d.a.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),d.a.createElement("label",{className:"finder__filters__label--always",htmlFor:"past_events--".concat(a)},"Past events",!l&&c&&" ("+c+")"))}function l(e){const a=!!(e.pastEventsResponse&&e.pastEventsResponse.summary&&e.pastEventsResponse.summary.fullyMatching)&&e.pastEventsResponse.summary.fullyMatching,t=!!(e.pastEventsResponse&&e.pastEventsResponse.summary&&e.pastEventsResponse.summary.partiallyMatching)&&e.pastEventsResponse.summary.partiallyMatching,n=a||!!t&&t,s=0<Object.keys(e.query.facets).length||""!==e.query.events?d.a.createElement("div",{className:"finder__filters__reset finder__filters__reset--desktop"},d.a.createElement(w.a,{clear:e.clear,resetSort:!1})):null,r=0<Object.keys(e.query.facets).length||e.query.sortType!==e.config.sort[0].type?d.a.createElement(w.a,{clear:e.clear,resetSort:!0}):null,l=1<e.config.sort.length&&e.config.displaySort?d.a.createElement("div",{className:"wrapper--finder__select--sort--mobile"},d.a.createElement(O.a,{config:e.config,query:e.query,update:e.update,pastEventsUpdate:e.pastEventsUpdate})):null,c=n?d.a.createElement(S,{query:e.query,update:e.update,responseParameter:e.response.inputParameters,pastEventsResponse:e.pastEventsResponse}):null;return d.a.createElement("div",{className:"finder__filters"},d.a.createElement("h2",{className:"finder__filters__heading"},d.a.createElement("span",{className:"finder__filters__heading__text"},d.a.createElement("span",{className:"far fa-sliders-h icon","aria-hidden":"true"})," ","Filter ".concat(e.config.summariseAs.plural)),r),d.a.createElement("fieldset",null,d.a.createElement("div",{className:"wrapper--finder_filters--filters"},e.config.facetLabels.map(a=>{if(!function(e,a){const t=Object.keys(a);return!e.dependency||!!(0<=t.indexOf(e.dependency)&&""!==a[e.dependency])}(a,e.query.facets))return null;switch(a.type){case"select":return d.a.createElement(D,{key:a.meta,facet:a,query:e.query,pastEventsQuery:e.pastEventsQuery,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,pastEventsUpdate:e.pastEventsUpdate,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta)});case"checkbox":return d.a.createElement(j.a,{key:a.meta,facet:a,query:e.query,pastEventsQuery:e.pastEventsQuery,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,pastEventsUpdate:e.pastEventsUpdate,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta)});case"tag":return d.a.createElement(k.a,{key:a.meta,facet:a,query:e.query,pastEventsQuery:e.pastEventsQuery,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,pastEventsUpdate:e.pastEventsUpdate,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta)});default:Object(T.g)("jsError","JavaScript error","finder__filters()","Unknown filter type in finder__filters.js",!0)}}),c,d.a.createElement("p",{className:"finder__filters__nofilters"},"No filters are valid for the current query."),s,l)))}function c(e){const[a,t]=Object(m.useState)(!1),[n,s]=Object(m.useState)({});Object(m.useEffect)(()=>{n.activate||s(C()(M(),{initialFocus:M().querySelector(".wrapper--finder__filters--mobile__apply"),onDeactivate:()=>t(!1),clickOutsideDeactivates:!0})),a?(n.activate&&n.activate(),Object(F.a)(M().querySelector(".wrapper--finder__filters--mobile__filters"))):(n.deactivate&&n.deactivate(),Object(F.b)(M().querySelector(".wrapper--finder__filters--mobile__filters")))},[a,n]);const r=e.response&&e.response.summary&&e.response.summary.totalMatching,l=1===r?e.summariseAs.singular:e.summariseAs.plural,c=r?"Show ".concat(r," ").concat(l):"Close",i=e.config.displaySort?e.config.sort[0].type!==e.query.sortType||0<Object.keys(e.query.facets).length?d.a.createElement("span",null,"Filters"," ",d.a.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type===e.query.sortType?Object.keys(e.query.facets).length:Object.keys(e.query.facets).length+1,")")):d.a.createElement("span",null,"Filter"):0<Object.keys(e.query.facets).length?d.a.createElement("span",null,"Filters"," ",d.a.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type===e.query.sortType?Object.keys(e.query.facets).length:Object.keys(e.query.facets).length+1,")")):d.a.createElement("span",null,"Filter"),o=a?null:d.a.createElement("button",{type:"button",className:"wrapper--finder__filters--mobile__toggle","aria-haspopup":!0,"aria-expanded":a,onClick:()=>t(!a),"data-filters-applied":!!(0!==Object.keys(e.query.facets).length||e.config.displaySort&&e.config.sort[0].type!==e.query.sortType)},d.a.createElement("span",null,d.a.createElement("span",{className:"far fa-sliders-h icon","aria-hidden":"true"})," ",i));return d.a.createElement("div",{className:"wrapper--finder__filters--mobile","data-open":a,ref:e=>U=e},o,d.a.createElement("div",{className:"wrapper--finder__filters--mobile__filters"},d.a.createElement("div",{className:"wrapper--finder__filters--mobile__filters__content"},d.a.createElement(x,{config:e.config,query:e.query,pastEventsQuery:e.pastEventsQuery,response:e.response,pastEventsResponse:e.pastEventsResponse,update:e.update,pastEventsUpdate:e.pastEventsUpdate,clear:e.clear}))),d.a.createElement("div",{className:"wrapper--finder__filters--mobile__apply"},d.a.createElement("button",{type:"button","aria-expanded":a,onClick:()=>t(!a),disabled:e.updating},0===Object.keys(e.query.facets).length?null:d.a.createElement("span",{className:"far fa-chevron-left icon"}),d.a.createElement("span",{"aria-live":"polite"},e.updating?d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",d.a.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},"Updating ",e.summariseAs.plural,"…")):d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},0===Object.keys(e.query.facets).length?"Close":c))))))}function i(e,a){return e.map(e=>{const t={};return a.get("meta_".concat(e.meta,"_sand"))&&(t[e.meta]=a.get("meta_".concat(e.meta,"_sand"))),t}).reduce((e,a)=>Object.assign(e,a))}function o(e){const a=new URLSearchParams(window.location.search),t={collection:e.config.collection,facets:0<e.config.facetLabels.length?i(e.config.facetLabels,a):{},fixedFacets:e.config.fixedFacets,fixedParameters:e.config.fixParameters?e.config.fixParameters:[],interacted:!1,misspelling:null,numRanks:a.get("num_ranks")||e.config.numRanks,query:a.get("query")||"",sortType:e.config.sort[0].type,events:a.get("events")||"",startRank:a.get("start_rank")||1},n=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),s={collection:e.config.collection,facets:0<e.config.facetLabels.length?i(e.config.facetLabels,a):{},fixedFacets:e.config.fixedFacets,fixedParameters:e.config.fixParameters?e.config.fixParameters:[],interacted:!1,misspelling:null,numRanks:a.get("num_ranks")||e.config.numRanks,query:a.get("query")||"",sortType:a.get("query")?"":a.get("sort")||e.config.sort[0].type,events:"past",startRank:a.get("start_rank")||1},r=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),[l,c]=Object(m.useState)(t),[o,u]=Object(m.useState)(n),[p,f]=Object(m.useState)(s),[y,E]=Object(m.useState)(r),[g,h]=Object(m.useState)(!0),[b,v]=Object(m.useState)({cancel:()=>{}}),[N,D]=Object(m.useState)(!1);Object(m.useEffect)(()=>{(function(e,a,t,n,s,r,l){if(window){const c=new URLSearchParams(window.location.search);""===e?c.delete("query"):c.set("query",e),1===a?c.delete("start_rank"):c.set("start_rank",a),n!==l&&""!==n?c.set("sort",n):c.delete("sort"),""===s?c.delete("events"):c.set("events","past"),r.forEach(e=>{t[e.meta]?c.set("meta_".concat(e.meta,"_sand"),t[e.meta]):c.delete("meta_".concat(e.meta,"_sand"))});const i=c.toString().length?"?":"";window.history.replaceState({},"","".concat(window.location.pathname).concat(i).concat(c.toString()))}})(l.query,l.startRank,l.facets,l.sortType,l.events,e.config.facetLabels,e.config.sort[0].type),h(!0),l.interacted&&Q.a.center(e.element.querySelector(".finder__results"),B,-window.innerHeight/I),b.cancel();const[a,t]=Object(_.a)(l.collection,l.fixedFacets,l.fixedParameters,l.query,l.sortType,l.startRank,l.numRanks,l.facets,l.events),[s,i]=Object(_.a)(p.collection,p.fixedFacets,p.fixedParameters,p.query,p.sortType,p.startRank,p.numRanks,p.facets,p.events);v({cancel:()=>{t.cancel(),i.cancel()}}),a.then(e=>{if(u(e),h(!1),e.spell&&0===e.summary.totalMatching){const a=e.spell.text.split(/\|/)[0].trim(),t=l;t.misspelling=l.query,t.query=a,t.startRank=1,c(t),D(!N)}}).then(()=>{l.interacted&&Q.a.center(e.element.querySelector(".finder__results h2"),B)}).catch(()=>{u(n),h(!1)}),s.then(e=>{E(e)}).catch(()=>{E(r),h(!1)})},[N]);const j={query:e=>c(e),results:e=>D(e),updateState:N},k={query:e=>f(e),updateState:N},w=a=>{const t=l,n=p;b.cancel(),t.sortType=a?e.config.sort[0].type:t.sortType,t.facets={},t.events="",t.startRank=1,t.misspelling=null,t.interacted=!0,n.sortType=a?e.config.sort[0].type:n.sortType,n.facets={},n.events="past",n.startRank=1,n.misspelling=null,n.interacted=!0,c(t),f(n),D(!N)},O=e.config.noQuery&&!0===e.config.noQuery?null:d.a.createElement(q,{config:e.config,query:l,pastEventsQuery:p,update:j,pastEventsUpdate:k,updating:g});return d.a.createElement("form",{className:0<e.config.facetLabels.length?"finder":"finder finder--nofilters",onSubmit:e=>{e.preventDefault()}},O,0<e.config.facetLabels.length&&d.a.createElement(d.a.Fragment,null,d.a.createElement(L,{config:e.config,query:l,pastEventsQuery:p,response:o,pastEventsResponse:y,update:j,pastEventsUpdate:k,updating:g,summariseAs:e.config.summariseAs,clear:w}),d.a.createElement("div",{className:"wrapper--finder__filters--desktop"},d.a.createElement(x,{config:e.config,query:l,pastEventsQuery:p,response:o,pastEventsResponse:y,update:j,pastEventsUpdate:k,clear:w}))),d.a.createElement(A.a,{clear:w,config:e.config,query:l,response:o,pastEventsReponse:y,summariseAs:e.config.summariseAs,type:e.config.resultCard,update:j,pastEventsUpdate:k,updating:g}))}t.r(a);var m=t(0),d=t.n(m),u=t(24),p=(t(4),t(23),t(82),t(9),t(25),t(3),t(22),t(5),t(52),t(1)),f=t.n(p),_=t(6),y=t(55);const E=5,g="Escape",h="End",b="Home",v="ArrowUp",N="ArrowDown";n.propTypes={config:f.a.object,query:f.a.object,pastEventsQuery:f.a.object,update:f.a.object,pastEventsUpdate:f.a.object,updating:f.a.bool};var q=n;s.propTypes={facet:f.a.object,query:f.a.object,responseFacet:f.a.arrayOf(f.a.object),update:f.a.object,pastEventsUpdate:f.a.object,dependencies:f.a.arrayOf(f.a.object)};var D=s,j=t(32),k=t(33),w=t(17),O=t(15);r.propTypes={facet:f.a.object,responseParameter:f.a.object,query:f.a.object,pastEventsResponse:f.a.object,update:f.a.object,dependencies:f.a.arrayOf(f.a.object)};var S=r,T=t(2);l.propTypes={config:f.a.object,query:f.a.object,pastEventsQuery:f.a.object,response:f.a.object,pastEventsResponse:f.a.object,update:f.a.object,pastEventsUpdate:f.a.object,clear:f.a.func};var x=l,R=t(16),C=t.n(R),F=t(19);let U=null;const M=()=>U;c.propTypes={config:f.a.object,query:f.a.object,pastEventsQuery:f.a.object,response:f.a.object,pastEventsResponse:f.a.object,update:f.a.object,pastEventsUpdate:f.a.object,clear:f.a.func,updating:f.a.bool,summariseAs:f.a.object};var L=c,A=t(56),P=t(8),Q=t.n(P);const B=Object(T.l)()?0:1e3,I=10;o.propTypes={config:f.a.object,element:f.a.object},document.addEventListener("DOMContentLoaded",()=>{if(!/(Trident|MSIE)/.test(navigator.userAgent)){const e=document.querySelector(".wrapper--events");e&&Object(_.b)(e.dataset.config).then(a=>{Object(u.render)(d.a.createElement(o,{config:a,element:e}),e)})}})},32:function(e,a,t){"use strict";function n(e){const a=Math.random().toString(16).slice(-4),t=e.facet.meta in e.query.facets,n=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values.filter(a=>a.data.toLowerCase()===e.facet.checkedValue.toLowerCase());if(n&&n[0]&&0<n[0].count){const s=()=>{const a=e.query;e.dependencies.map(e=>{delete a.facets[e.meta]}),t?delete a.facets[e.facet.meta]:a.facets[e.facet.meta]=e.facet.checkedValue,a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)};return i.a.createElement("div",{className:"finder__filter finder__checkbox"},i.a.createElement("input",{type:"checkbox",id:"meta_".concat(e.facet.meta,"_sand--").concat(a),name:"meta_".concat(e.facet.meta,"_sand"),value:e.facet.checkedValue,onChange:()=>s(),checked:t}),i.a.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:()=>s()},t?i.a.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),i.a.createElement("label",{className:"finder__filters__label--always",htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(a)},e.facet.name,!t&&n&&" ("+n[0].count+")"))}return null}var s=t(4),r=(t.n(s),t(9)),l=(t.n(r),t(5)),c=(t.n(l),t(0)),i=t.n(c),o=t(1),m=t.n(o);n.propTypes={facet:m.a.object,query:m.a.object,responseFacet:m.a.arrayOf(m.a.object),update:m.a.object,dependencies:m.a.arrayOf(m.a.object)},a.a=n},33:function(e,a,t){"use strict";function n(e){return e.query.facets[e.facet.meta]?c.a.createElement("div",{className:"finder__filter finder__tag"},c.a.createElement("button",{onClick:()=>(()=>{const a=e.query;e.dependencies.map(e=>{delete a.facets[e.meta]}),delete a.facets[e.facet.meta],a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)})(),type:"button"},c.a.createElement("span",{className:"fa-fw far fa-times icon","aria-hidden":"true"}),c.a.createElement("span",{className:"finder__tag__text"},c.a.createElement("span",{className:"sr-only"},"Remove filter for "),e.facet.name,":"," ",e.facet.values.filter(a=>a.data.toLowerCase()===e.query.facets[e.facet.meta].toLowerCase())[0].label))):null}var s=t(4),r=(t.n(s),t(5)),l=(t.n(r),t(0)),c=t.n(l),i=t(1),o=t.n(i);n.propTypes={facet:o.a.object,query:o.a.object,responseFacet:o.a.arrayOf(o.a.object),update:o.a.object,dependencies:o.a.arrayOf(o.a.object)},a.a=n},34:function(e,a,t){"use strict";function n(e){var a=Math.ceil;const t=a(e.totalMatching/e.numRanks),n=a(e.currStart/e.numRanks),s=[],l=a=>{const t=1+(a-1)*e.numRanks,n=e.query;n.startRank=t,n.misspelling=null,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)};s.push(r.a.createElement("button",{className:"pagination__controls__button--prev",key:"prev",type:"button",disabled:1===n,onClick:()=>{l(n-1)}},r.a.createElement("span",null,"Previous page")));for(let e=1;e<=t;e++){let a;switch(e-t){case 0:a="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:a="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:a="pagination__controls__element pagination__controls__button"}s.push(r.a.createElement("button",{"aria-current":e===n?"page":null,"aria-expanded":e===n,"aria-label":"Open page ".concat(e),className:a,"data-page":e,"data-proximity":Math.abs(e-n),disabled:e===n,key:e,type:"button",onClick:()=>{l(e)}},r.a.createElement("span",null,e))),1===e?s.push(r.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},r.a.createElement("span",null,"…"))):e===t-1&&s.push(r.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},r.a.createElement("span",null,"…")))}return s.push(r.a.createElement("button",{className:"pagination__controls__button--next",key:"next",type:"button",disabled:n===t,onClick:()=>{l(n+1)}},r.a.createElement("span",null,"Next page"))),r.a.createElement("div",{className:"pagination__wrapper"},r.a.createElement("nav",{className:"pagination__controls","data-pagecount":t},s))}var s=t(0),r=t.n(s),l=t(1),c=t.n(l);n.propTypes={currStart:c.a.number,query:c.a.object,numRanks:c.a.number,totalMatching:c.a.number,update:c.a.object},a.a=n},35:function(e,a,t){"use strict";function n(e){const a=e=>0<_(e/60)?_(e/60)+" hour "+e%60:e,t=e.details.metaData.thumbnail&&E.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"",className:"card__thumbnail"}),n=e.details.metaData.level&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",E.a.createElement("span",{className:"sr-only"},"Level:")," ",E.a.createElement("span",null,Object(b.p)(e.details.metaData.level).split("|").join(" or "))),s=Object.keys(e.details.metaData).filter(a=>["accessible","catered","ensuite"].includes(a)&&"Yes"===e.details.metaData[a]).map(e=>e.replace(/ensuite/,"en suite")).sort().join(", "),r=e.details.metaData.type&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",E.a.createElement("span",{className:"sr-only"},"Type:")," ",E.a.createElement("span",null,2<e.details.metaData.type.split("|").length?Object(b.p)(e.details.metaData.type).split("|").slice(0,-1).join(", ")+" or "+Object(b.p)(e.details.metaData.type).split("|").slice(-1):Object(b.p)(e.details.metaData.type).split("|").join(" or "),s&&" ("+s+")")),l=e.details.metaData.price&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",E.a.createElement("span",{className:"sr-only"},"Price:")," ",E.a.createElement("span",null,e.details.metaData.price," (",e.details.metaData.deposit," deposit)")),c=e.details.metaData.transport&&E.a.createElement(E.a.Fragment,null," ","(",a(e.details.metaData.transport)," minutes by public transport)"),i=e.details.metaData.walk&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",E.a.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:")," ",E.a.createElement("span",null,a(e.details.metaData.walk)," minutes walk to campus",c));return E.a.createElement("li",{className:"card card--accommodation"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},t,E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),i,r,l,n)))}function s(e){const a=e.details.metaData.status?E.a.createElement("p",{className:"card__type"},e.details.metaData.status):e.details.metaData.type&&E.a.createElement("p",{className:"card__type"},e.details.metaData.type),t=e.details.metaData.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",E.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),n=e.details.metaData.department&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Department:")," ",E.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and "))),s=e.details.metaData.centre&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Research centre:")," ",E.a.createElement("span",null,2<e.details.metaData.centre.split("|").length?e.details.metaData.centre.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.centre.split("|").slice(-1):e.details.metaData.centre.split("|").join(", and ")));return E.a.createElement("li",{className:"card card--casestudy"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),a,E.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),t,n,s)))}function r(e){const a=e.details.metaData.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",E.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),t=e.details.metaData.department&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Department:")," ",E.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and "))),n=e.details.metaData.related&&E.a.createElement("p",{className:"card__type"},2<e.details.metaData.related.split("|").length?Object(b.p)(e.details.metaData.related).split("|").slice(0,-1).join(", ")+" and "+Object(b.p)(e.details.metaData.related).split("|").slice(-1):Object(b.p)(e.details.metaData.related).split("|").join(" and "));return E.a.createElement("li",{className:"card card--centre"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),n,E.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),a,t)))}function l(e){const a=e.details.metaData.department&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Department:")," ",e.details.metaData.department),t=e.details.metaData.jobtitle&&E.a.createElement("p",{className:"card__type"},e.details.metaData.jobtitle),n=e.details.metaData.email&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Email:")," ",E.a.createElement("a",{href:"mailto:"+e.details.metaData.email},e.details.metaData.email)),s=e.details.metaData.telephone&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Telephone:")," ",E.a.createElement("a",{href:"tel:"+e.details.metaData.telephone},e.details.metaData.friendlytelephone)),r=e.details.metaData.room&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Room:")," ",e.details.metaData.room),l=e.details.metaData.enquiryurl&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-edit icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Enquiries:")," ",E.a.createElement("a",{href:e.details.metaData.enquiryurl},e.details.metaData.enquirylabel));return E.a.createElement("li",{className:"card card--contact"},E.a.createElement("div",{className:"card__details"},E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),t,a,r,n,s,l)))}function c(e){const a=e.details.metaData.type||e.details.metaData.level||null,t=e.details.metaData.qualification&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Award",1<e.details.metaData.qualification.split("|").length&&"s",":")," ",E.a.createElement("span",null,e.details.metaData.qualification.split("|").join(", "))),n=e.details.metaData.duration&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Duration:")," ",E.a.createElement("span",null,e.details.metaData.duration)),s=e.details.metaData.method&&(e.query.facets&&e.query.facets.method||0<=e.query.query.indexOf(e.details.metaData.method)||0<=e.details.metaData.method.indexOf("Online"))&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-book-reader icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Method",1<e.details.metaData.method.split("|").length&&"s"," ","of study:")," ",E.a.createElement("span",null,Object(b.p)(e.details.metaData.method).split("|").join(", "))),r=e.details.metaData.location&&e.query.facets&&e.query.facets.location&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Location:")," ",E.a.createElement("span",null,e.details.metaData.location.split("|").join(", "))),l=e.details.metaData.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",E.a.createElement("span",null,e.details.metaData.school)),c=["Yes","yes"].includes(e.details.metaData.clearing)&&E.a.createElement("div",{className:"card__label card--course__label--clearing"},E.a.createElement("p",{className:"card__label card--course__label--clearing"},"Clearing")),i=0<=e.details.indexUrl.indexOf("cass.city.ac.uk")&&E.a.createElement(E.a.Fragment,null," ",E.a.createElement("span",{className:"fas fa-external-link icon","aria-label":"(external link)"})),o=e.details.metaData.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some(a=>0<=e.details.metaData.level.indexOf(a))||0<=e.query.query.indexOf(e.details.metaData.code))?E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Course code",1<e.details.metaData.code.split("|").length&&"s",":")," ",E.a.createElement("span",null,e.details.metaData.code.split("|").join("/"))):null;return E.a.createElement("li",{className:"card card--course"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},E.a.createElement("div",{className:"wrapper--card__label__details"},c,E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.query.query?j(e.details.title,e.query.query):e.details.title,i),E.a.createElement("p",{className:"card__type"},e.query.query?j(a,e.query.query):a&&a),E.a.createElement("p",{className:"card__description"},e.query.query?j(e.details.metaData.c,e.query.query):e.details.metaData.c&&e.details.metaData.c),l,t,n,o,s,r))))}function i(e){const a=e.details.metaData.d&&function(e){const a=new Date(e),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getUTCMonth()];return E.a.createElement("p",{className:"card--event__label--shortdate"},t," ",E.a.createElement("span",null,a.getUTCDate()))}(e.details.metaData.d.split("|")[0]),t=e.details.metaData.location&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw icon fa-map-marker-alt","aria-hidden":"true"})," ",E.a.createElement("span",null,"Location:")," ",E.a.createElement("span",null,e.details.metaData.location.split("|").join(", "))),n=e.details.metaData.audience&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw icon fa-users","aria-hidden":"true"})," ",E.a.createElement("span",null,"Audience:")," ",E.a.createElement("span",null,e.details.metaData.audience)),s=e.details.metaData.thumbnail&&E.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"",className:"card__thumbnail"});return E.a.createElement("li",{className:"card card--event card--landscape"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},s,a,E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),E.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),t,n)))}function o(e){const a=e.details.metaData.school&&e.query.facets&&e.query.facets.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",E.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", or "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", or "))),t="1"===e.details.metaData.hardship&&E.a.createElement("div",{className:"card--funding__label--hardship"},E.a.createElement("p",null,"Hardship funding")),n=e.details.metaData.level&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Funding for:")," ",E.a.createElement("span",null,2<e.details.metaData.level.split("|").length?Object(b.p)(e.details.metaData.level).split("|").slice(0,-1).join(", ")+" or "+Object(b.p)(e.details.metaData.level).split("|").slice(-1):Object(b.p)(e.details.metaData.level).split("|").join(" or "))),s=e.details.metaData.feestatus&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Fee status:")," ",E.a.createElement("span",null,2<e.details.metaData.feestatus.split("|").length?e.details.metaData.feestatus.split("|").slice(0,-1).join(", ")+" or "+e.details.metaData.feestatus.split("|").slice(-1):e.details.metaData.feestatus.split("|").join(" or ")));return E.a.createElement("li",{className:"card card--funding"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},t,E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),E.a.createElement("p",{className:"card__type"},e.details.metaData.type),E.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),n,s,a)))}function m(e){const a=e.details.metaData.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",E.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),t=e.details.metaData.department&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Department:")," ",E.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and ")));return E.a.createElement("li",{className:"card card--generic"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),E.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),a,t)))}function d(e){const a=e.details.metaData.location&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Location:")," ",E.a.createElement("span",null,e.details.metaData.location)),t=e.details.metaData.code?E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{className:"card--module__code"},e.details.metaData.code)," ",E.a.createElement("span",null,e.details.title)):E.a.createElement(E.a.Fragment,null,E.a.createElement("span",null,e.details.title)),n=e.details.metaData.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",E.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),s=e.details.metaData.term&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Semester:")," ",E.a.createElement("span",null,2<e.details.metaData.term.split("|").length?"All year":e.details.metaData.term.split("|").join(" or "))),r=e.details.metaData.related&&E.a.createElement("p",{className:"card__type"},e.details.metaData.related.split("|").sort().map((e,a)=>0<a?e.toLowerCase():e).join(", ")),l=e.details.metaData.specification&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",E.a.createElement("a",{href:e.details.metaData.specification},"Download module specification"));return E.a.createElement("li",{className:"card card--module"},E.a.createElement("div",{className:"card__details"},E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},t),r,E.a.createElement("p",{className:"card__description"},e.details.metaData.c),s,n,a,l)))}function u(e){const a=Object(b.f)(new Date(e.details.metaData.d)),t=e.details.metaData.d&&E.a.createElement("p",{className:"card__type"},a),n=e.details.metaData.hashtagtext&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Hashtag",1<e.details.metaData.hashtagtext.split("|").length&&"s",":")," ",E.a.createElement("span",null,e.details.metaData.hashtagtext.split("|").join(", "))),s=e.details.metaData.thumbnail&&E.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"",className:"card__thumbnail"});return E.a.createElement("li",{className:"card card--news"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},s,E.a.createElement("div",{className:"card__details__text"},t,E.a.createElement("h3",{className:"card__heading"},e.details.title),E.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),n)))}function p(e){const a=e.details.metaData.school&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"School:")," ",e.details.metaData.school),t=e.details.metaData.department&&E.a.createElement("p",{className:"card__tag"},E.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Department:")," ",e.details.metaData.department),n=e.details.metaData.thumbnail&&E.a.createElement("div",{className:"card__thumbnail"},E.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"Photo of "+e.details.title})),s=e.details.metaData.thumbnail&&"card--profile--thumbnailAvailable",r=e.query.facets&&e.query.facets.country&&e.details.metaData.country&&E.a.createElement("div",{className:"card__tag"},E.a.createElement("span",{className:"fad fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",E.a.createElement("span",null,"Country:")," ",2<e.details.metaData.country.split("|").length?e.details.metaData.country.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.country.split("|").slice(-1):e.details.metaData.country.split("|").join(" and "));return E.a.createElement("li",{className:"card card--profile"},E.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details ".concat(s)},n,E.a.createElement("div",{className:"card__details__text"},E.a.createElement("h3",{className:"card__heading"},e.details.title),E.a.createElement("p",{className:"card__type"},e.details.metaData.jobtitle),a,t,r)))}function f(e){switch(e.type){case"accommodation":return E.a.createElement(v,{details:e.details});case"casestudy":return E.a.createElement(N,{details:e.details});case"centre":return E.a.createElement(q,{details:e.details,query:e.query});case"contact":return E.a.createElement(D,{details:e.details,query:e.query});case"course":return E.a.createElement(k,{details:e.details,query:e.query});case"event":return E.a.createElement(w,{details:e.details});case"funding":return E.a.createElement(O,{details:e.details,query:e.query});case"module":return E.a.createElement(T,{details:e.details,query:e.query});case"news":return E.a.createElement(x,{details:e.details});case"profile":return E.a.createElement(R,{details:e.details,query:e.query});default:return E.a.createElement(S,{details:e.details})}}var _=Math.floor,y=t(0),E=t.n(y),g=t(1),h=t.n(g),b=(t(14),t(3),t(2));n.propTypes={details:h.a.object};var v=n;s.propTypes={details:h.a.object};var N=s;r.propTypes={details:h.a.object,query:h.a.object};var q=r;l.propTypes={details:h.a.object};var D=l,j=(t(23),(e,a)=>a?e:E.a.createElement(E.a.Fragment,null,e.split(a).reduce((e,t,n)=>n?e.concat(E.a.createElement("span",{className:"highlightText",key:a+t},a),t):[t],[])));c.propTypes={details:h.a.object,query:h.a.object};var k=c;i.propTypes={details:h.a.object};var w=i;o.propTypes={details:h.a.object,query:h.a.object};var O=o;m.propTypes={details:h.a.object};var S=m;d.propTypes={details:h.a.object,query:h.a.object};var T=d;u.propTypes={details:h.a.object};var x=u;p.propTypes={details:h.a.object,query:h.a.object};var R=p;f.propTypes={details:h.a.object,query:h.a.object,type:h.a.string},a.a=f},55:function(e,a,t){"use strict";function n(e){return r.a.createElement("button",{className:"finder__clear",type:"button",onClick:()=>{e.clear(e.resetSort)}},r.a.createElement("span",{className:"fad fa-fw fa-times-circle icon "}),r.a.createElement("span",{className:"finder__clear__text"},"Clear query"))}var s=t(0),r=t.n(s),l=t(1),c=t.n(l);n.propTypes={clear:c.a.func,resetSort:c.a.bool},a.a=n},56:function(e,a,t){"use strict";function n(e){return i.a.createElement("li",{className:"card card--bestbet"},i.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},i.a.createElement("div",{className:"card__details__text"},i.a.createElement("h3",{className:"card__heading"},e.details.title),i.a.createElement("p",{className:"card__description"},e.details.description))))}function s(e){return e.query.misspelling?i.a.createElement("p",{className:"finder__results__didyoumean"},"No ",e.summariseAs.plural," found for “",e.query.misspelling,"”. Searching instead for “",e.query.query,"”."):i.a.createElement("p",{className:"finder__results__didyoumean"},"Did you mean"," ",i.a.createElement("button",{type:"button",className:"finder__didyoumean__button",onClick:()=>{const a=e.query;a.query=e.response.spell.text.split(/\|/)[0].trim(),a.startRank=1,a.misspelling=null,a.interacted=!0,a.facets={},e.update.query(a),e.update.results(!e.update.updateState)}},"“",e.response.spell.text.split(/\|/)[0].trim(),"”"),"?")}function r(e){const a=1===e.totalMatching?e.summariseAs.singular:e.summariseAs.plural,t=new Intl.NumberFormat("en-GB"),n=1<e.config.sort.length&&e.config.displaySort?i.a.createElement("div",{className:"wrapper--finder__select--sort--desktop"},i.a.createElement(f.a,{config:e.config,query:e.query,update:e.update})):null;return 0===e.totalMatching?i.a.createElement("div",{className:"finder__results__summary finder__results__summary--noresults"},i.a.createElement("h2",{className:"finder__results__summary__heading"},"Your search did not match any ",e.summariseAs.plural,"."),i.a.createElement("p",null,"Suggestions:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Make sure that all words are spelled correctly"),i.a.createElement("li",null,"Try different keywords"),i.a.createElement("li",null,"Try more general keywords"),i.a.createElement("li",null,"Try fewer keywords"),i.a.createElement("li",null,"Try fewer filters"),0<Object.keys(e.query.facets).length&&i.a.createElement("li",null,i.a.createElement("button",{type:"button",onClick:()=>{e.clear(!0)}},"Reset filters")),e.query.query&&i.a.createElement("li",null,i.a.createElement("button",{type:"button",onClick:()=>{const a=e.query;a.query="",a.sortType=e.config.sort[0].type,a.misspelling=null,a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)}},"Reset query")))):i.a.createElement("div",{className:"finder__results__summary"},i.a.createElement("h2",{"aria-live":"polite",className:"finder__results__summary__heading"},e.query.query||0<Object.keys(e.query.facets).length?"Matching":"All"," ",a," ",i.a.createElement("span",null,"(showing"," ",e.totalMatching>e.numRanks&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,t.format(e.currStart)),"–",i.a.createElement("span",null,t.format(e.currEnd))," ","of"," "),i.a.createElement("span",null,t.format(e.totalMatching))," ",a,e.query.query&&" for “".concat(e.query.query,"”"),")")),n)}function l(e){const a=i.a.createElement("p",{className:"finder__results__updating","aria-live":"polite"},i.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",i.a.createElement("span",null,"Updating ",e.summariseAs.plural,"…")),t="resultsVariant"in e.config?"finder__results__list finder__results__list--".concat(e.config.resultsVariant):"finder__results__list";if(e.response){const n=i.a.createElement(_,{clear:e.clear,config:e.config,currEnd:e.response.summary.currEnd,currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,summariseAs:e.summariseAs,totalMatching:e.response.summary.totalMatching,update:e.update}),s=(e.query.misspelling||e.response.spell)&&i.a.createElement(p,{query:e.query,summariseAs:e.summariseAs,response:e.response,update:e.update}),r=e.response.summary.totalMatching>e.response.summary.numRanks&&i.a.createElement(y.a,{currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,totalMatching:e.response.summary.totalMatching,update:e.update}),l=0<e.response.bestBets.length||0<e.response.results.length?i.a.createElement("ol",{start:e.response.summary.currStart,className:t},e.response.bestBets.map(e=>i.a.createElement(u,{details:e,key:e.docNum})),e.response.results.map(a=>i.a.createElement(d.a,{bestBet:!1,details:a,key:a.docNum,type:e.type,query:e.query}))):null,c=e.updating?i.a.createElement(i.a.Fragment,null,a):i.a.createElement(i.a.Fragment,null,s,n,l,r);return i.a.createElement("div",{className:"finder__results"},c)}return i.a.createElement("div",{className:"finder__results"},a)}var c=t(0),i=t.n(c),o=t(1),m=t.n(o),d=t(35);n.propTypes={details:m.a.object};var u=n;t(3),t(22);s.propTypes={query:m.a.object,response:m.a.object,summariseAs:m.a.object,update:m.a.object};var p=s,f=t(15);r.propTypes={clear:m.a.func,config:m.a.object,currEnd:m.a.number,currStart:m.a.number,numRanks:m.a.number,query:m.a.object,summariseAs:m.a.object,totalMatching:m.a.number,update:m.a.object};var _=r,y=t(34);l.propTypes={clear:m.a.func,query:m.a.object,response:m.a.object,summariseAs:m.a.object,type:m.a.string,update:m.a.object,updating:m.a.bool},a.a=l},6:function(e,a,t){"use strict";function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a,t=1;t<arguments.length;t++)a=null==arguments[t]?{}:arguments[t],t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}));return e}function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a,t,n,r,l,c,i,o){const d={};t.forEach(e=>{d["".concat(e.name)]=e.value});const y={};a.forEach(e=>{y["meta_".concat(e.meta,"_sand")]=e.value});const E={};Object.keys(i).forEach(e=>E["meta_".concat(e,"_sand")]=i[e]);const h=m.a.CancelToken.source(),b={baseURL:f,cancelToken:h.token,httpsAgent:new u.a.Agent({keepAlive:!0}),url:_,timeout:g,params:s(s(s(s({},d),y),E),{},{collection:e,num_ranks:c,query:n,sort:r||"",start_rank:l,events:o||""})};return[Object(p.b)(b),h]}function c(e,a){const t=m.a.CancelToken.source(),n={baseURL:f,cancelToken:t.token,url:y,timeout:g,params:{collection:e,partial_query:a,show:E}};return[Object(p.b)(n),t]}function i(e){return Object(p.b)({timeout:g,url:e})}t.d(a,"a",(function(){return l})),t.d(a,"c",(function(){return c})),t.d(a,"b",(function(){return i}));var o=t(7),m=t.n(o),d=t(36),u=t.n(d),p=t(2);const f="https://www.city.ac.uk/web-services",_="/funnelback-find",y="/funnelback-suggest",E=100,g=3e4},66:function(){},67:function(){}});