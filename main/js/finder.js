!function(e){function a(a){for(var n,r,c=a[0],i=a[1],o=a[2],u=0,m=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(a);m.length;)m.shift()();return l.push.apply(l,o||[]),t()}function t(){for(var e,a=0;a<l.length;a++){for(var t=l[a],n=!0,c=1;c<t.length;c++){var i=t[c];0!==s[i]&&(n=!1)}n&&(l.splice(a--,1),e=r(r.s=t[0]))}return e}var n={},s={6:0},l=[];function r(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=n,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)r.d(t,n,function(a){return e[a]}.bind(null,n));return t},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var o=0;o<c.length;o++)a(c[o]);var d=i;l.push([79,2,1,0,3]),t()}({107:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),l=t(10),r=t(1),c=t.n(r),i=t(4),o=t(21);const d="Escape",u="ArrowDown";function m(e){const[a,t]=Object(n.useState)(e.query.query||""),[l,r]=Object(n.useState)([]),[c,m]=Object(n.useState)({cancel:()=>{}}),[p]=Object(n.useState)("finder--"+e.query.collection),[f,_]=Object(n.useState)(!1),[y,h]=Object(n.useState)("");Object(n.useEffect)(()=>{t(e.query.query)},[e.query.query,e.updating]);let E=null;function g(){E.focus()}const b=()=>{c.cancel(),t(""),r([]),g();const a=e.query;a.misspelling=null,a.query="",a.sortType=e.config.sort[0].type,a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)},N=t=>{c.cancel(),r([]);const n=e.query;n.misspelling=null,n.query=t||a||"",n.sortType=a?"":e.config.sort[0].type,n.startRank=1,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)},M=a&&s.a.createElement(o.a,{clear:()=>{b()}}),v=e=>{_(!1),r([]),g(),N(e)},j=l&&l.length>0&&s.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":y,className:f?"finder__query__suggestions show":"finder__query__suggestions hide"},[...new Set(l)].slice(0,5).map((e,t)=>s.a.createElement("li",{key:e,role:"option",id:p+"--"+t},s.a.createElement("button",{type:"button",onBlur:()=>{h(""),_(!1)},onFocus:()=>_(!0),onMouseDown:()=>v(e),onClick:()=>v(e),onKeyDown:e=>{switch(e.key){case d:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),r([]),h("");break;case"ArrowUp":e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),h(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),h(""));break;case u:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),h(e.target.parentNode.nextElementSibling.id));break;case"Home":e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),h(e.target.parentNode.firstChild.id));break;case"End":e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),h(e.target.parentNode.lastChild.id))}}},function(e,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("span",{className:"sr-only"},e),s.a.createElement("span",{"aria-hidden":"true"},s.a.createElement("span",{className:"finder__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(e,a))))),q=s.a.createElement("div",{className:"finder__query__input"},s.a.createElement("div",{className:"finder__query__icon--wrapper"},s.a.createElement("span",{className:"finder__icon fal fa-sharp fa-search icon","aria-hidden":"true"})),s.a.createElement("label",{className:"sr-only",htmlFor:p},"Search "+e.config.summariseAs.plural),s.a.createElement("input",{autoComplete:"off",id:p,name:"query",placeholder:e.config.placeholder,ref:e=>{E=e},type:"text",value:a,onKeyDown:e=>{switch(e.key){case d:b();break;case u:l&&l.length>0&&(e.preventDefault(),e.target.parentNode.querySelector(".finder__query__suggestions button").focus(),h(e.target.parentNode.querySelector(".finder__query__suggestions li").id))}},onFocus:()=>_(!0),onBlur:()=>_(!1),onChange:a=>{if(r([]),t(a.target.value),c.cancel(),a.target.value){const[t,n]=Object(i.c)(e.query.collection,a.target.value,!!e.config.dxp&&e.config.dxp);m({cancel:()=>{n.cancel()}}),t.then(e=>r(e)).catch(()=>r([]))}else r([])}}),j,M);return s.a.createElement("fieldset",{className:"finder__query"},s.a.createElement("div",null,q,s.a.createElement("button",{type:"submit",className:"finder__query__submit",onClick:()=>N()},s.a.createElement("span",{className:"fal fa-sharp fa-search finder__query__submit__icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"finder__query__submit__text"},"Find"))))}m.propTypes={config:c.a.object,query:c.a.object,update:c.a.object,updating:c.a.bool};var p=m;function f(e){const a=e.mobile?"mobile":"desktop",t=e.query.facets[e.facet.meta]||"",n=e.facet.values.reduce((e,a)=>[...e,a],[]),l=e.responseFacet[0]&&e.responseFacet[0].allValues?e.responseFacet[0].allValues.reduce((e,a)=>[...e,a.data],[]):[],r=n.map(e=>e.data).filter(e=>l.indexOf(e.toLowerCase())<0).length;return e.facet.values.length>r?s.a.createElement("div",{className:"finder__filter finder__select "+(t&&"finder__select--selected")},s.a.createElement("label",{htmlFor:`meta_${e.facet.meta}_and--${a}`},e.facet.name),s.a.createElement("select",{name:`meta_${e.facet.meta}_and`,id:`meta_${e.facet.meta}_and--${a}`,onChange:a=>(a=>{const t=e.query;e.dependencies.map(e=>{delete t.facets[e.meta]}),a?t.facets[e.facet.meta]=a:delete t.facets[e.facet.meta],t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value),value:t},s.a.createElement("option",{value:"",id:`meta${e.facet.meta}all--${a}`,name:`meta_${e.facet.meta}_and--${a}`},e.facet.noSelection),e.facet.values.map((a,n)=>{const l=e.responseFacet[0]&&e.responseFacet[0].allValues&&e.responseFacet[0].allValues.filter(e=>e.data.toLowerCase()===a.data.toLowerCase());return t.toLowerCase()===a.data.toLowerCase()||l&&l[0]?s.a.createElement("option",{key:n,value:a.data.toLowerCase()},a.label,t!==a.data&&l[0]&&l[0].count>0?` (${l[0].count})`:""):null}))):null}f.propTypes={facet:c.a.object,query:c.a.object,responseFacet:c.a.arrayOf(c.a.object),update:c.a.object,dependencies:c.a.arrayOf(c.a.object),mobile:c.a.bool};var _=f;function y(e){const a=new Date,t=a.getUTCFullYear(),n=a.getUTCMonth()>=10?a.getUTCMonth():"0"+(a.getUTCMonth()+1),l=a.getUTCDate(),r=`${t}${n}${l>=10?l:"0"+l}`,c=e.mobile?"mobile":"desktop",i=e.query.facets[e.facet.meta]||"",o=e.facet.values.reduce((e,a)=>[...e,a],[]),d=e.responseFacet[0]&&e.responseFacet[0].allValues?e.responseFacet[0].allValues.reduce((e,a)=>[...e,a.data],[]):[],u=o.map(e=>e.data).filter(e=>d.indexOf(e.toLowerCase())<0).length;return e.facet.values.length>u?s.a.createElement("div",{className:"finder__filter finder__select "+(i&&"finder__select--selected")},s.a.createElement("label",{htmlFor:`meta_${e.facet.meta}_and--${c}`},e.facet.name),s.a.createElement("select",{name:`meta_${e.facet.meta}_and`,id:`meta_${e.facet.meta}_and--${c}`,onChange:a=>(a=>{const t=e.query;e.dependencies.map(e=>{delete t.facets[e.meta]}),a?t.facets[e.facet.meta]=a:delete t.facets[e.facet.meta],e.query.parameters.events?t.parameters.lt_eventDate=r:t.parameters.ge_eventDate=r,t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value),value:i},s.a.createElement("option",{value:"",id:`meta${e.facet.meta}all--${c}`,name:`meta_${e.facet.meta}_and--${c}`},e.facet.noSelection),e.facet.values.map((a,t)=>{const n=e.responseFacet[0]&&e.responseFacet[0].allValues&&e.responseFacet[0].allValues.filter(e=>e.data.toLowerCase()===a.data.toLowerCase());return i.toLowerCase()===a.data.toLowerCase()||n&&n[0]?s.a.createElement("option",{key:t,value:a.data.toLowerCase()},a.label,i!==a.data&&n[0]&&n[0].count>0?` (${n[0].count})`:""):null}))):null}y.propTypes={facet:c.a.object,query:c.a.object,responseFacet:c.a.arrayOf(c.a.object),update:c.a.object,dependencies:c.a.arrayOf(c.a.object),mobile:c.a.bool};var h=y,E=t(22);function g(e){const a=Math.random().toString(16).slice(-4),t=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.fullyMatching,n=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.partiallyMatching,l=e.facet.meta in e.query.parameters,r=t||n||0,c=()=>{let a=e.query;l?delete a.parameters[e.facet.meta]:a.parameters[e.facet.meta]=e.facet.checkedValue,a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)};return r>0?s.a.createElement("div",{className:"finder__filter finder__checkbox"},s.a.createElement("input",{type:"checkbox",id:`${e.facet.funnelbackName}--${a}`,name:e.facet.meta,value:e.facet.checkedValue,onChange:()=>c(),checked:l}),s.a.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:()=>c()},l?s.a.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),s.a.createElement("label",{className:"finder__filters__label--always",htmlFor:`${e.facet.funnelbackName}--${a}`},e.facet.name,!l&&r&&" ("+r+")")):null}g.propTypes={facet:c.a.object,responseParameter:c.a.object,query:c.a.object,pastEventsResponse:c.a.object,update:c.a.object,dependencies:c.a.arrayOf(c.a.object),hasMounted:c.a.bool};var b=g;function N(e){const a=Math.random().toString(16).slice(-4),t=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.fullyMatching,n=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.partiallyMatching,l="lt_eventDate"in e.query.parameters,r=t||n||0,c=new Date,i=c.getUTCFullYear(),o=c.getUTCMonth()>=10?c.getUTCMonth():"0"+(c.getUTCMonth()+1),d=c.getUTCDate(),u=`${i}${o}${d>=10?d:"0"+d}`,m=()=>{let a=e.query;l?(delete a.parameters.lt_eventDate,delete a.parameters.events,a.parameters.ge_eventDate=u,a.sortType="adate"):(delete a.parameters.ge_eventDate,a.parameters.lt_eventDate=u,a.parameters.events="past",a.sortType="date"),a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)};return r>0?e.matrixStat?s.a.createElement("div",{className:"finder__filter finder__select"},s.a.createElement("label",{htmkFor:"event--time"},"Location"),s.a.createElement("select",{name:"event--time",id:"event--time"},s.a.createElement("option",{value:"ge_eventDate!"+u},"Upcoming events"),s.a.createElement("option",{value:"lt_eventDate!"+u},"Past events"))):s.a.createElement("div",{className:"finder__filter finder__checkbox"},s.a.createElement("input",{type:"checkbox",id:`${e.facet.funnelbackName}--${a}`,name:e.facet.meta,value:e.facet.checkedValue,onChange:()=>m(),checked:l}),s.a.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:()=>m()},l?s.a.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),s.a.createElement("label",{className:"finder__filters__label--always",htmlFor:`${e.facet.funnelbackName}--${a}`},e.facet.name,!l&&r&&" ("+r+")")):null}N.propTypes={facet:c.a.object,responseParameter:c.a.object,query:c.a.object,pastEventsResponse:c.a.object,update:c.a.object,dependencies:c.a.arrayOf(c.a.object),hasMounted:c.a.bool,matrixStat:c.a.bool};var M=N;function v(e){return s.a.createElement("input",{type:"hidden",id:e.name,name:e.name,value:e.value})}v.propTypes={name:c.a.string,value:c.a.string};var j=v,q=t(23),k=t(17),w=t(16),S=t(2);function x(e){const a=e.response&&e.response.summary&&e.response.summary.fullyMatching,t=!e.updating&&Object.keys(e.query.facets).length>0?s.a.createElement("div",{className:"finder__filters__reset finder__filters__reset--desktop"},s.a.createElement(k.a,{clear:e.clear,resetSort:!1,matrixState:e.matrixState})):null,n=!e.updating&&Object.keys(e.query.facets).length>0||e.query.sortType!==e.config.sort[0].type?s.a.createElement(k.a,{clear:e.clear,resetSort:!0,matrixState:e.matrixState}):null,l=!e.matrixState&&e.config.sort.length>1&&e.config.displaySort&&a?s.a.createElement("div",{className:"wrapper--finder__select--sort--mobile"},s.a.createElement(w.a,{key:e.mobile?"sort-mobile":"sort-desktop",config:e.config,query:e.query,update:e.update})):null,r=e.matrixState?s.a.createElement("div",{className:"finder__filter__submit"},s.a.createElement("button",{type:"submit",className:"finder__query__submit finder__submit"},s.a.createElement("span",{className:"fal fa-sharp fa-search finder__query__submit__icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"finder__query__submit__text"},"Find"))):null;return s.a.createElement("div",{className:"finder__filters"},s.a.createElement("h2",{className:"finder__filters__heading"},s.a.createElement("span",{className:"finder__filters__heading__text"},s.a.createElement("span",{className:"far fa-sharp fa-sliders-h icon","aria-hidden":"true"})," ","Filter "+e.config.summariseAs.plural),n),s.a.createElement("fieldset",null,!e.hasMounted&&e.query.fixedParameters?e.query.fixedParameters.map(e=>s.a.createElement(j,{key:e.name,name:e.name,value:e.value})):null,s.a.createElement("div",{className:"wrapper--finder_filters--filters"},e.config.facetLabels.map(a=>{if(!function(e,a){const t=Object.keys(a);return!e.dependency||t.indexOf(e.dependency)>=0&&""!==a[e.dependency]}(a,e.query.facets))return null;switch(a.type){case"eventCheckBox":return s.a.createElement(M,{key:a.meta,facet:a,query:e.query,update:e.update,responseParameter:e.response.inputParameters,pastEventsResponse:e.response.extraSearches&&e.response.extraSearches.past&&e.response.extraSearches.past.response,hasMounted:e.hasMounted,matrixStat:e.matrixState});case"paramCheckBox":return s.a.createElement(b,{key:a.meta,facet:a,query:e.query,update:e.update,responseParameter:e.response.inputParameters,pastEventsResponse:e.response.extraSearches&&e.response.extraSearches.past&&e.response.extraSearches.past.response,hasMounted:e.hasMounted,matrixStat:e.matrixState});case"eventSelect":return s.a.createElement(h,{key:a.meta,facet:a,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta),mobile:e.mobile});case"select":return s.a.createElement(_,{key:a.meta,facet:a,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta),mobile:e.mobile});case"checkbox":return s.a.createElement(E.a,{key:a.meta,facet:a,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta),mobile:e.mobile});case"tag":return s.a.createElement(q.a,{key:a.meta,facet:a,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===a.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===a.meta),mobile:e.mobile,hasMounted:e.hasMounted,matrixState:e.matrixState});default:Object(S.k)("jsError","JavaScript error","finder__filters()","Unknown filter type in finder__filters.js",!0)}}),s.a.createElement("p",{className:"finder__filters__nofilters"},"No filters are valid for the current query."),t,l,r)))}x.propTypes={config:c.a.object,query:c.a.object,response:c.a.object,update:c.a.object,clear:c.a.func,mobile:c.a.bool,hasMounted:c.a.bool,matrixState:c.a.bool,updating:c.a.bool};var O=x,T=t(8),C=t.n(T);let R=null;const F=()=>R;function U(e){const[a,t]=Object(n.useState)(!1),[l,r]=Object(n.useState)({});Object(n.useEffect)(()=>{l.activate||r(C()(F(),{initialFocus:F().querySelector(".wrapper--finder__filters--mobile__apply"),onDeactivate:()=>t(!1),clickOutsideDeactivates:!0})),a?(l.activate&&l.activate(),Object(S.f)()):(l.deactivate&&l.deactivate(),Object(S.g)())},[a,l]);const c=e.response&&e.response.summary&&e.response.summary.totalMatching,i=1===c?e.summariseAs.singular:e.summariseAs.plural,o=c?`Show ${c} ${i}`:"Close",d=e.config.displaySort?e.config.sort[0].type!==e.query.sortType||Object.keys(e.query.facets).length>0?s.a.createElement("span",null,"Filters"," ",s.a.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type!==e.query.sortType?Object.keys(e.query.facets).length+1:Object.keys(e.query.facets).length,")")):s.a.createElement("span",null,"Filter"):Object.keys(e.query.facets).length>0?s.a.createElement("span",null,"Filters"," ",s.a.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type!==e.query.sortType?Object.keys(e.query.facets).length+1:Object.keys(e.query.facets).length,")")):s.a.createElement("span",null,"Filter"),u=a?null:s.a.createElement("button",{type:"button",className:"wrapper--finder__filters--mobile__toggle","aria-haspopup":!0,"aria-expanded":a,onClick:()=>t(!a),"data-filters-applied":!!(0!==Object.keys(e.query.facets).length||e.config.displaySort&&e.config.sort[0].type!==e.query.sortType)},s.a.createElement("span",null,s.a.createElement("span",{className:"far fa-sharp fa-sliders-h icon","aria-hidden":"true"})," ",d));return s.a.createElement("div",{className:"wrapper--finder__filters","data-open":a,ref:e=>R=e},u,s.a.createElement("div",{className:"wrapper--finder__filters--mobile__filters"},s.a.createElement("div",{className:"wrapper--finder__filters--mobile__filters__content"},s.a.createElement(O,{config:e.config,query:e.query,response:e.response,update:e.update,clear:e.clear,mobile:e.mobile,hasMounted:e.hasMounted,matrixState:e.matrixState,updating:e.updating}))),s.a.createElement("div",{className:"wrapper--finder__filters--mobile__apply"},s.a.createElement("button",{type:"button","aria-expanded":a,onClick:()=>t(!a),disabled:e.updating},0===Object.keys(e.query.facets).length?null:s.a.createElement("span",{className:"far fa-chevron-left icon"}),s.a.createElement("span",{"aria-live":"polite"},e.updating?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},"Updating ",e.summariseAs.plural,"…")):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},0===Object.keys(e.query.facets).length?"Close":o))))))}U.propTypes={config:c.a.object,query:c.a.object,response:c.a.object,update:c.a.object,clear:c.a.func,updating:c.a.bool,summariseAs:c.a.object,mobile:c.a.bool,hasMounted:c.a.bool,matrixState:c.a.bool};var $=U;function A(e){return s.a.createElement("li",{className:"card card--bestbet"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.description))))}A.propTypes={details:c.a.object};var L=A,D=t(13);function P(e){return e.query.misspelling?s.a.createElement("p",{className:"finder__results__didyoumean"},"No ",e.summariseAs.plural," found for “",e.query.misspelling,"”. Searching instead for “",e.query.query,"”."):s.a.createElement("p",{className:"finder__results__didyoumean"},"Did you mean"," ",s.a.createElement("button",{type:"button",className:"finder__didyoumean__button",onClick:()=>{const a=e.query;a.query=e.response.spell.text.split(/\|/)[0].trim(),a.startRank=1,a.misspelling=null,a.interacted=!0,a.facets={},e.update.query(a),e.update.results(!e.update.updateState)}},"“",e.response.spell.text.split(/\|/)[0].trim(),"”"),"?")}P.propTypes={query:c.a.object,response:c.a.object,summariseAs:c.a.object,update:c.a.object};var I=P,V=t(24);function B(e){return s.a.createElement("li",{className:"card card--finder-promo promo-area__wrap"},s.a.createElement("div",{className:"promo-area layout__left--full"},s.a.createElement("div",{className:"promo-area__content background--pink90"},s.a.createElement("h3",{className:"promo-area__heading"},e.heading),s.a.createElement("div",{className:"promo-area__container"},s.a.createElement("div",{className:"promo-area__text"},s.a.createElement("p",null,e.body),s.a.createElement("p",{className:"cta-block__cta"},s.a.createElement("a",{href:e.linkRef,className:"outline-cta-arrow--bright"},s.a.createElement("span",null,e.linkText))))))))}B.propTypes={heading:c.a.string,body:c.a.string,linkRef:c.a.string,linkText:c.a.string};var H=B;function J(e){const a=1===e.totalMatching?e.summariseAs.singular:e.summariseAs.plural,t=new Intl.NumberFormat("en-GB"),n=e.config.sort.length>1&&e.config.displaySort?s.a.createElement("div",{className:"wrapper--finder__select--sort--desktop"},s.a.createElement(w.a,{config:e.config,query:e.query,update:e.update})):null;return 0===e.totalMatching?s.a.createElement("div",{className:"finder__results__summary finder__results__summary--noresults"},s.a.createElement("h2",{className:"finder__results__summary__heading"},"Your search did not match any ",e.summariseAs.plural,"."),s.a.createElement("p",null,"Suggestions:"),s.a.createElement("ul",null,s.a.createElement("li",null,"Make sure that all words are spelled correctly"),s.a.createElement("li",null,"Try different keywords"),s.a.createElement("li",null,"Try more general keywords"),s.a.createElement("li",null,"Try fewer keywords"),s.a.createElement("li",null,"Try fewer filters"),Object.keys(e.query.facets).length>0&&s.a.createElement("li",null,s.a.createElement("button",{type:"button",onClick:()=>{e.clear(!0)}},"Reset filters")),e.query.query&&s.a.createElement("li",null,s.a.createElement("button",{type:"button",onClick:()=>{const a=e.query;a.query="",a.sortType=e.config.sort[0].type,a.misspelling=null,a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)}},"Reset query")))):s.a.createElement("div",{className:"finder__results__summary"},s.a.createElement("h2",{"aria-live":"polite",className:"finder__results__summary__heading"},e.query.query||Object.keys(e.query.facets).length>0?"Matching":"All"," ",a," ",s.a.createElement("span",null,"(showing"," ",e.totalMatching>e.numRanks&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,t.format(e.currStart)),"–",s.a.createElement("span",null,t.format(e.currEnd))," ","of"," "),s.a.createElement("span",null,t.format(e.totalMatching))," ",a,e.query.query&&` for “${e.query.query}”`,")")),n)}J.propTypes={clear:c.a.func,config:c.a.object,currEnd:c.a.number,currStart:c.a.number,numRanks:c.a.number,query:c.a.object,summariseAs:c.a.object,totalMatching:c.a.number,update:c.a.object};var Y=J,Q=t(54),W=t.n(Q);function z(e){const a=W.a.sanitize(e.announcement,{allowedTags:["strong","p","h2","h3","a"],allowedAttributes:{a:["href"]}});return s.a.createElement("div",{className:"finder__results__announcement"},s.a.createElement("p",{dangerouslySetInnerHTML:{__html:a}}))}z.propTypes={announcement:c.a.string};var G=z;function K(e){const a=s.a.createElement("p",{className:"finder__results__updating","aria-live":"polite"},s.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Updating ",e.summariseAs.plural,"…"));let t,n=!1,l=[];if(e.promo){let a,s=e.promo[0].conditions,r=e.promo[0].details,c={...e.query.facets,searchFacets:e.query.query.toLowerCase()},i=[],o=Object.values(c);for(const e of o)i.push(e);o=o.filter(e=>e);for(const e of o)l=s.filter(a=>a.school===e||a.level===e||a.related===e||a.subject===e||a.type===e||a.searchQuery1===e);l.length>0?(a=l[0].promoGroup)&&(n=!0):n=!1,t=r.filter(e=>e.promoGroup===a)}const r="resultsVariant"in e.config?"finder__results__list finder__results__list--"+e.config.resultsVariant:"finder__results__list";if(e.response){const l=s.a.createElement(Y,{clear:e.clear,config:e.config,currEnd:e.response.summary.currEnd,currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,summariseAs:e.summariseAs,totalMatching:e.response.summary.totalMatching,update:e.update}),c=e.config.announcement&&s.a.createElement(G,{announcement:e.config.announcement}),i=(e.query.misspelling||e.response.spell)&&s.a.createElement(I,{query:e.query,summariseAs:e.summariseAs,response:e.response,update:e.update}),o=e.response.summary.totalMatching>e.response.summary.numRanks&&s.a.createElement(V.a,{currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,totalMatching:e.response.summary.totalMatching,update:e.update});let d,u=e.response.results;if(n&&(e.response.bestBets.length>0||e.response.results.length>0))if(1===e.query.startRank){const a=e.response.results[0],n=Array.from(u.slice(1));d=s.a.createElement("ol",{start:e.response.summary.currStart,className:r},s.a.createElement(D.a,{bestBet:!1,details:a,type:e.type,query:e.query}),s.a.createElement(H,{heading:t[0].heading,body:t[0].body,linkRef:t[0].linkRef,linkText:t[0].linkText}),n.map(a=>s.a.createElement(D.a,{bestBet:!1,details:a,key:a.docNum,type:e.type,query:e.query})))}else d=s.a.createElement("ol",{start:e.response.summary.currStart,className:r},e.response.results.map(a=>s.a.createElement(D.a,{bestBet:!1,details:a,key:a.docNum,type:e.type,query:e.query})));e.response.results&&!n&&(d=e.response.bestBets.length>0||e.response.results.length>0?s.a.createElement("ol",{start:e.response.summary.currStart,className:r},e.response.bestBets.map(e=>s.a.createElement(L,{details:e,key:e.docNum})),e.response.results.map(a=>s.a.createElement(D.a,{bestBet:!1,details:a,key:a.docNum,type:e.type,query:e.query}))):null);const m=e.updating?s.a.createElement(s.a.Fragment,null,a):s.a.createElement(s.a.Fragment,null,i,c,l,d,o);return s.a.createElement("div",{className:"finder__results"},m)}return s.a.createElement("div",{className:"finder__results"},a)}K.propTypes={clear:c.a.func,query:c.a.object,response:c.a.object,summariseAs:c.a.object,type:c.a.string,update:c.a.object,updating:c.a.bool,config:c.a.object,promo:c.a.array,pastEventsQuery:c.a.object,pastEventsResponse:c.a.object,pastEventsUpdate:c.a.object,matrixState:c.a.object};var X=K,Z=t(25),ee=t(26),ae=t(11),te=t(5),ne=t.n(te),se=function(e,a,t,s){const l=Object(S.p)()?0:1e3,r=Object(Z.a)(),c=!(r||!t),o=c?t:new URLSearchParams(window.location.search),d=a||{},u=e.facetLabels.filter(e=>e.nonFBParam),m={collection:e.collection,facets:e.facetLabels.length>0&&o?Object(ae.a)(e.facetLabels,o,c):{},parameters:u.length>0&&o?Object(ae.b)(e.facetLabels,o,c):{},fixedFacets:e.fixedFacets,fixedParameters:e.fixParameters?e.fixParameters:[],interacted:!1,misspelling:null,numRanks:r&&o.get("num_ranks")?o.get("num_ranks"):e.numRanks,query:!c&&o.get("query")?o.get("query"):o&&o.query?o.query:"",sortType:!c&&o.get("query")?"":!c&&o.get("sort")?o.get("sort"):e.sort[0].type,startRank:!c&&o.get("start_rank")?o.get("start_rank"):o&&o.start_rank?o.start_rank:1},p=Object.keys(d).length>0?Object.freeze(a):Object.freeze({bestBets:[],extraSearches:{},facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),[f,_]=Object(n.useState)(m),[y,h]=Object(n.useState)(p),[E,g]=Object(n.useState)(!(Object.keys(d).length>0)),[b,N]=Object(n.useState)({cancel:()=>{}}),[M,v]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{Object(ee.a)(f.query,f.startRank,f.facets,f.parameters,f.sortType,e.facetLabels,e.sort[0].type,r),g(!0),f.interacted&&ne.a.center(s.querySelector(".finder__results"),l,-window.innerHeight/10),b.cancel();const[a,t]=Object(i.a)(f.collection,f.fixedFacets,f.fixedParameters,f.query,f.sortType,f.startRank,f.numRanks,f.facets,f.parameters,!!e.dxp&&e.dxp);N({cancel:()=>{t.cancel()}}),a.then(e=>{h(e),g(!1)}).then(()=>{f.interacted&&ne.a.center(s.querySelector(".finder__results h2"),l)}).catch(()=>{h(p),g(!1)})},[M]),{query:f,funnelbackResponse:y,updating:E,updater:{query:e=>_(e),results:e=>v(e),updateState:M},clear:a=>{const t=f;b.cancel(),t.sortType=a?e.sort[0].type:t.sortType,t.facets={},t.parameters={},t.startRank=1,t.misspelling=null,t.interacted=!0,_(t),v(!M)},hasMounted:r,matrixState:c}};function le(e){const{query:a,funnelbackResponse:t,updating:n,updater:l,clear:r,hasMounted:c,matrixState:i}=se(e.config,e.initialResults||{},e.initialQuery,e.element),o=e.config.noQuery&&!0===e.config.noQuery?null:s.a.createElement(p,{config:e.config,query:a,update:l,updating:n});return s.a.createElement("form",{className:e.config.facetLabels.length>0?"finder":"finder finder--nofilters",onSubmit:e=>{e.preventDefault()}},o,e.config.facetLabels.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement($,{config:e.config,query:a,response:t,update:l,updating:n,summariseAs:e.config.summariseAs,clear:r,mobile:!0,hasMounted:c,matrixState:i})),s.a.createElement(X,{clear:r,config:e.config,query:a,response:t,summariseAs:e.config.summariseAs,type:e.config.resultCard,update:l,updating:n}))}le.propTypes={config:c.a.object,element:c.a.object,initialQuery:c.a.object,initialResults:c.a.object};var re=le;document.addEventListener("DOMContentLoaded",()=>{if(!/(Trident|MSIE)/.test(navigator.userAgent)){const e=document.querySelectorAll(".wrapper--finder");e&&Array.from(e).forEach(e=>{Object(i.b)(e.dataset.config).then(a=>{Object(l.hydrate)(s.a.createElement(re,{config:a,element:e}),e)})})}})},11:function(e,a,t){"use strict";function n(e,a,t){const n=Array.from(e.entries());for(const[s,l]of n)if(s.includes(a)){const n=s.replace(a,t);e.set(n,l),e.delete(s)}return e}function s(e,a,t){const s=a&&n(a,"_sand","_and");return t?e.map(e=>{const a={};return-1!==Object.keys(s).indexOf(e.meta)&&(a[e.meta]=s[e.meta]),a}).reduce((e,a)=>Object.assign(e,a)):e.filter(e=>e.nonFBParam).map(e=>{const a={};return s.get(e.meta)&&(a[e.meta]=s.get(e.meta)),a}).reduce((e,a)=>Object.assign(e,a))}function l(e,a,t){const s=a&&n(a,"_sand","_and");return t?e.map(e=>{const a={};return-1!==Object.keys(s).indexOf(`meta_${e.meta}_and`)&&(a[e.meta]=s[`meta_${e.meta}_and`]),a}).reduce((e,a)=>Object.assign(e,a)):e.map(e=>{const a={};return s.get(`meta_${e.meta}_and`)&&(a[e.meta]=s.get(`meta_${e.meta}_and`)),a}).reduce((e,a)=>Object.assign(e,a))}t.d(a,"c",(function(){return n})),t.d(a,"b",(function(){return s})),t.d(a,"a",(function(){return l}))},13:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l),c=t(2);function i(e){const a=e=>Math.floor(e/60)>0?Math.floor(e/60)+" hour "+e%60:e,t=e.details.listMetadata.thumbnail[0]&&s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),n=e.details.listMetadata.level&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Level:")," ",s.a.createElement("span",null,Object(c.u)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),l=Object.keys(e.details.listMetadata).filter(a=>["accessible","catered","ensuite"].includes(a)&&"Yes"===e.details.listMetadata[a][0]).map(e=>e.replace(/ensuite/,"en suite")).sort().join(", "),r=e.details.listMetadata.type&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Type:")," ",s.a.createElement("span",null,e.details.listMetadata.type.length>2?Object(c.u)(e.details.listMetadata.type.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.u)(e.details.listMetadata.type.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.type.join("|")).split("|").join(" or "),l&&" ("+l+")")),i=e.details.listMetadata.price&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Price:")," ",s.a.createElement("span",null,e.details.listMetadata.price[0]," (",e.details.listMetadata.deposit[0]," deposit)")),o=e.details.listMetadata.transport&&s.a.createElement(s.a.Fragment,null," ","(",a(e.details.listMetadata.transport[0])," ","minutes by public transport)"),d=e.details.listMetadata.location&&e.details.listMetadata.location[0]?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"sr-only"},"Distance to")," ",s.a.createElement("div",{className:"card__details__location card__details__location-"+e.details.listMetadata.location[0].trim().replace(" ","-").toLowerCase()},s.a.createElement("span",{className:"fas fa-fw fa-location-dot icon","aria-hidden":"true"})," ",s.a.createElement("span",null,e.details.listMetadata.location[0]),s.a.createElement("span",{className:"sr-only"}," campus"))):s.a.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:"),u=e.details.listMetadata.walk&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",d,s.a.createElement("span",null,a(e.details.listMetadata.walk[0])," minutes walk to campus",o));return s.a.createElement("li",{className:"card card--accommodation"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},t,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),u,r,i,n)))}i.propTypes={details:r.a.object};var o=i;function d(e){const a=e.details.listMetadata.status?s.a.createElement("p",{className:"card__type"},e.details.listMetadata.status[0]):e.details.listMetadata.type&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),t=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),n=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),l=e.details.listMetadata.centre&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Research centre:")," ",s.a.createElement("span",null,e.details.listMetadata.centre.length>2?e.details.listMetadata.centre.slice(0,-1).join(", ")+", and "+e.details.listMetadata.centre.slice(-1):e.details.listMetadata.centre.join(", and ")));return s.a.createElement("li",{className:"card card--casestudy"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),a,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),t,n,l)))}d.propTypes={details:r.a.object};var u=d;function m(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.listMetadata.related&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.related.length>2?Object(c.u)(e.details.listMetadata.related.join("|")).split("|").slice(0,-1).join(", ")+" and "+Object(c.u)(e.details.listMetadata.related.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.related.join("|")).split("|").join(" and "));return s.a.createElement("li",{className:"card card--centre"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),n,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t)))}m.propTypes={details:r.a.object,query:r.a.object};var p=m;function f(e){const a=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),t=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",e.details.listMetadata.school[0]),n=e.details.listMetadata.jobtitle&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle[0]),l=e.details.listMetadata.email&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Email:")," ",s.a.createElement("a",{href:"mailto:"+e.details.listMetadata.email[0]},e.details.listMetadata.email[0])),r=e.details.listMetadata.altemail&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fad fa-user icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Executive Assistant:")," ",s.a.createElement("a",{href:"mailto:"+e.details.listMetadata.altemail[0]},e.details.listMetadata.altemail[0])),c=e.details.listMetadata.telephone&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Telephone:")," ",s.a.createElement("a",{href:"tel:"+e.details.listMetadata.telephone[0]},e.details.listMetadata.friendlytelephone[0])),i=e.details.listMetadata.room&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Room:")," ",e.details.listMetadata.room[0]),o=e.details.listMetadata.enquiryurl&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-edit icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Enquiries:")," ",s.a.createElement("a",{href:e.details.listMetadata.enquiryurl[0]},e.details.listMetadata.enquirylabel[0]));return s.a.createElement("li",{className:"card card--contact"},s.a.createElement("div",{className:"card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),n,t,a,i,l,c,o,r)))}f.propTypes={details:r.a.object};var _=f,y=(e,a)=>a?e:s.a.createElement(s.a.Fragment,null,e.split(a).reduce((e,t,n)=>n?e.concat(s.a.createElement("span",{className:"highlightText",key:a+t},a),t):[t],[]));const h=["www.citystgeorges.ac.uk"];function E(e){const a=e.details.listMetadata.type&&e.details.listMetadata.type[0]||e.details.listMetadata.level&&e.details.listMetadata.level[0]||null,t=e.details.listMetadata.qualification&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Award",e.details.listMetadata.qualification.length>1&&"s",":")," ",s.a.createElement("span",null,e.details.listMetadata.qualification.join(", "))),n=e.details.listMetadata.duration&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Duration:")," ",s.a.createElement("span",null,e.details.listMetadata.duration[0])),l=e.details.listMetadata.method&&"Short courses and professional development"!==e.details.listMetadata.level[0]&&(e.query.facets&&e.query.facets.method||e.query.query.indexOf(e.details.listMetadata.method[0])>=0||e.details.listMetadata.method[0].indexOf("Online")>=0)&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fa-solid fa-book-open-reader icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Method",e.details.listMetadata.method.length>1&&"s"," of study:")," ",s.a.createElement("span",null,Object(c.u)(Array.from(new Set(e.details.listMetadata.method)).join("|")).split("|").join(", "))),r="tooting"!==String(e.details.listMetadata.location).toLowerCase()?e.details.listMetadata.location&&e.query.facets&&e.query.facets.location&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Location:")," ",s.a.createElement("span",null,"Online|Online"===e.details.listMetadata.location.join("|")?"Online":e.details.listMetadata.location.join(", "))):null,i=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.map((e,a)=>0===a?s.a.createElement(s.a.Fragment,{key:a},e.replace("and","&")):s.a.createElement(s.a.Fragment,{key:a},"| ",e)))),o="tooting"===String(e.details.listMetadata.location).toLowerCase()?s.a.createElement("div",{className:"card__label card--course__label--stgeorges"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ","Tooting Campus")):null,d=e.details.listMetadata.clearing&&["Yes","yes"].includes(e.details.listMetadata.clearing[0])&&s.a.createElement("div",{className:"card__label card--course__label--clearing"},s.a.createElement("p",{className:"card__label card--course__label--clearing"},"Clearing")),u=h.some(a=>e.details.indexUrl.indexOf(a)>=0)?null:s.a.createElement(s.a.Fragment,null," ",s.a.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"})),m=e.details.listMetadata.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some(a=>e.details.listMetadata.level.indexOf(a)>=0)||e.query.query.indexOf(e.details.listMetadata.code)>=0)?s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Course code",e.details.listMetadata.code.length>1&&"s",":")," ",s.a.createElement("span",null,e.details.listMetadata.code.join("/"))):null,p=e.details.listMetadata.entryyears&&(["Undergraduate degree"].some(a=>e.details.listMetadata.level.indexOf(a)>=0)||e.query.query.indexOf(e.details.listMetadata.entryyears)>=0)?s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-calendar icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Year",e.details.listMetadata.entryyears.length>1&&"s"," ","of entry:")," ",s.a.createElement("span",null,e.details.listMetadata.entryyears.join("/"))):null,f=e.details.listMetadata.c&&e.details.listMetadata.c[0]&&s.a.createElement("p",{className:"card__description"},e.query.query?y(e.details.listMetadata.c[0],e.query.query):e.details.listMetadata.c[0]);return s.a.createElement("li",{className:"card card--course"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"wrapper--card__label__details"},d,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.query.query?y(e.details.title,e.query.query):e.details.title,u),s.a.createElement("p",{className:"card__type"},e.query.query?y(a,e.query.query):a&&a),f,o,i,t,n,m,p,l,r))))}E.propTypes={details:r.a.object,query:r.a.object};var g=E;function b(e){const a=e.details.listMetadata.d&&function(e){const a=new Date(e),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getUTCMonth()];return s.a.createElement("p",{className:"card--event__label--shortdate"},s.a.createElement("span",null,a.getUTCDate())," ",t)}(e.details.listMetadata.d[0]),t=e.details.listMetadata.location&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw icon fa-map-marker-alt","aria-hidden":"true"})," ",s.a.createElement("span",null,"Location:")," ",s.a.createElement("span",null,e.details.listMetadata.location.join(", "))),n=e.details.listMetadata.audience&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw icon fa-users","aria-hidden":"true"})," ",s.a.createElement("span",null,"Audience:")," ",s.a.createElement("span",null,Array.from(new Set(e.details.listMetadata.audience)).map(e=>`${e[0].toUpperCase()}${e.slice(1)}`.replace(/-/g," ")).join("|").split("|").join("; "))),l=e.details.listMetadata.thumbnail&&s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),r=function(e,a,t){const n=new Date(e),l=new Date(a),r=new Date(n.setUTCHours(0,0,0)),i=new Date(l.setUTCHours(0,0,0)),o=t?s.a.createElement(s.a.Fragment,null,", ",Object(c.j)(e)," - ",Object(c.j)(a,!0)):null;return r.getTime()===i.getTime()?s.a.createElement("p",{className:"card__type true"},Object(c.i)(n),o):s.a.createElement("p",{className:"card__type false"},Object(c.i)(n)," - ",Object(c.i)(l),o)}(e.details.listMetadata.d&&e.details.listMetadata.d[0],e.details.listMetadata.d&&e.details.listMetadata.d[1],parseInt(e.details.listMetadata.displayTime&&e.details.listMetadata.displayTime[0]));return s.a.createElement("li",{className:"card card--event card--landscape"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},l,a,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),r,t,n)))}b.propTypes={details:r.a.object};var N=b;function M(e){const a=e.details.listMetadata.school&&e.query.facets&&e.query.facets.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", or "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", or "))),t=e.details.listMetadata.hardship&&"1"===e.details.listMetadata.hardship[0]&&s.a.createElement("div",{className:"card--funding__label--hardship"},s.a.createElement("p",null,"Hardship funding")),n=e.details.listMetadata.programme&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Programme",e.details.listMetadata.programme.length>2?"s":null,":")," ",s.a.createElement("span",null,e.details.listMetadata.programme.length>2?Object(c.u)(e.details.listMetadata.programme.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.u)(e.details.listMetadata.programme.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.programme.join("|")).split("|").join(" or "))),l=e.details.listMetadata.level&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Programme level:")," ",s.a.createElement("span",null,e.details.listMetadata.level.length>2?Object(c.u)(e.details.listMetadata.level.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.u)(e.details.listMetadata.level.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),r=e.details.listMetadata.feestatus&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Fee status:")," ",s.a.createElement("span",null,e.details.listMetadata.feestatus.length>2?e.details.listMetadata.feestatus.slice(0,-1).join(", ")+" or "+e.details.listMetadata.feestatus.slice(-1):e.details.listMetadata.feestatus.join(" or ")));return s.a.createElement("li",{className:"card card--funding"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},t,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title.replace("&amp;","&")),s.a.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),l,n,r,a)))}M.propTypes={details:r.a.object,query:r.a.object};var v=M;function j(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.title&&s.a.createElement("h3",{className:"card__heading"},e.details.title.indexOf("School")>=0?e.details.title.replace("&amp;","&"):e.details.title);return s.a.createElement("li",{className:"card card--generic"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},n,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t)))}j.propTypes={details:r.a.object};var q=j;function k(e){const a=e.details.listMetadata.location&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Location:")," ",s.a.createElement("span",null,e.details.listMetadata.location[0])),t=e.details.listMetadata.code?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"card--module__code"},e.details.listMetadata.code[0])," ",s.a.createElement("span",null,e.details.title)):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,e.details.title)),n=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),l=e.details.listMetadata.term&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Semester:")," ",s.a.createElement("span",null,e.details.listMetadata.term.length>2?"All year":e.details.listMetadata.term.join(" or "))),r=e.details.listMetadata.related&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.related.sort().map((e,a)=>a>0?e.toLowerCase():e).join(", ")),c=e.details.listMetadata.specification&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",s.a.createElement("a",{href:e.details.listMetadata.specification[0]},"Download module specification"));return s.a.createElement("li",{className:"card card--module"},s.a.createElement("div",{className:"card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},t),r,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),l,n,a,c)))}k.propTypes={details:r.a.object,query:r.a.object};var w=k;function S(e){const[a,t]=Object(n.useState)(!1),{thumbnailSourceName:l,thumbnailSourceUrl:r,thumbnailAuthorName:c,thumbnailAuthorUrl:i,thumbnailLicenseType:o,thumbnailLicenseUrl:d,displayToolTip:u}=e,m=i&&c?s.a.createElement("a",{href:i},c):c?s.a.createElement("span",null,c):null,p=r&&l?s.a.createElement("a",{href:r},l):l?s.a.createElement("span",null,l):null,f=d&&o?s.a.createElement("a",{href:d},o):o||null;return u&&(c||l)?s.a.createElement("figure",{className:"wrapper--tooltip__label","data-open":a},s.a.createElement("button",{className:"tooltip tooltip--image-credit",type:"button","aria-expanded":a,onClick:()=>t(!a)},s.a.createElement("span",{className:"tooltip__icon icon fa-sharp fa-light fa-subtitles "+(a?"fa-xmark":"fa-subtitles")}),s.a.createElement("span",{className:"sr-only"},"Show image credit")),s.a.createElement("figcaption",{className:"tooltip__label"},m," ",p&&"/ "," ",p," ",f)):null}S.propTypes={thumbnailSourceName:r.a.oneOfType([r.a.string,r.a.bool]),thumbnailSourceUrl:r.a.oneOfType([r.a.string,r.a.bool]),thumbnailAuthorName:r.a.oneOfType([r.a.string,r.a.bool]),thumbnailAuthorUrl:r.a.oneOfType([r.a.string,r.a.bool]),thumbnailLicenseType:r.a.oneOfType([r.a.string,r.a.bool]),thumbnailLicenseUrl:r.a.oneOfType([r.a.string,r.a.bool]),displayToolTip:r.a.bool};var x=S;function O(e){const a=e.details.listMetadata.thumbnailSourceName&&e.details.listMetadata.thumbnailSourceName[0]||!1,t=e.details.listMetadata.thumbnailSourceUrl&&e.details.listMetadata.thumbnailSourceUrl[0]||!1,n=e.details.listMetadata.thumbnailAuthorName&&e.details.listMetadata.thumbnailAuthorName[0]||!1,l=e.details.listMetadata.thumbnailAuthorUrl&&e.details.listMetadata.thumbnailAuthorUrl[0]||!1,r=e.details.listMetadata.thumbnailLicenceType&&e.details.listMetadata.thumbnailLicenceType[0]||!1,i=e.details.listMetadata.thumbnailLicenceUrl&&e.details.listMetadata.thumbnailLicenceUrl[0]||!1,o=e.details.listMetadata.thumbnailToolTip&&Object(c.t)(e.details.listMetadata.thumbnailToolTip[0]),d=e.details.listMetadata.d&&Object(c.i)(new Date(e.details.listMetadata.d[0])),u=e.details.listMetadata.d&&s.a.createElement("p",{className:"card__type"},d),m=e.details.listMetadata.hashtagtext&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Hashtag",e.details.listMetadata.hashtagtext.length>1&&"s",":")," ",s.a.createElement("span",null,e.details.listMetadata.hashtagtext.join(", "))),p=e.details.listMetadata.thumbnailTiny&&e.details.listMetadata.thumbnailTiny[0]&&e.details.listMetadata.thumbnailMax&&e.details.listMetadata.thumbnailMax[0]&&e.details.listMetadata.thumbnailMobile&&e.details.listMetadata.thumbnailMobile[0]?s.a.createElement("picture",null,s.a.createElement("source",{srcSet:e.details.listMetadata.thumbnailTiny[0],media:"(max-width: 375px)"}),s.a.createElement("source",{srcSet:e.details.listMetadata.thumbnailMax[0],media:"(min-width: 3840px)"}),s.a.createElement("img",{src:e.details.listMetadata.thumbnailMobile[0],alt:e.details.title})):e.details.listMetadata.thumbnail?s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}):null;return s.a.createElement("li",{className:"card card--news"},s.a.createElement(x,{thumbnailSourceName:a,thumbnailSourceUrl:t,thumbnailAuthorName:n,thumbnailAuthorUrl:l,thumbnailLicenceType:r,thumbnailLicenceUrl:i,displayToolTip:o}),s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},p,s.a.createElement("div",{className:"card__details__text"},u,s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),m)))}O.propTypes={details:r.a.object};var T=O;function C(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",e.details.listMetadata.school[0].replace("and","&")),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),n=e.details.listMetadata.thumbnail&&s.a.createElement("div",{className:"card__thumbnail"},s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"Photo of "+e.details.title})),l=e.details.listMetadata.ediAmbassador&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-people-roof icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"EDI Ambassador")),r=e.details.listMetadata.thumbnail&&"card--profile--thumbnailAvailable",c=e.query.facets&&e.query.facets.country&&e.details.listMetadata.country&&s.a.createElement("div",{className:"card__tag"},s.a.createElement("span",{className:"fad fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Country:")," ",e.details.listMetadata.country.length>2?e.details.listMetadata.country.slice(0,-1).join(", ")+" and "+e.details.listMetadata.country.slice(-1):e.details.listMetadata.country.join(" and "));return s.a.createElement("li",{className:"card card--profile"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details "+r},n,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle&&e.details.listMetadata.jobtitle[0]),a,t,c,l)))}C.propTypes={details:r.a.object,query:r.a.object};var R=C;function F(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+" and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(" and "))),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+" and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(" and "))),n=e.details.listMetadata.researchCentre&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",e.details.listMetadata.researchCentre.length>1?s.a.createElement("span",null,"Research centres: "):s.a.createElement("span",null,"Research centre: ")),l=e.details.listMetadata.academic&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-chalkboard-teacher icon","aria-hidden":"true"})," ",e.details.listMetadata.academic.length>1?s.a.createElement("span",null,"Academics: "):s.a.createElement("span",null,"Academic: ")),r=e.details.listMetadata.student&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-users icon","aria-hidden":"true"})," ",e.details.listMetadata.student.length>1?s.a.createElement("span",null,"Students: "):s.a.createElement("span",null,"Student: ")),c=e.details.listMetadata.relatedDegree&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-diploma icon","aria-hidden":"true"})," ",e.details.listMetadata.relatedDegree.length>1?s.a.createElement("span",null,"Related degrees: "):s.a.createElement("span",null,"Related degree: ")),i=e.details.listMetadata.status&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-hourglass icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Status:")," ",s.a.createElement("span",null,e.details.listMetadata.status[0]," "),"Completed project"===e.details.listMetadata.status[0]?s.a.createElement("span",{className:"far fa-fw fa-check-circle icon","aria-hidden":"true"}):null),o=e.details.listMetadata.site&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-globe icon","aria-hidden":"true"})," ",s.a.createElement("span",null,s.a.createElement("a",{href:e.details.listMetadata.site},"View case study site")));return s.a.createElement("li",{className:"card card--research"},s.a.createElement("div",{className:"card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card--research__title-link"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t,n,c,l,r,i,o)))}F.propTypes={details:r.a.object};var U=F;function $(e){switch(e.type){case"accommodation":return s.a.createElement(o,{details:e.details});case"casestudy":return s.a.createElement(u,{details:e.details});case"centre":return s.a.createElement(p,{details:e.details,query:e.query});case"contact":return s.a.createElement(_,{details:e.details,query:e.query});case"course":return s.a.createElement(g,{details:e.details,query:e.query});case"event":return s.a.createElement(N,{details:e.details});case"funding":return s.a.createElement(v,{details:e.details,query:e.query});case"module":return s.a.createElement(w,{details:e.details,query:e.query});case"news":return s.a.createElement(T,{details:e.details});case"profile":return s.a.createElement(R,{details:e.details,query:e.query});case"research":return s.a.createElement(U,{details:e.details,query:e.query});default:return s.a.createElement(q,{details:e.details})}}$.propTypes={details:r.a.object,query:r.a.object,type:r.a.string},a.a=$},16:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l);function c(e){const a=Math.random().toString(16).slice(-4),t=e.config.sort.filter(a=>""!==a.type||""!==e.query.query||Object.keys(e.query.facets).length>0||""===e.query.sortType);return t.length>1?s.a.createElement("div",{className:"finder__select--sort finder__select"+(e.query.sortType!==e.config.sort[0].type?" finder__select--selected":"")},s.a.createElement("label",{className:"finder__select__overline",htmlFor:"sort--"+a},"Sort by"),s.a.createElement("select",{name:"sort",id:"sort--"+a,onChange:a=>(a=>{const t=e.query;t.sortType=a,t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value),value:e.query.sortType},t.map((e,a)=>s.a.createElement("option",{key:a,value:e.type},e.label)))):null}c.propTypes={config:r.a.object,query:r.a.object,update:r.a.object},a.a=c},17:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l);function c(e){return e.matrixState?s.a.createElement("a",{href:"?",className:"finder__reset",type:"button"},s.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon"}),s.a.createElement("span",{className:"finder__reset__text"},"Reset")):s.a.createElement("button",{className:"finder__reset",type:"button",onClick:()=>{e.clear(e.resetSort)}},s.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon"}),s.a.createElement("span",{className:"finder__reset__text"},"Reset"))}c.propTypes={clear:r.a.func,resetSort:r.a.bool,matrixState:r.a.bool},a.a=c},2:function(e,a,t){"use strict";t.d(a,"t",(function(){return c})),t.d(a,"q",(function(){return i})),t.d(a,"p",(function(){return o})),t.d(a,"m",(function(){return d})),t.d(a,"v",(function(){return u})),t.d(a,"o",(function(){return m})),t.d(a,"n",(function(){return p})),t.d(a,"k",(function(){return f})),t.d(a,"a",(function(){return _})),t.d(a,"l",(function(){return y})),t.d(a,"s",(function(){return h})),t.d(a,"e",(function(){return E})),t.d(a,"c",(function(){return g})),t.d(a,"d",(function(){return b})),t.d(a,"u",(function(){return N})),t.d(a,"b",(function(){return M})),t.d(a,"j",(function(){return v})),t.d(a,"i",(function(){return j})),t.d(a,"r",(function(){return q})),t.d(a,"h",(function(){return k})),t.d(a,"g",(function(){return w})),t.d(a,"f",(function(){return S}));var n=t(3),s=t.n(n),l=t(0),r=t.n(l);function c(e){return"true"===e}function i(e,a,t){const n=t?(s=a,e=>e.indexOf(s)<0):(e=>a=>a!==e)(a);var s;e.className=e.className.split(/\s+/).filter(e=>n(e)).join(" ")}function o(){return!!("undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)")).matches}function d(e){return 0!==e.offsetHeight&&0!==e.offsetWidth}function u(e){return e.getBoundingClientRect().top>=0&&e.getBoundingClientRect().top<=window.innerHeight}function m(e){const a={};return e.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");a[t]=n}),a}function p(e){if(Object.keys(e).length>0){let a="?";for(const t in e)1!==a.length&&(a+="&"),a+=t+"="+e[t];return a}return""}function f(e,a,t,n,s,l){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:a,eventAction:t,eventLabel:n,eventValue:s,nonInteractionHit:l})}function _(e,a){a.forEach(a=>e.appendChild(a))}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432;const a=window.innerWidth;if(a<e)return!0}function h(e){let a=[];for(let t=e.length>>>0;t--;)a[t]=e[t];return a}function E(){const e=window.navigator.userAgent,a=e.indexOf("MSIE ");if(a>0)return parseInt(e.substring(a+5,e.indexOf(".",a)),10);if(e.indexOf("Trident/")>0){let a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}const t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}function g(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function b(e,a){let t=document.createElement(e);return a.map((function(e){"content"===e.label?t.appendChild(document.createTextNode(e.val)):"html"===e.label?t.innerHTML=e.val:t.setAttribute(e.label,e.val)})),t}function N(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function M(e){return s()(e).then(e=>{if(200===e.status)return e.data;throw"Bad response: "+e.status}).catch(e=>{s.a.isCancel(e)||f("jsError","JavaScript error",`Line ${e.lineNumber} – ${e.message}`,`axiosRequest ${e.fileName} (${window.location})`,!0)})}function v(e,a){const t=new Date(e);let n;return a&&(n=0==t.getTimezoneOffset()/-60?"(GMT)":"(BST)"),r.a.createElement("time",{dateTime:`${t.getHours()?t.getHours():"00"}:${t.getMinutes()?t.getMinutes():"00"}`},t.getHours()?t.getHours():"00",":",t.getMinutes()?t.getMinutes():"00"," ",n)}function j(e){return r.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),r.a.createElement("sup",null,function(e){const a=e.toString().slice(-1);return e>=11&&e<=13?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th"}(e.getUTCDate()))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}function q(e){switch(e){case"tiny":return 375;case"mobile":return 432;case"tablet":return 768;case"between":return 900;case"small":return 1024;case"desktop":default:return 1280;case"large":return 1440;case"1080":return 1920;case"4k":return 3840;case"8k":return 7680}}function k(e){let a={};for(const t in e)if("object"!=typeof e[t]||Array.isArray(e[t]))Array.isArray(e[t])?e[t].forEach(e=>{"fixedFacets"===t?a[`${t}-${e.meta}`]=e.value:a[`${t}-${e.name}`]=e.value}):a[t]=e[t];else{const n=k(e[t]);for(const e in n)"parameters"===t?a[`${t}-${e}`]=n[e]:a[e]=n[e]}return a}function w(){document.documentElement.classList.remove("no-scroll"),document.querySelector(".back-to-top").setAttribute("hidden","false")}function S(){!function(){const e=document.createElement("div");e.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);const a=e.offsetWidth-e.clientWidth;document.body.removeChild(e),document.documentElement.style.setProperty("--scrollbar-width",a+"px")}(),document.querySelector(".back-to-top").setAttribute("hidden","true"),document.documentElement.classList.add("no-scroll")}},21:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l);function c(e){return s.a.createElement("button",{className:"finder__clear",type:"button",onClick:()=>{e.clear(e.resetSort)}},s.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon "}),s.a.createElement("span",{className:"finder__clear__text"},"Clear query"))}c.propTypes={clear:r.a.func,resetSort:r.a.bool},a.a=c},22:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l);function c(e){const a=e.mobile?"mobile":"desktop",t=e.facet.meta in e.query.facets,n=e.responseFacet[0]&&e.responseFacet[0].allValues&&e.responseFacet[0].allValues.filter(a=>a.data.toLowerCase()===e.facet.checkedValue.toLowerCase());if(n&&n[0]&&n[0].count>0){const l=()=>{const a=e.query;e.dependencies.map(e=>{delete a.facets[e.meta]}),t?delete a.facets[e.facet.meta]:a.facets[e.facet.meta]=e.facet.checkedValue,a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)};return s.a.createElement("div",{className:"finder__filter finder__checkbox"},s.a.createElement("input",{type:"checkbox",id:`meta_${e.facet.meta}_and--${a}`,name:`meta_${e.facet.meta}_and`,value:e.facet.checkedValue,onChange:()=>l(),checked:t}),s.a.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:()=>l()},t?s.a.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),s.a.createElement("label",{className:"finder__filters__label--always",htmlFor:`meta_${e.facet.meta}_and--${a}`},e.facet.name,!t&&n&&" ("+n[0].count+")"))}return null}c.propTypes={facet:r.a.object,query:r.a.object,responseFacet:r.a.arrayOf(r.a.object),update:r.a.object,dependencies:r.a.arrayOf(r.a.object),mobile:r.a.bool},a.a=c},23:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l),c=t(6);function i(e){const a=e.facet.values.reduce((e,a)=>[...e,a],[]),t=e.responseFacet[0]&&e.responseFacet[0].allValues?e.responseFacet[0].allValues.reduce((e,a)=>[...e,a.data],[]):[],n=a.map(e=>e.data).filter(e=>t.indexOf(e.toLowerCase())<0).length,l=e.query.facets[e.facet.meta]&&e.facet.values.length>n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon","aria-hidden":"true"}),s.a.createElement("span",{className:"finder__tag__text"},s.a.createElement("span",{className:"sr-only"},"Remove filter for "),e.facet.name,":"," ",e.facet.values.filter(a=>a.data.toLowerCase()===e.query.facets[e.facet.meta].toLowerCase())[0].label)),r=e.matrixState&&e.query.facets[e.facet.meta]?s.a.createElement("input",{type:"hidden",name:`meta_${e.facet.meta}_and`,value:e.query.facets[e.facet.meta]}):null;return e.facet.values.length>n&&e.query.facets[e.facet.meta]?s.a.createElement("div",{className:"finder__filter finder__tag"},r,e.matrixState&&e.query.facets[e.facet.meta]?s.a.createElement("a",{href:Object(c.a)(e.query,e.facet)},l):s.a.createElement("button",{onClick:()=>(()=>{const a=e.query;e.dependencies.map(e=>{delete a.facets[e.meta]}),delete a.facets[e.facet.meta],a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)})(),type:"button"},l)):null}i.propTypes={facet:r.a.object,query:r.a.object,responseFacet:r.a.arrayOf(r.a.object),update:r.a.object,dependencies:r.a.arrayOf(r.a.object),matrixState:r.a.bool,hasMounted:r.a.bool},a.a=i},24:function(e,a,t){"use strict";var n=t(0),s=t.n(n),l=t(1),r=t.n(l),c=t(6);function i(e){const a=Math.ceil(e.totalMatching/e.numRanks),t=Math.ceil(e.currStart/e.numRanks),n=[],l=a=>{const t=1+(a-1)*e.numRanks,n=e.query;n.startRank=t,n.misspelling=null,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)};n.push(1===t?s.a.createElement("span",{key:"previousPage",className:"pagination__controls__button--prev"},s.a.createElement("span",null,"Previous page")):s.a.createElement("a",{className:"pagination__controls__button--prev",key:"prev",onClick:e=>{e.preventDefault(),l(t-1)},href:Object(c.a)(e.query,null,t-1,e.numRanks)},s.a.createElement("span",null,"Previous page ",t)));for(let r=1;r<=a;r++){let i;switch(r-a){case 0:i="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:i="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:i="pagination__controls__element pagination__controls__button"}n.push(s.a.createElement("a",{"aria-current":r===t?"page":null,"aria-expanded":r===t,"aria-label":"Open page "+r,className:i,"data-page":r,"data-proximity":Math.abs(r-t),disabled:r===t,key:r,onClick:e=>{e.preventDefault(),l(r)},href:Object(c.a)(e.query,null,r,e.numRanks)},s.a.createElement("span",null,r))),1===r?n.push(s.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},s.a.createElement("span",null,"…"))):r===a-1&&n.push(s.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},s.a.createElement("span",null,"…")))}return n.push(t===a?s.a.createElement("span",{key:"nextPage",className:"pagination__controls__button--next"},s.a.createElement("span",null,"Next page")):s.a.createElement("a",{className:"pagination__controls__button--next",key:"next",disabled:t===a,onClick:e=>{e.preventDefault(),l(t+1)},href:Object(c.a)(e.query,null,t+1,e.numRanks)},s.a.createElement("span",null,"Next page"))),s.a.createElement("div",{className:"pagination__wrapper"},s.a.createElement("nav",{className:"pagination__controls","data-pagecount":a},n))}i.propTypes={currStart:r.a.number,query:r.a.object,numRanks:r.a.number,totalMatching:r.a.number,update:r.a.object},a.a=i},25:function(e,a,t){"use strict";var n=t(0);a.a=function(){const[e,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{a(!0)},[]),e}},26:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(11);function s(e,a,t,s,l,r,c,i){if(i){const i=new URLSearchParams(window.location.search),o=Object(n.c)(i,"_sand","_and");""!==e?o.set("query",e):o.delete("query"),1!==a?o.set("start_rank",a):o.delete("start_rank"),l!==c&&""!==l?o.set("sort",l):o.delete("sort"),r.forEach(e=>{t[e.meta]?o.set(`meta_${e.meta}_and`,t[e.meta]):o.delete(`meta_${e.meta}_and`)}),r.forEach(e=>{s[e.meta]?o.set(e.meta,s[e.meta]):o.delete(e.meta)});const d=o.toString().length?"?":"";window.history.replaceState({},"",`${window.location.pathname}${d}${o.toString()}`)}}},29:function(e,a){},30:function(e,a){},4:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"c",(function(){return m})),t.d(a,"b",(function(){return p}));var n=t(3),s=t.n(n),l=t(12),r=t.n(l),c=t(2);const i="https://www.citystgeorges.ac.uk/web-services",o="https://www.citystgeorges.ac.uk/web-services/dxp-fb",d=3e4;function u(e,a,t,n,l,u,m,p,f,_){const y={};t.forEach(e=>{y[""+e.name]=e.value});const h={};Object.keys(f).forEach(e=>h[e]=f[e]);const E={};a.forEach(e=>{E[`meta_${e.meta}_and`]=e.value});const g={};Object.keys(p).forEach(e=>g[`meta_${e}_and`]=p[e]);const b=s.a.CancelToken.source(),N={baseURL:_?o:i,cancelToken:b.token,httpsAgent:new r.a.Agent({keepAlive:!0}),url:_?"/funnelback-dxp-find":"/funnelback-16-find",timeout:d,params:{...y,...E,...g,...h,collection:e,num_ranks:m,query:n,sort:l||"",start_rank:u}};return[Object(c.b)(N),b]}function m(e,a,t){const n=s.a.CancelToken.source(),l={baseURL:t?o:i,cancelToken:n.token,url:t?"/funnelback-dxp-suggest":"/funnelback-16-suggest",timeout:d,params:{collection:e,partial_query:a,show:100}};return[Object(c.b)(l),n]}function p(e){const a={timeout:d,url:e};return Object(c.b)(a)}},6:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(2);function s(e,a,t,s){const l=t&&1+(t-1)*s;let r=JSON.parse(JSON.stringify(e));a&&"tag"===a.type&&function e(a,t){for(let n in a)n===t?delete a[n]:"object"==typeof a[n]&&e(a[n],t)}(r,a.meta);const c=Object(n.h)(r);return"?"+Object.entries(c).filter(e=>{let a=Object.values(e);if(""===a[1])return!1;switch(a[0]){case"interacted":case"num_rank":case"start_rank":return!1;default:return!0}}).map(e=>{let t=Object.values(e);if(/fixedParameters/.test(t[0]))return encodeURIComponent(t[0].substring(16))+"="+encodeURIComponent(t[1]);if(/fixedFacets/.test(t[0]))return encodeURIComponent(`meta_${t[0].substring(12)}_and`)+"="+encodeURIComponent(t[1]);if(/parameters/.test(t[0]))return encodeURIComponent(t[0].substring(11))+"="+encodeURIComponent(t[1]);switch(t[0]){case"collection":case"query":return encodeURIComponent(t[0])+"="+encodeURIComponent(t[1]);case"sortType":return encodeURIComponent("sort")+"="+encodeURIComponent(t[1]);case"startRank":return encodeURIComponent("start_rank")+"="+encodeURIComponent(a?t[1]:l);case"numRanks":return encodeURIComponent("num_rank")+"="+encodeURIComponent(t[1]);default:return encodeURIComponent(`meta_${t[0]}_and`)+"="+encodeURIComponent(t[1])}}).join("&")}},79:function(e,a,t){e.exports=t(107)}});