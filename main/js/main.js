!function(e){function t(t){for(var n,r,i=t[0],c=t[1],o=t[2],u=0,p=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&p.push(l[r][0]),l[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a,r=s[t],i=!0,c=1;c<r.length;c++)a=r[c],0!==l[a]&&(i=!1);i&&(s.splice(t--,1),e=n(n.s=r[0]))}return e}function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={},l={7:0},s=[];n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var d=c;s.push([132,1,0,3,4,2]),a()}({119:function(){},120:function(){},132:function(e,t,a){e.exports=a(220)},18:function(e,t,a){"use strict";function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?n(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}));return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t,a,n,l,s,i){const c={};t.forEach(e=>{c["meta_".concat(e.meta,"_sand")]=e.value});const o={};Object.keys(i).forEach(e=>o["meta_".concat(e,"_sand")]=i[e]);const d=u.a.CancelToken.source(),p={baseURL:_,cancelToken:d.token,httpsAgent:new m.a.Agent({keepAlive:!0}),url:h,timeout:g,params:r(r(r({},c),o),{},{collection:e,num_ranks:s,query:a,sort:n||"",start_rank:l})};return[Object(f.c)(p),d]}function i(e,t){const a=u.a.CancelToken.source(),n={baseURL:_,cancelToken:a.token,url:b,timeout:g,params:{collection:e,partial_query:t}};return[Object(f.c)(n),a]}function c(e){return Object(f.c)({timeout:g,url:e})}a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c}));var o=a(3),d=(a.n(o),a(13)),u=a.n(d),p=a(57),m=a.n(p),f=a(2);const _="https://web2020.city.ac.uk/web-services",h="/funnelback-find",b="/funnelback-suggest",g=3e4},2:function(e,t,a){"use strict";function n(e){return!("true"!==e)}function r(e,t,a){const n=a?D(t):T(t);e.className=e.className.split(/\s+/).filter(e=>n(e)).join(" ")}function l(){return!!window.matchMedia("(prefers-reduced-motion: reduce)").matches}function s(e){return!(0===e.offsetHeight||0===e.offsetWidth)}function i(e){return!!(0<=e.getBoundingClientRect().top&&e.getBoundingClientRect().top<=window.innerHeight)}function c(e){const t={};return e.substr(1).split("&").forEach(e=>{const[a,n]=e.split("=");t[a]=n}),t}function o(e){if(0<Object.keys(e).length){let t="?";for(const a in e)1!==t.length&&(t+="&"),t+=a+"="+e[a];return t}return""}function d(e,t,a,n,r,l){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:t,eventAction:a,eventLabel:n,eventValue:r,nonInteractionHit:l})}function u(e,t){t.forEach(t=>e.appendChild(t))}function p(e){return e.replace(/\D/g,"")}function m(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:432;const t=window.innerWidth;if(t<e)return!0}function f(e){let t=[];for(let a=e.length>>>0;a--;)t[a]=e[a];return t}function _(){const e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){let t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}const a=e.indexOf("Edge/");return!!(0<a)&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)}function h(){return!!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)}function b(e,t){let a=document.createElement(e);return t.map((function(e){"content"===e.label?a.appendChild(document.createTextNode(e.val)):a.setAttribute(e.label,e.val)})),a}function g(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function y(e){return C()(e).then(e=>{if(200===e.status)return e.data;throw"Bad response: ".concat(e.status)}).catch(e=>{C.a.isCancel(e)||d("jsError","JavaScript error","Line ".concat(e.lineNumber," – ").concat(e.message),"axiosRequest ".concat(e.fileName," (").concat(window.location,")"),!0)})}function v(e){return O.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),O.a.createElement("sup",null,function(e){const t=e.toString().slice(-1);return e>=11||e<=13?"th":"1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th"}(e.getUTCDate()))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}function E(e,t){let a=[],n=0,r=e.length;for(;n<r;)a.push(e.slice(n,n+=t));return a}a.d(t,"q",(function(){return n})),a.d(t,"o",(function(){return r})),a.d(t,"n",(function(){return l})),a.d(t,"j",(function(){return s})),a.d(t,"s",(function(){return i})),a.d(t,"m",(function(){return c})),a.d(t,"l",(function(){return o})),a.d(t,"h",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"k",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"p",(function(){return f})),a.d(t,"f",(function(){return _})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return b})),a.d(t,"r",(function(){return g})),a.d(t,"c",(function(){return y})),a.d(t,"g",(function(){return v})),a.d(t,"b",(function(){return E}));var N=a(5),w=(a.n(N),a(14)),A=(a.n(w),a(20)),q=(a.n(A),a(4)),S=(a.n(q),a(3)),x=(a.n(S),a(6)),k=(a.n(x),a(13)),C=a.n(k),j=a(0),O=a.n(j);const D=e=>t=>0>t.indexOf(e),T=e=>t=>t!==e},220:function(e,t,a){"use strict";function n(e,t){e.dataset.open=t,e.firstElementChild.setAttribute(Z.expanded,t)}function r(e,t){return e.style.height=t,e.dataset.closed="false",!0}function l(e,t,a){const l=e.parentNode,s=l.nextElementSibling;if(s.addEventListener("transitionend",()=>function(e){const t=Object($.q)(e.previousElementSibling.dataset.open);e.style.height=null,e.dataset.closed=t?"false":"true"}(s),{capture:!0,once:!0}),Object($.q)(e.getAttribute(Z.expanded)))r(s,s.offsetHeight+"px"),setTimeout(()=>{s.style.height="0px"},le),n(l,!1);else{const e=function(e){const t=e.nextElementSibling;n(e,!0),t.dataset.closed="false";const a=t.offsetHeight+"px";return n(e,!1),t.dataset.closed="true",a}(l);if(r(s,"0px"),setTimeout(()=>{s.style.height=e},le),a){const e=Array.from(l.parentNode.parentNode.querySelectorAll("#".concat(l.parentElement.id," > .").concat(re)));t.forEach(e=>n(e,!1)),e.filter(e=>e.id!==s.id).forEach(e=>{e.dataset.closed="true"})}n(l,!0),Object($.s)(l)&&Object($.s)(s)||G.a.to(l,se)}}function s(e,t,a){if("true"===t&&"false"===a){let t=Array.from(e);t[0].setAttribute("data-hidden","false");for(var n=1;n<t.length;n++)t[n].setAttribute("data-hidden","true")}else"false"===t&&"false"===a?e.forEach((function(e){e.setAttribute("data-hidden","true")})):"true"===a&&e.forEach((function(e){e.setAttribute("data-hidden","false")}));t="false"}function i(e){const t=e.target.closest(".dropdown-filter").querySelector(".data-group"),a=t.querySelectorAll("ul.data-group > li");for(const e of a)e.removeAttribute("data-hidden");Ae="false",s(a,Ae);const n=t.querySelector("li.data-group__item[data-value="+e.target.value+"]"),r=t.querySelectorAll("li.data-group__item:not([data-value="+e.target.value+"])");if("show-all"!==e.target.value&&0!==e.srcElement.selectedIndex){n.removeAttribute("data-hidden");for(const e of r)e.setAttribute("data-hidden","true")}else if("show-all"!==e.target.value&&0===e.srcElement.selectedIndex)for(const e of r)e.setAttribute("data-hidden","true")}function c(e,t){Object($.h)("pageFeedback","Page feedback",e,window.location.toString(),t,!0)}function o(e,t){let a=document.createElement("span");a.className="fas "+t+"  link-decorator",a.setAttribute(Z.hidden,!0),e.parentNode.insertBefore(a,e)}function d(e,t,a){for(const a of e.entries())a[1].setAttribute("tabindex","-1"),a[0]>=t?(a[1].classList.add("hide"),a[1].style.display="none"):(a[1].classList.remove("hide"),a[1].style.display="grid");t>e.length?a.classList.add("hide"):a.classList.remove("hide")}function u(e,t,a){for(const n of e.entries())(n[0]===t-a||t===a&&0===n[0])&&(n[1].focus(),G.a.to(n[1]))}function p(e,t,a){const n=e.closest("li"),r=n.dataset.title+" section",l=e.querySelector(".".concat(a+"__button__text")),s=t?"Close ":"Open ";t&&Array.from(e.closest("ul").querySelectorAll("button")).forEach(e=>p(e,!1,a)),n.dataset.open=t,e.setAttribute(Z.expanded,t),e.title=s+r,l.innerText=s+r}function m(e,t){Array.from(e.querySelectorAll("li")).forEach(e=>{const a=e.querySelector("a"),n=e.querySelector("ul"),r="Visit "+e.dataset.title,l=document.createElement("span"),s=document.createElement("div");s.className=t+"__controls",l.appendChild(a.firstChild.cloneNode(!0)),a.replaceChild(l,a.firstChild),a.title=r,e.replaceChild(s,a),s.appendChild(a),n&&n.firstElementChild&&function(e,t){const a=document.createElement("button"),n=document.createElement("span"),r=document.createElement("span"),l=t+"__button",s=e.querySelector(".".concat(t+"__controls"));a.setAttribute("type","button"),n.setAttribute(Z.hidden,"true"),n.className="".concat(l+"__icon"," fal fa-fw"),r.className="".concat(l+"__text"),Object($.a)(a,[n,r]),s.appendChild(a),0<=e.className.indexOf(t+"__current")||0<=e.className.indexOf(t+"__hierarchy")?p(a,!0,t):p(a,!1,t)}(e,t)})}function f(e,t){Array.from(e.querySelectorAll("button")).forEach(e=>e.addEventListener("click",()=>function(e,t){const a=e.getAttribute(Z.expanded);Object($.q)(a)?p(e,!1,t):p(e,!0,t),G.a.intoView(e.closest("li"),Re)}(e,t),!0))}function _(e,t,a,n){const r=e.getAttribute(Z.expanded);Object($.q)(r)?(a.deactivate(),n.dataset.on="false",t(!1)):(t(!0),n.dataset.on="true",a.activate())}function h(e,t,a){const n=Object($.q)(e.getAttribute("data-slider")),r=e.dataset.type,l=Object($.e)("button",[{label:"class",val:"dialog__close fas fa-times"},{label:"aria-label",val:"Close modal"}]),s=Object($.e)("div",[{label:"class",val:"dialog"},{label:"data-position",val:"".concat(t)},{label:"data-type",val:"".concat(r)}]),i=Object($.e)("div",[{label:"class",val:"dialog__content"}]),c=Object($.e)("div",[{label:"class",val:"dialog__inner"},{label:"role",val:"role"}]),o=Object($.e)("p",[{label:"class",val:"dialog__strapline"}]),d=Object($.e)("p",[{label:"class",val:"dialog__heading"}]),u=Object($.e)("div",[{label:"class",val:"dialog__body-copy"}]);d.innerText=a[t].title,u.innerHTML=a[t].body,o.innerHTML=a[t].topic,i.appendChild(l),i.appendChild(o),i.appendChild(d),i.appendChild(u),c.appendChild(i),s.appendChild(c);document.querySelector("main").appendChild(s),s.addEventListener("keydown",t=>{t.keyCode===Ke&&(t.preventDefault(),document.body.classList.remove("dialog-in","no-scroll"),Ge.deactivate(),y(s,e))}),s.addEventListener("click",t=>{t.target.classList.contains("dialog")&&(t.preventDefault(),t.stopPropagation(),document.body.classList.remove("dialog-in","no-scroll"),Ge.deactivate(),y(s,e))}),l.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),y(s,e),document.body.classList.remove("dialog-in","no-scroll"),Ge.deactivate()}),function(e){let t=e.querySelector(".dialog__inner");Ge=Me()(t,{clickOutsideDeactivates:!0}),Ge.activate()}(s),document.body.classList.add("dialog-in","no-scroll"),n&&1<a.length&&function(e,t){let a=parseInt(e.getAttribute("data-position"));const n=Object($.e)("div",[{label:"class",val:"dialog__slider-control"}]);let r=g(t,a,"left"),l=g(t,a,"right");l.addEventListener("click",a=>{a.preventDefault();let n=l.getAttribute("data-nextState");b(e,t,n)}),r.addEventListener("click",a=>{a.preventDefault();let n=r.getAttribute("data-nextState");b(e,t,n)}),n.appendChild(r),n.appendChild(l);e.querySelector(".dialog__content").appendChild(n)}(s,a)}function b(e,t,a){a=parseInt(a),e.querySelector(".dialog__heading").innerText=t[a].title,e.querySelector(".dialog__body-copy").innerHTML=t[a].body,0===a?(e.querySelectorAll("button")[1].setAttribute("data-nextstate","".concat(t.length-1)),e.querySelectorAll(".dialog__underline-transition")[0].innerText=t[t.length-1].shortname,e.querySelectorAll(".dialog__underline-transition")[1].innerText=t[a+1].shortname,e.querySelectorAll("button")[2].setAttribute("data-nextstate","".concat(a+1))):a===t.length-1?(e.querySelectorAll(".dialog__underline-transition")[0].innerText=t[a-1].shortname,e.querySelectorAll("button")[1].setAttribute("data-nextstate","".concat(a-1)),e.querySelectorAll(".dialog__underline-transition")[1].innerText=t[0].shortname,e.querySelectorAll("button")[2].setAttribute("data-nextstate","0")):(e.querySelectorAll(".dialog__underline-transition")[0].innerText=t[a-1].shortname,e.querySelectorAll("button")[1].setAttribute("data-nextstate","".concat(a-1)),e.querySelectorAll(".dialog__underline-transition")[1].innerText=t[a+1].shortname,e.querySelectorAll("button")[2].setAttribute("data-nextstate","".concat(a+1)))}function g(e,t,a){const n=document.createElement("button"),r=document.createElement("span");r.classList.add("dialog__underline-transition");let l=function(e,t,a){const n=parseInt("".concat(t));let r;return r=0===n?"left"===a?e.length-1:n+1:n===e.length-1?"left"===a?n-1:0:"left"===a?n-1:n+1,r}(e,t,a);n.setAttribute("data-nextstate","".concat(l)),r.innerText=e[l].shortname?e[l].shortname:e[l].title;const s=Object($.e)("span",[{label:"class",val:"icon far fa-long-arrow-".concat(a)}]);"left"===a?s.setAttribute(Z.label,"previous item"):s.setAttribute(Z.label,"next item");const i=document.createElement("div");return i.appendChild(r),n.appendChild(s),n.appendChild(i),n}function y(e,t){e.parentNode.removeChild(e),!Object($.s)(t)&&G.a.to(t,Xe)}function v(e){const t=e.querySelector(".animate--number__number");return null!=t?t:e}function E(e){const t=v(e),a=e.dataset.animationNumberFloat,n=parseInt(e.dataset.animationNumberValue);if(0!==n){let r=!0,l=0,s=parseInt(e.dataset.animationNumberStart),i=0;const c=o=>{r&&(l=o,r=!1);const d=(o-l)/$e,u=1<=d;let p=(u?1:1-Math.pow(1-d,4))*(n-s)+s;a&&(p=K(p)),i!==p&&(i=p,t.innerHTML=p.toLocaleString("en-GB")),u?e.classList.add("animate--number--complete"):window.requestAnimationFrame(c)};window.requestAnimationFrame(c)}}function N(e,t){e.setAttribute(Z.expanded,t),t?e.setAttribute("disabled","true"):e.removeAttribute("disabled"),t?e.setAttribute(Z.current,"page"):e.removeAttribute(Z.current)}function w(e,t,a){return(n,r,l)=>{const s=Array.from(e.querySelectorAll(".".concat(at))),i=Array.from(t.querySelectorAll("button"));!function(e,t){e.forEach(e=>e.dataset.open=!1),t.forEach((function(e){e.className.match(ot)||N(e,!1)}))}(s,i);const c=e.querySelector(".".concat(at,":nth-of-type(").concat(n,")")),o=t.querySelector('[data-page="'.concat(n,'"]'));(function(e,t,a){e>dt&&t.forEach((function(e){if(!e.className.match(ot)){const t=Y(e.dataset.page);e.dataset.proximity=t-a}}))})(s.length,i,n),a(n),c.dataset.open=!0,N(o,!0),r&&c.focus(),l&&G.a.to(c,ut)}}function A(e,t,a,n,r){[{button:e,class:it+"--next",text:"Next page",newPageFn:e=>e<n&&e+1},{button:t,class:it+"--prev",text:"Previous page",newPageFn:e=>1<e&&e-1}].forEach(e=>{const t=e.button,n=document.createElement("span");t.className=e.class,t.setAttribute("type","button"),n.appendChild(document.createTextNode(e.text)),t.appendChild(n),t.addEventListener("click",function(e,t,a){return()=>{const n=Y(e.querySelector("[".concat(Z.expanded,'="true"]')).dataset.page);a(t(n),!0,!1)}}(a,e.newPageFn,r),!0)})}function q(e,t){const a=document.createElement("button"),n=document.createElement("span");return n.appendChild(document.createTextNode(e)),a.dataset.page=e,a.setAttribute("type","button"),a.setAttribute(Z.label,"Open page ".concat(e)),a.className=1==t-e?"".concat(lt," ").concat(it," ").concat(it,"--penultimate"):t===e?"".concat(lt," ").concat(it," ").concat(it,"--last"):"".concat(lt," ").concat(it),a.appendChild(n),a}function S(e,t){const a=document.createElement("div"),n=Array.from(e.querySelectorAll(".".concat(at))),r=document.createElement("nav"),l=document.createElement("button"),s=document.createElement("button"),i=[],c=document.createElement("p"),o=function(e,t,a){return n=>{a===n?e.setAttribute("disabled","true"):e.removeAttribute("disabled"),1===n?t.setAttribute("disabled","true"):t.removeAttribute("disabled")}}(l,s,n.length),d=w(e,r,o),u=document.createElement("span"),p=document.createElement("span"),m=document.createElement("span"),f=document.createElement("span");if(1<!n.length)Object($.o)(e,tt,!1);else{u.className="".concat(lt," ").concat(st," ").concat(st,"--first"),p.innerText="…",u.appendChild(p),m.className="".concat(lt," ").concat(st," ").concat(st,"--last"),f.innerText="…",m.appendChild(f),A(l,s,r,n.length,d),i.push(s);for(let e=1;e<=n.length;e++){const t=q(e,n.length);t.addEventListener("click",()=>d(e,!0,!1)),n.length>pt&&e===n.length&&i.push(m),i.push(t),n.length>pt&&1===e&&i.push(u)}i.push(l),a.className=nt,r.className=rt,r.dataset.pagecount=n.length,r.setAttribute(Z.label,"Pagination"),c.className=ct,function(e,t,a){let n="".concat(t," pages)");n=a&&Y(a)?"(".concat(a," items on ")+n:"("+n,e.appendChild(document.createTextNode(n))}(c,n.length,t),e.parentNode.replaceChild(a,e),a.appendChild(e),i.forEach(e=>r.appendChild(e)),d(1,!1,!1),a.appendChild(r),a.appendChild(c)}}function x(e,t,a){return()=>{const n=!Object($.q)(e.getAttribute(Z.expanded));t(),n&&(e.closest(".".concat(vt)).dataset.open="true",a.dataset.on="true",e.setAttribute(Z.expanded,n),e.querySelector(".".concat(wt)).replaceChild(document.createTextNode(xt),e.querySelector(".".concat(wt)).firstChild))}}function k(e){e.preventDefault();let t=e.currentTarget.parentNode.parentNode.parentNode,a=t.querySelector(".show-more__text"),n=t.querySelector(".show-more__link-text");if(Object($.q)(a.dataset.hidden)){e.currentTarget.setAttribute("data-open","true"),a.setAttribute("data-hidden","false"),n.textContent="Show less",a.style.maxHeight="100%",t.querySelector("h2").scrollIntoView()}else{e.currentTarget.setAttribute("data-open","false"),a.setAttribute("data-hidden","true"),n.textContent="Show more",a.style.maxHeight=null,t.querySelector("h2").scrollIntoView()}}function C(e,t,a){let n=a.querySelectorAll("button"),r=[...t.children],l=e.getAttribute("data-page");n.forEach(e=>{e.removeAttribute("disabled"),e.removeAttribute(Z.expanded,"false"),e.removeAttribute(Z.current,"slide")}),e.setAttribute("disabled",!0),e.setAttribute(Z.current,"slide"),e.setAttribute(Z.expanded,"true"),r.forEach(e=>{e.setAttribute("data-visible",!1),l===e.getAttribute("data-page")&&(e.setAttribute("data-visible",!0),e.focus())})}function j(e){return function(e){return e.changedTouches?e.changedTouches[0]:e}(e).clientX}function O(e,t,a,n){function r(e){e.preventDefault(),s=function(e){return function(t){return j(e)-j(t)}}(e)}function l(t){t.preventDefault();let r=J(s(t));if("dot"===n){let t=e.nextSibling,a=t.querySelector('[aria-expanded="true"]'),n=null;if(a.nextSibling&&a.previousSibling)n=-1===r?a.previousSibling:1===r?a.nextSibling:null,n&&C(n,e,t.firstChild);else if(a.nextSibling){let l=t.firstChild.childNodes.length;n=-1===r?a.parentElement.childNodes[l-1]:1===r?a.nextSibling:null,n&&C(n,e,t.firstChild)}else n=-1===r?a.previousSibling:1===r?a.parentElement.childNodes[0]:null,n&&C(n,e,t.firstChild)}else{let t=e.nextSibling.querySelectorAll(".slider-block__control__progress"),n=Array.from(t).filter(e=>{if("block"===window.getComputedStyle(e).getPropertyValue("display"))return e})[0].classList.contains("slider-block__control__progress--tablet")?"tablet":"default",l=-1===r?e.nextSibling.lastChild.querySelector(".prev--".concat(n)):1===r?e.nextSibling.lastChild.querySelector(".next--".concat(n)):null;l&&!l.disabled&&I(l,e,n,a)}}let s=null;e.addEventListener("mousedown",r,!1),e.addEventListener("touchstart",r,!1),e.addEventListener("mouseup",l,!1),e.addEventListener("touchend",l,!1)}function D(e,t,a){for(let n,r=0;r<e.length;r++){n=e[r];for(let e=0;e<n.length;e++)n[e].setAttribute(t,"".concat(r)),0===r?n[e].setAttribute(a,"true"):n[e].setAttribute(a,"false")}}function T(e,t,a){let n=Object($.e)("div",[{label:"class",val:"slider-block__control__progress slider-block__control__progress--".concat(t)}]);e.appendChild(n);let r=Object($.e)("span",[{label:"".concat(a[t].counterAttr),val:!0}]);r.innerText="1";let l=document.createElement("span");l.innerText="/";let s=document.createElement("span");s.innerText="".concat(a[t].totalPages),n.appendChild(r),n.appendChild(l),n.appendChild(s)}function L(e,t,a,n){const r=Object($.e)("div",[{label:"class",val:"slider-block__control__buttons"}]),l=e.parentNode.querySelector(".slider-block__control");if(l.appendChild(r),l.setAttribute("data-control-type",t),"default"===t){let t=F("fas fa-arrow-left prev--default","default",n),l=F("fas fa-arrow-right next--default","default",n);if(l.setAttribute(Z.label,"next item"),l.addEventListener("click",(function(){I(this,e,"default",n)})),t.addEventListener("click",(function(){I(this,e,"default",n)})),r.appendChild(t),r.appendChild(l),r.classList.add("slider-block__control__buttons--default"),"responsive"===a){if(n.default.totalPages>"".concat(n.tablet.maxItem)){let t=F("fas fa-arrow-left prev--tablet","tablet",n),a=F("fas fa-arrow-right next--tablet","tablet",n);t.addEventListener("click",(function(){I(this,e,"tablet",n)})),a.addEventListener("click",(function(){I(this,e,"tablet",n)})),r.appendChild(t),r.appendChild(a)}if(n.default.totalPages>"".concat(n.desk.maxItem)){let t=F("fas fa-arrow-left prev--desk","desk",n),a=F("fas fa-arrow-right next--desk","desk",n);t.addEventListener("click",(function(){I(this,e,"desk",n)})),a.addEventListener("click",(function(){I(this,e,"desk",n)})),r.appendChild(t),r.appendChild(a)}}}"dot"===t&&function(e,t,a,n){let r=n[t].totalPages;a.classList.add("slider-block__control__buttons--dot");for(let t,n=0;n<r;n++)t=Object($.e)("button",[{label:"data-page",val:n},{label:"aria-label",val:"Open slide ".concat(n+1)},{label:"type",val:"button"}]),0===n?(t.setAttribute(Z.current,"slide"),t.setAttribute(Z.expanded,"true"),t.setAttribute("disabled","true")):t.setAttribute(Z.expanded,"false"),t.addEventListener("click",(function(){C(this,e,a)})),a.appendChild(t)}(e,a,r,n)}function F(e,t,a){let n=-1===e.indexOf("prev")?1:-1,r=Object($.e)("button",[{label:"class",val:e},{label:"type",val:"button"},{label:"data-next",val:n},{label:"".concat(a[t].visAttr),val:!0}]);return-1===e.indexOf("prev")?r.setAttribute(Z.label,"next item"):(r.setAttribute(Z.label,"previous item"),r.setAttribute("disabled",!0)),r}function I(e,t,a,n){const r=Array.from(t.querySelectorAll("[".concat(n[a].visAttr," = 'true']"))),l=e.getAttribute("data-next"),s=Array.from(t.querySelectorAll("["+n[a].pageAttr+'= "'+l+'"]')),i=e.parentNode.querySelector(".prev--".concat(a)),c=e.parentNode.querySelector(".next--".concat(a)),o=t.parentNode.querySelector("span[".concat(n[a].counterAttr,"]"));let d=parseInt(o.innerText);if(r.forEach(e=>{e.setAttribute("".concat(n[a].visAttr),!1)}),s.forEach(e=>{e.setAttribute("".concat(n[a].visAttr),!0)}),e.classList.contains("next--".concat(a))){let t=parseInt(e.getAttribute("data-next"));t===n[a].endPosition&&e.setAttribute("disabled",!0),t++,e.setAttribute("data-next",t);let r=parseInt(i.getAttribute("data-next"));r++,i.setAttribute("data-next",r),i.removeAttribute("disabled"),d++,o.innerText=d}else{let t=parseInt(e.getAttribute("data-next"));0===t&&e.setAttribute("disabled",!0),t--,e.setAttribute("data-next",t);let a=parseInt(c.getAttribute("data-next"));a--,c.setAttribute("data-next",a),c.removeAttribute("disabled"),d--,o.innerText=d}}function P(e,t,a,n){Rt="forward"===a?parseInt(t+e):parseInt(t-e),1>Rt&&(Rt=1);let r=n.querySelectorAll("li");for(let e=0;e<r.length;e++)r[e].getAttribute("data-device")&&r[e].removeAttribute("data-device"),r[Rt-1]&&r[Rt-1].setAttribute("data-device","mobile"),r[Rt]&&r[Rt].setAttribute("data-device","tablet"),r[Rt+1]&&r[Rt+1].setAttribute("data-device","desktop")}function M(e,t,a,n){let r=n.querySelectorAll(".slider__controls__wrap");for(const n of r)"forward"===a&&(Rt=t+e),"back"===a&&1<=t-e&&(Rt=t-e),"back"===a&&1>t-e&&(Rt=1),n.setAttribute("data-currentposition",Rt);for(const t of r){t.setAttribute("data-currentposition",Rt),e=t.getAttribute("data-increment");let a=Rt/e,n=t.querySelector(".slide__controls__progress__active"),r=parseInt(t.getAttribute("data-slides")),l=t.querySelector(".slide__controls__progress__total"),s=!1;0==(Rt-1)%e&&(s=!0),s?Mt===e&&1===Rt&&(l.textContent=r):(a+=1,Mt-Rt>=e&&Rt<Mt&&0!=(Mt-1)%e?(r+=1,l.textContent=r):Mt-Rt>=e&&Rt<Mt&&0==(Mt-1)%e?l.textContent=r:Mt-Rt<e&&1===r&&(r+=1,l.textContent=r,a=r)),a>r?t.setAttribute("data-currentposition",r):n.textContent=V(a),V(a)>=r?t.querySelector(".slider__controls__buttons__next").setAttribute("disabled",!0):t.querySelector(".slider__controls__buttons__next").removeAttribute("disabled"),1>=V(a)?t.querySelector(".slider__controls__buttons__prev").setAttribute("disabled",!0):t.querySelector(".slider__controls__buttons__prev").removeAttribute("disabled")}}function R(e,t){e.setAttribute(Z.selected,t),t?e.setAttribute(Z.current,!0):e.removeAttribute(Z.current)}function B(e,t){e.preventDefault(),function(e){const t=e.closest(".".concat(Ht)),a=t.querySelector(".".concat(Vt)),n=Array.from(a.querySelectorAll("li")),r=Array.from(t.childNodes).filter(e=>e.className&&e.className===Ut);n.forEach(e=>{R(e.firstElementChild,!1)}),r.forEach(e=>e.setAttribute("hidden","true")),R(e,!0),t.querySelector(e.dataset.hash).removeAttribute("hidden"),e.focus()}(t)}function Q(e,t,a){if(t){const n=document.createTextNode(t);return a?((e=Object($.e)("a",[])).href=a,e.appendChild(n)):(e=Object($.e)("span",[])).appendChild(n),e}}function H(e,t,a){Array.from(e.querySelectorAll("a")).forEach(e=>{if(e.origin===window.location.origin){const n=e.search?Object($.m)(e.search):{};n[t]=a,e.href="".concat(e.origin).concat(e.pathname).concat(Object($.l)(n)).concat(e.hash)}})}function U(e){try{return e()}catch(e){Object($.h)("jsError","JavaScript error","Line ".concat(e.lineNumber," – ").concat(e.message),"Pattern launch ".concat(e.fileName," (").concat(window.location,")"),!0)}}function z(e){if("function"==typeof e)U(e);else if(e.launchQuery){const{launchFn:t,launchQuery:a}=e;Array.from(document.querySelectorAll(a)).filter(e=>e.className.indexOf("".concat(a,"-no-js"))).forEach(e=>U(()=>t(e)))}}var V=Math.ceil,Y=Number.parseInt,W=Math.max,J=Math.sign,K=Math.round;a.r(t),a.d(t,"tryCatch",(function(){return U}));a(48),a(29),a(3);var X=a(9),G=a.n(X),Z=Object.freeze({activeDescendant:"aria-activedescendant",atomic:"aria-atomic",autoComplete:"aria-autocomplete",busy:"aria-busy",checked:"aria-checked",colCount:"aria-colcount",colIndex:"aria-colindex",colSpan:"aria-colspan",controls:"aria-controls",current:"aria-current",describedBy:"aria-describedby",details:"aria-details",disabled:"aria-disabled",dropEffect:"aria-dropeffect",errorMessage:"aria-errormessage",expanded:"aria-expanded",flowTo:"aria-flowto",grabbed:"aria-grabbed",hasPopup:"aria-haspopup",hidden:"aria-hidden",invalid:"aria-invalid",keyShortcuts:"aria-keyshortcuts",label:"aria-label",labelledBy:"aria-labelledby",level:"aria-level",live:"aria-live",modal:"aria-modal",multiLine:"aria-multiline",multiSelectable:"aria-multiselectable",orientation:"aria-orientation",owns:"aria-owns",placeholder:"aria-placeholder",posInset:"aria-posinset",pressed:"aria-pressed",readOnly:"aria-readonly",relevant:"aria-relevant",required:"aria-required",roleDescription:"aria-roledescription",rowCount:"aria-rowcount",rowIndex:"aria-rowindex",rowSpan:"aria-rowspan",selected:"aria-selected",setSize:"aria-setsize",sort:"aria-sort",valueMax:"aria-valuemax",valueMin:"aria-valuemin",valueNow:"aria-valuenow",valueText:"aria-valuetext"}),$=a(2);const ee="accordion",te=ee+"__heading",ae=te+"__text",ne=te+"__indicator fal",re=ee+"__body",le=100,se=Object($.n)()?0:1e3;var ie={launchFn:function(e){const t=Object($.q)(e.dataset.toggleopen),a=Object($.q)(e.dataset.defaultopen),r=Object($.q)(e.dataset.allowsingle),s=Array.from(e.parentNode.querySelectorAll("#".concat(e.id," > .").concat(te)));return r||1<s.length?(s.forEach(e=>{const a=e.nextElementSibling,r=function(e){const t=document.createElement("button"),a=document.createElement("div"),n=document.createElement("span"),r=document.createElement("span");return n.className=ae,r.className=ne,r.setAttribute(Z.hidden,!0),t.setAttribute("type","button"),n.appendChild(document.createTextNode(e.textContent)),Object($.a)(a,[n,r]),t.appendChild(a),t}(e);a.setAttribute(Z.labelledBy,e.id),a.setAttribute("role","region"),e.replaceChild(r,e.firstChild),n(e,!1),e.nextElementSibling.dataset.closed="true",r.addEventListener("click",()=>l(r,s,t),!0)}),void(a&&(n(s[0],!0),s[0].nextElementSibling.dataset.closed="false"))):void Object($.o)(e,ee,!1)},launchQuery:".".concat(ee)};const ce=window.innerHeight,oe=4;var de={launchFn:function(e){const t=e.querySelectorAll("a")[0];window.addEventListener("load",(function(){e.querySelector(".back-to-top__button__arrow").appendChild(Object($.e)("span",[{label:"content",val:"top"},{label:"class",val:"back-to-top__button__arrow__label"}])),e.setAttribute("hidden","true"),window.addEventListener("scroll",()=>{(function(e){const t=e.querySelector("path"),a=t.getTotalLength();t.style.strokeDasharray=a+" "+a,t.style.strokeDashoffset=a;const n=window.pageYOffset,r=document.documentElement.scrollHeight-window.innerHeight;t.style.strokeDashoffset=a-n*a/r})(t),function(e){const t=window.pageYOffset;t>ce*oe?(e.dataset.docked="false",e.removeAttribute("hidden")):200>t&&(e.setAttribute("hidden","true"),e.dataset.docked="false")}(e)},!1)}))},launchQuery:".".concat("back-to-top")};a(20);const ue=Object($.f)();class pe{constructor(e,t){this.elem=e,this.config=t||{},this.i=0,this.x0=null,this.locked=!1,this.sliderTranslateCoOr=0}numIndicator(e,t){t.querySelector(".swiper-indicator__active-slider").innerText=e+1}activeSlider(e,t){let a=Object($.p)(t.querySelectorAll(".swiper-slide"));a.forEach(e=>{e.classList.remove("active"),e.querySelectorAll("a").forEach(e=>e.tabIndex=-1),e.setAttribute("aria-hidden","true")}),a[e].classList.toggle("active"),a[e].querySelectorAll("a").forEach(e=>e.tabIndex=0),a[e].setAttribute("aria-hidden","false")}toogleNextBtn(e,t,a){let n=this.checkEventType(a);e+1===t?(n.querySelector(".swiper-button-next button").disabled=!0,n.querySelector(".swiper-button-prev button").disabled=!1):this.i+1<t&&(n.querySelector(".swiper-button-next button").disabled=!1,n.querySelector(".swiper-button-prev button").disabled=!1),this.activeSlider(e,n),this.config.hidNumInd||this.numIndicator(e,n)}tooglePrevBtn(e,t,a){let n=this.checkEventType(a);1===e+1?(n.querySelector(".swiper-button-prev button").disabled=!0,n.querySelector(".swiper-button-next button").disabled=!1):1<this.i+1&&(n.querySelector(".swiper-button-prev button").disabled=!1,n.querySelector(".swiper-button-next button").disabled=!1),this.activeSlider(e,n),this.config.hidNumInd||this.numIndicator(e,n)}moveSlide(e,t){const a=this.checkEventType(e).querySelector(".swiper-wrapper");if(a.classList.contains("smooth")&&a.classList.toggle("smooth"),ue){let n=this.totalSliderWidth(e)/a.children.length*this.i,r=this.totalSliderWidth(e)/a.children.length;t?this.sliderTranslateCoOr-=r:this.sliderTranslateCoOr+=r,a.classList.toggle("smooth"),this.config.defaultCarousel&&"INPUT"===e.target.tagName?(this.sliderTranslateCoOr=-n,a.style.setProperty("transform","translate(-"+n+"px)"),a.style.setProperty("--i",this.i)):(a.style.setProperty("transform","translate("+this.sliderTranslateCoOr+"px)"),t?0===this.i?this.i=1:this.i+=1:0===this.i?this.i=1:this.i-=1),t?this.toogleNextBtn(this.i,a.children.length,e):this.tooglePrevBtn(this.i,a.children.length,e)}else this.config.defaultCarousel&&"INPUT"===e.target.tagName?a.style.setProperty("--i",this.i):t?a.style.setProperty("--i",0===this.i?this.i=1:this.i+=1):a.style.setProperty("--i",0===this.i?this.i=1:this.i-=1),a.classList.toggle("smooth"),t?this.toogleNextBtn(this.i,a.children.length,e):this.tooglePrevBtn(this.i,a.children.length,e);this.config.defaultCarousel&&this.activeThumbnail(this.i,e)}next(e){e.preventDefault(),this.moveSlide(e,!0)}previous(e){e.preventDefault(),this.moveSlide(e,!1)}unify(e){return e.changedTouches?e.changedTouches[0]:e}lock(e){this.x0=this.unify(e).clientX,e.target.classList.toggle("smooth",!(this.locked=!0))}drag(e){this.i!==e.target.children.length-1&&0!==this.i&&this.locked&&e.target.style.setProperty("--tx","".concat(K(this.unify(e).clientX-this.x0),"px"))}move(e){if(this.locked){let t=this.unify(e).clientX-this.x0,a=J(t),n=getComputedStyle(e.target).getPropertyValue("--tx"),r=parseInt(n.replace(/\D/g,""));(0<this.i||0>a)&&(this.i<e.target.children.length-1||0<a)&&(100<r||0===this.i||this.i===e.target.children.length-1)&&(ue?(this.animateSlider(e,a),-1===a?this.toogleNextBtn(this.i,e.target.children.length,e):this.tooglePrevBtn(this.i,e.target.children.length,e)):(e.target.style.setProperty("--i",this.i-=a),e.target.style.setProperty("--tx","0px"),e.target.classList.toggle("smooth",!(this.locked=!1)),this.x0=null,-1===a?this.toogleNextBtn(this.i,e.target.children.length,e):this.tooglePrevBtn(this.i,e.target.children.length,e)),this.config.defaultCarousel&&this.activeThumbnail(this.i,e))}}stopDrag(e){e.target.style.setProperty("--tx","0px"),e.stopPropagation(),e.target.classList.toggle("smooth",!(this.locked=!1))}checkEventType(e){if(e.target.parentElement.classList.contains("galleria-thumbnail"))return e.target.parentElement.parentElement.parentElement.parentElement;switch(e.type){case"mouseup":case"touchend":return e.target.parentElement.parentElement;default:return e.target.parentElement.parentElement.parentElement}}totalSliderWidth(e){const t=Object($.p)(this.checkEventType(e).querySelectorAll(".swiper-slide"));let a=0;return t.forEach(e=>{let t=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle;a+=e.offsetWidth+parseInt(t.marginRight)||0}),a}animateSlider(e,t){let a=this.totalSliderWidth(e)/e.target.children.length;-1===t?this.sliderTranslateCoOr-=a:this.sliderTranslateCoOr+=a,e.target.style.setProperty("transform","translate("+this.sliderTranslateCoOr+"px)"),e.target.classList.toggle("smooth"),this.i-=t}init(){const e=[].slice.call(this.elem.querySelectorAll("img.lazy"));if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){let t=new IntersectionObserver((function(e){e.forEach((function(e,a){if(0===a&&e.target.firstElementChild.classList.remove("lazy"),e.isIntersecting){let a=e.target.parentNode.nextSibling.firstElementChild.firstElementChild;a.src=a.dataset.src,a.classList.remove("lazy"),t.unobserve(e.target)}}))}));e.forEach((function(e,a,n){a===n.length-1?e.classList.remove("lazy"):t.observe(e.parentNode)}))}else e.forEach(e=>{e.dataset.src&&(e.src=e.dataset.src),e.classList.remove("lazy")});const t=this.elem.querySelector(".swiper-wrapper"),a=document.createElement("div"),n=document.createElement("span"),r=document.createElement("span"),l=document.createElement("span"),s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("BUTTON"),d=document.createElement("BUTTON");s.className="swiper-buttons-wrap",i.className="swiper-button-prev",c.className="swiper-button-next",o.name="nextButton",o.type="button",o.className="fas fa-arrow-right swiper-slider-arrow arrow-right--btn-next",o.setAttribute("aria-label","Next slider"),o.addEventListener("click",this.next.bind(this),!1),d.name="prevButton",d.type="button",d.className="fas fa-arrow-left swiper-slider-arrow arrow-left--btn-prev",d.setAttribute("aria-label","Previous slider"),d.addEventListener("click",this.previous.bind(this),!1),d.disabled=!0,c.appendChild(o),i.appendChild(d),s.appendChild(i),s.appendChild(c),this.config.hidNumInd||(a.className="swiper-indicator",n.className="swiper-indicator__active-slider",l.className="swiper-indicator__slider-length",n.innerText=this.i+1,l.innerText=t.children.length,r.innerText=" /",a.appendChild(n),a.appendChild(r),a.appendChild(l),this.elem.appendChild(a)),this.elem.appendChild(s),this.config.sliderLength=t.children.length,this.config.defaultCarousel&&this.elem.querySelector(".galleria-thumbnails-list").style.setProperty("--thumbnails",this.config.sliderLength),t.style.setProperty("--n",this.config.sliderLength),t.addEventListener("mousedown",this.lock.bind(this),!1),t.addEventListener("touchstart",this.lock.bind(this),!1),t.addEventListener("mousemove",this.drag.bind(this),!1),t.addEventListener("touchmove",this.drag.bind(this),!1),t.addEventListener("mouseup",this.move.bind(this),!1),t.addEventListener("touchend",this.move.bind(this),!1),t.addEventListener("mouseout",this.stopDrag.bind(this),!1),t.firstElementChild.classList.toggle("active"),this.activeSlider(this.i,t)}}var me={launchFn:function(e){new pe(e).init()},launchQuery:".".concat("swiper-container")};a(5),a(6);let fe;var _e={launchFn:function(e){(function(e){let t=e.querySelectorAll(".chart--bar--horizontal__collection"),a=[];for(const e of t){let t=e.querySelector("[data-bar-total]");t=parseInt(t.dataset.barTotal),a.push(t)}fe=W(...a)})(e),function(e){let t=e.querySelectorAll(".chart--bar--horizontal__collection"),a=[],n=e.dataset.units;for(const e of t){let t=e.querySelector("[data-bar-total]"),n=e.querySelector("[data-bar-segment]"),r=parseInt(t.dataset.barTotal),l=parseInt(n.dataset.barSegment),s=K(r/fe*100),i=K(l/r*100);e.setAttribute("data-bar-width","".concat(s));let c=K(i*s/100);n.setAttribute("data-relative-width","".concat(c));let o=e.querySelectorAll("[data-bar-segment]");for(const e of o){let t=parseInt(e.dataset.relativeWidth);a.push(t)}n.setAttribute("data-segment-width","".concat(i))}let r=W(...a);e.querySelector('[data-relative-width="'.concat(r,'"]')).querySelectorAll("span")[0].append(" ".concat(n))}(e)},launchQuery:".".concat("chart--bar--horizontal")};const he="cms-editor",be=he+"-warning",ge=be+"-remover";var ye={launchFn:function(e){const t=Array.from(e.querySelectorAll(".".concat(be)));if(t.length){const a=function(){const e=document.createElement("button");return e.className=ge,e.setAttribute("type","button"),e.appendChild(document.createTextNode("Remove CMS editor warnings")),e}(),n=document.createElement("div");a.addEventListener("click",()=>{t.forEach(e=>e.parentNode.removeChild(e)),a.parentNode.removeChild(a),Object($.o)(e,he,!1)},!0),n.className="wrapper--"+ge,n.appendChild(a),document.querySelector("body").insertBefore(n,document.querySelector(".global-footer"))}},launchQuery:".".concat(he)},ve=(a(44),{launchFn:function(e){const t=window.innerHeight;Object($.i)()||(e.classList.add("content-fade-in--start"),window.addEventListener("scroll",(function(){const a=e.offsetTop;window.pageYOffset>a-t+10&&!e.className.includes("content-fade-in--complete")&&e.classList.add("content-fade-in--complete")})))},launchQuery:".".concat("content-fade-in")}),Ee={launchFn:function(e){const t=window.innerHeight;let a=function(e){let t=document.createElement("div");return t.setAttribute("class","content-separator"),e.prepend(t),t}(e);Object($.i)()||(a.classList.add("content-separator--transition-start"),window.addEventListener("scroll",(function(){const e=a.offsetTop;window.pageYOffset>e-t+20&&!a.className.includes("content-separator--transition-complete")&&a.classList.add("content-separator--transition-complete")})))},launchQuery:".".concat("content-separator-container")},Ne={launchFn:function(e){const t=window.innerHeight;Object($.i)()||(e.classList.add("content-slideup--start"),window.addEventListener("scroll",(function(){const a=window.pageYOffset,n=e.offsetTop,r=e.parentElement.offsetHeight-parseInt(window.getComputedStyle(e.parentElement,null).getPropertyValue("padding-bottom"))-parseInt(window.getComputedStyle(e.parentElement,null).getPropertyValue("padding-top"));a>n-t-70*r/100&&!e.className.includes("content-slideup--end")&&e.classList.add("content-slideup--end")})))},launchQuery:".".concat("content-slide-up")};a(12);let we="",Ae="";var qe={launchFn:function(e){const t=e.querySelectorAll("ul.data-group > li"),a=e.dataset.firstItemShow;Ae=e.dataset.displayAll,s(t,a,Ae),function(e,t,a){we=t.querySelector("ul.data-group");const n=document.createElement("select"),r=t.querySelector(".wrapper--dropdown-filter__select"),l=t.dataset.labelFor,s=t.dataset.labelValue,i=document.createElement("label");if(i.textContent=s,i.setAttribute("for",l),"false"===t.dataset.labelShow&&(i.className="sr-only"),n.className="dropdown-filter__select",n.setAttribute("id",l),n.setAttribute("name",l),r.append(i,n),"false"===t.dataset.displayAll){let e=document.createElement("option");e.text=t.getAttribute("data-text"),e.setAttribute("value","no-selection"),n.appendChild(e)}let c,o;e="true"===t.dataset.alphabetical?Array.from(e).sort((e,t)=>e.dataset.value<t.dataset.value?-1:e.dataset.value>t.dataset.value?1:0):[...e];for(const t of e)we.append(t);for(const t of e)"true"===t.dataset.first&&(c=t),"true"===t.dataset.last&&(o=t);const d=e.length;if("true"===t.dataset.displayAll){let a=document.createElement("li");a.dataset.name="All ".concat(t.dataset.units),a.dataset.value="show-all",e.splice(0,0,a)}let u=e.indexOf(c);if(o){let t=e.indexOf(o);e.splice(t,1),e.splice(d,0,o)}if(Array.from(e).forEach(e=>{const t=e.dataset.value,a=e.dataset.name,r=document.createElement("option");r.value=t,r.text=a,n.appendChild(r)}),"true"===a&&"false"===Ae){const e=t.querySelectorAll("option");c&&(o&&"true"===t.dataset.alphabetical?e[u].setAttribute("selected","selected"):e[u+1].setAttribute("selected","selected"))}}(t,e,a),e.querySelector(".dropdown-filter__select").addEventListener("change",i)},launchQuery:".".concat("dropdown-filter")};a(14);const Se="feedback",xe="/feedback";var ke={launchFn:function(e){const t=document.createTextNode("Is this page useful?"),a=document.createElement("div"),n=document.createElement("form"),r=document.createElement("fieldset"),l=document.createElement("legend"),s=document.createElement("div"),i=document.createElement("button"),o=document.createElement("button");i.setAttribute("type","button"),i.appendChild(document.createTextNode("Yes")),i.addEventListener("click",()=>function(e){c("Useful",1);const t=document.createElement("p"),a=document.createTextNode("Thanks! Your feedback will be used to improve our website.");e.childNodes.forEach(t=>e.removeChild(t)),t.appendChild(a),t.setAttribute(Z.live,"polite"),e.appendChild(t)}(a),!0),o.setAttribute("type","button"),o.appendChild(document.createTextNode("No")),o.addEventListener("click",()=>function(e){c("Not useful",0);const t=document.createElement("p"),a=document.createTextNode("We’re sorry to hear that, please consider "),n=document.createTextNode("sending us some feedback"),r=document.createElement("a"),l=document.createTextNode(" so we can make it better.");e.childNodes.forEach(t=>e.removeChild(t)),r.href=xe,r.appendChild(n),Object($.a)(t,[a,r,l]),t.setAttribute(Z.live,"polite"),e.appendChild(t)}(a),!0),s.className="feedback__direct__buttons",l.appendChild(t),Object($.a)(s,[i,o]),Object($.a)(r,[l,s]),n.appendChild(r),a.appendChild(n),a.className=Se+"__direct",e.insertBefore(a,e.firstElementChild)},launchQuery:".".concat(Se)},Ce=a(47);class je extends pe{constructor(e,t){super(e,t)}inital(){super.init();let e=this,t=[].slice.call(this.elem.querySelector(".galleria-thumbnails-list").querySelectorAll("li")),a=document.documentElement.classList.contains("edge"),n=new IntersectionObserver((function(e){e.forEach((function(e){1===e.intersectionRatio?e.target.setAttribute("aria-hidden","false"):e.target.setAttribute("aria-hidden","true")}))}),{rootMargin:"0px",threshold:[0,1]}),r=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.setAttribute("aria-hidden","false"):!e.isIntersecting&&e.target.setAttribute("aria-hidden","true")}))}));t.forEach((function(t,l){0===l&&t.classList.add("active"),t.addEventListener("click",(function(t){e.onClickThunbnail(t,l)}),!1),t.addEventListener("keyup",(function(t){switch(t.keyCode){case 13:e.onClickThunbnail(t,l);break;case 9:e.translateThumbnails(l,t)}}),!1),t.setAttribute("aria-hidden","false"),$.d&&!a?r.observe(t):$.d&&a&&n.observe(t)}))}onClickThunbnail(e,t){t>this.i?(this.i=t,this.next(e)):t<this.i&&(this.i=t,this.previous(e)),this.activeThumbnail(t,e)}activeThumbnail(e,t){let a=this.checkEventType(t),n=document.createElement("span"),r=a.querySelector(".galleria-thumbnails-list").getElementsByTagName("li");n.innerText="Current thumbnail",n.className="galleria-thumbnail__current-thumbnail";for(const e of r)e.classList.remove("active"),e.querySelector(".galleria-thumbnail__current-thumbnail")&&e.querySelector(".galleria-thumbnail__current-thumbnail").remove();r[e].classList.add("active"),r[e].appendChild(n),this.translateThumbnails(e,t)}translateThumbnails(e,t){let a=this.checkEventType(t).querySelector(".galleria-thumbnails-list"),n=a.getElementsByTagName("li").length,r=0;if(0!==e&&4<n){a.getElementsByTagName("li").forEach((t,a)=>{if(a<e-1){let e=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,a=parseInt(e.width)+parseInt(e.marginRight);r+=a}}),2<=e?a.style.setProperty("transform","translate(-"+r+"px)"):a.style.setProperty("transform","translate(0px)")}}}var Oe={launchFn:function(e){new je(e,{defaultCarousel:!0,hidNumInd:!0}).inital()},launchQuery:".".concat("carousel-gallery")},De={launchFn:function(e){if(!Object($.i)()){const t=window.innerHeight;e.classList.add("image-expand--start"),window.addEventListener("scroll",(function(){const a=e.offsetTop;window.pageYOffset>a-t+100&&!e.className.includes("image-expand--complete")&&e.classList.add("image-expand--complete")}))}},launchQuery:".".concat("image-expand")},Te={launchFn:function(e){e.querySelectorAll("a").forEach((function(e){(function(e){const t={pdf:"pdf",docx:"word",doc:"word",xlsx:"excel",xls:"excel"};for(let a in t)if(-1!==e.href.indexOf("."+a)){o(e,"fa-file-"+t[a]);let n=e.textContent;n+=" ["+a.toUpperCase()+"]",e.textContent=null,e.textContent=n;break}})(e),function(e){if(e.origin!==window.location.origin&&1>e.querySelectorAll("img").length&&1>e.querySelectorAll(".fa-external-link").length&&!e.parentElement.className.includes("cta-like-anchor")&&"social-icon"!==e.className&&!e.className.includes("cta")&&!e.parentElement.className.includes("cta-block")&&!e.parentElement.className.includes("card")&&0!==e.href.indexOf("mailto:")&&0!==e.href.indexOf("tel:")&&e.origin){let t=document.createElement("span");t.className="far fa-external-link inline-external-link",t.setAttribute(Z.label,"(external link)"),e.appendChild(t)}}(e)}))},launchQuery:".".concat("link-finder")};a(4);let Le,Fe=window.location.hash;var Ie={launchFn:function(e){let t=e.getAttribute("id"),a=e.querySelectorAll(".item"),n=parseInt(e.dataset.increment),r=e.querySelector(".content-toggle button"),l=e.getAttribute("data-item-parent"),s=e.getAttribute("data-item-children");e.setAttribute("data-items-visible",n);let i=parseInt(e.getAttribute("data-items-visible"));if(Fe){let t=Fe.split("-"),l=parseInt(Object($.k)(t[1]));i=l+(n-1),e.setAttribute("data-items-visible",i),d(a,i,r),u(a,i,n)}else d(a,i,r);r.addEventListener("click",()=>{i+=n,e.setAttribute("data-items-visible",i),d(a,i,r),u(a,i,n),Fe=window.location.hash,Fe?function(e,t,a,n,r){history.replaceState("","","#".concat(e).concat(a,"-").concat(t).concat(n-(r-1)))}(l,s,t,i,n):function(e,t,a,n,r){history.pushState("","","#".concat(e).concat(a,"-").concat(t).concat(n-(r-1)))}(l,s,t,i,n),Le=e.id}),window.onpopstate=()=>{let t=document.getElementById(Le);if(Fe=window.location.hash,Fe){let t=window.location.hash.split("-"),l=parseInt(Object($.k)(t[1]));l+=n-1,i=l,e.setAttribute("data-items-visible",i),d(a,i,r),u(a,i,n)}else{let l=t.querySelectorAll(".item");i=n,d(a,i,r),e.setAttribute("data-items-visible",n),u(l,i,n)}}},launchQuery:".".concat("load-more")},Pe=a(21),Me=a.n(Pe);const Re=Object($.n)()?0:1e3,Be="menu",Qe=Be+"__hierarchy",He=Be+"__current",Ue=Be+"__content__header",ze=Ue+"--current",Ve=Be+"__controls",Ye=Be+"__level1",We=Be+"__button__text";var Je={launchFn:function(e){e.innerHTML=e.innerHTML.replace(/\(\( /g,"").replace(/ \)\)/g,"");const t=e.querySelector(".".concat(Be+"__display__button")),a=document.createElement("button"),n=document.createElement("div"),r=function(e,t){return a=>{const n=t.querySelector(".".concat(We));e.dataset.open=a,n.innerText=a?"Close":"Menu",t.setAttribute(Z.expanded,a)}}(e,a);n.className=Be+"__veil",n.setAttribute(Z.hidden,"true"),document.querySelector("body").insertBefore(n,document.querySelector("main")),function(e,t,a,n){const r=document.createElement("div"),l=e.closest(".".concat(Be));t.className="menu__display__button__button",r.className="menu__display__button__button__wrapper",t.setAttribute("type","button"),t.setAttribute(Z.hasPopup,"menu"),Array.from(e.childNodes).forEach(e=>r.appendChild(e)),t.appendChild(r);const s=Me()(l,{initialFocus:()=>{const e=Array.from(l.querySelectorAll([".".concat(Ue," > span"),".".concat(He," > .").concat(Ve," > a"),".".concat(Qe," > .").concat(Ve," > a"),".".concat(Ye," > ul > li:first-of-type > .").concat(Ve," > a"),".".concat(ze," > a")].join(","))).filter(e=>Object($.j)(e));return e[e.length-1]},onDeactivate:()=>_(t,a,s,n),clickOutsideDeactivates:!0});t.addEventListener("click",()=>_(t,a,s,n),!0)}(t,a,r,n),t.appendChild(a),r(!1),m(e.querySelector(".".concat(Ye)),Be),f(e.querySelector(".".concat(Ye)),Be)},launchQuery:".".concat(Be)};const Ke=27,Xe=Object($.n)()?0:1e3;let Ge;var Ze={launchFn:function(e){let t=[];const a=e.getAttribute("data-topic");Array.from(e.getElementsByTagName("li")).forEach((n,r)=>{if(!n.dataset.modalcontent||"true"===n.dataset.modalcontent){const l=document.createElement("div"),s=document.createElement("button"),i=Array.from(n.childNodes),c=n.firstElementChild,o=n.getAttribute("data-header"),d=n.getAttribute("data-keepformat"),u=document.createElement("div");let p,m=Object($.q)(d),f=n.getAttribute("data-shortname");s.classList.add("modal__button"),s.setAttribute("type","button"),s.setAttribute(Z.label,"open dialog"),n.appendChild(l),Object($.a)(l,i),l.classList.add("".concat("modal__body")),p=o||c.innerText,null===f&&(f=c.innerText),m?(n.insertBefore(c,l),c.addEventListener("click",(function(){h(e,"".concat(r),t)}))):(s.textContent=c.textContent,u.appendChild(c),n.insertBefore(s,l),s.addEventListener("click",(function(){h(e,"".concat(r),t)}))),t.push({title:p,body:l.innerHTML,topic:a,shortname:f})}})},launchQuery:".".concat("modal")};a(72);const $e=1500;var et={launchFn:function(e){const t=[].slice.call(e.querySelectorAll(".animate--number"));Object($.d)()&&t.forEach((function(e){(function(e){const t=e.dataset.animationNumberStart||"0",a=parseFloat(t),n=v(e),r=n.innerHTML.trim().replace(/,/g,"");!!r.match(/^-?[0-9,]+(\.[0-9,]+])?/)&&(e.dataset.animationNumberValue=parseFloat(r),e.dataset.animationNumberFloat=!!r.match(/\./),e.dataset.animationNumberStart=a,n.innerHTML=t,e.classList.add("animate--number--init"))})(e),function(e,t){let a=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{threshold:[0,.1,1]};if(e&&null!=e){let r=new IntersectionObserver((function(n){n.forEach(n=>{n.isIntersecting&&("string"==typeof t?e.classList.add(t):"function"==typeof t&&t(e),!1===a&&r.unobserve(e))})}),n);r.observe(e)}}(e,E)}))},launchQuery:".".concat("animate-number")};const tt="pagination",at="page",nt=tt+"__wrapper",rt=tt+"__controls",lt=rt+"__element",st=rt+"__ellipsis",it=rt+"__button",ct=tt+"__summary",ot=/pagination__controls__button--(next|prev)/,dt=6,ut=Object($.n)()?0:1e3,pt=2;var mt={launchFn:S,launchQuery:".".concat(tt)};const ft="paginated-list",_t=1,ht=12;var bt={launchFn:function(e){if("UL"!==e.tagName&&"OL"!==e.tagName)return void Object($.o)(e,ft,!1);const t=Y(e.dataset.pagesize)?Y(e.dataset.pagesize):8,a=Array.from(e.children),n=function(e){return e<_t?_t:e>ht?ht:e}(t);if(a.length<=n)return void Object($.o)(e,ft,!1);const r=[],l=!("OL"!==e.tagName||!e.hasAttribute("reversed")),s="OL"===e.tagName&&e.hasAttribute("start")?Y(e.hasAttribute("start")):l?a.length:1;e.setAttribute("role","presentation");for(let t=0,i=a.slice(0,n);0<i.length;){const c=document.createElement("li"),o="UL"===e.tagName?document.createElement("ul"):document.createElement("ol");"OL"===e.tagName&&(l?(o.setAttribute("start",s-n*t),o.setAttribute("reversed","true")):o.setAttribute("start",n*t+s)),i.forEach(e=>o.appendChild(e)),c.appendChild(o),c.className=at,c.setAttribute("tabindex",-1),c.setAttribute(Z.label,"Page ".concat(t+1)),r.push(c),++t,i=a.slice(n*t,n*t+n)}r.forEach(t=>e.appendChild(t)),S(e,a.length)},launchQuery:".".concat(ft)},gt=(a(201),{launchFn:function(){particlesJS("particles-js",{particles:{number:{value:80},color:{value:"#e5e5e5"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.8,random:!1,anim:{enable:!1,speed:1,opacity_min:.4,sync:!1}},size:{value:7,random:!0,anim:{enable:!1,speed:40,size_min:3,sync:!1}},line_linked:{enable:!0,distance:150,color:"#e5e5e5",opacity:.9,width:2},move:{enable:!0,speed:1,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})},launchQuery:".".concat("particle-animation")});const yt="navigation",vt=yt+"--primary",Et=vt+"__section-text",Nt=yt+"__button",wt=Nt+"__open-close",At=Nt+"__navigation",qt=vt+"__menu__header",St="Open",xt="Close",kt="navigation section",Ct=9;var jt={launchFn:function(e){e.innerHTML=e.innerHTML.replace(/\(\( /g,"").replace(/ \)\)/g,"");const t=document.createElement("div"),a=function(e,t){return()=>{Array.from(e.querySelectorAll(".navigation--primary__level1 > .navigation__button")).forEach(e=>{e.setAttribute(Z.expanded,"false"),e.querySelector(".".concat(wt)).replaceChild(document.createTextNode(St),e.querySelector(".".concat(wt)).firstChild)}),t.dataset.on="false"}}(e,t);t.className=yt+"__veil",t.setAttribute(Z.hidden,"true"),document.querySelector("body").insertBefore(t,document.querySelector("main")),function(e,t,a){Array.from(e.querySelectorAll(".".concat(Et))).forEach(e=>{const n=e.parentNode,r=document.createElement("button"),l=document.createElement("div"),s=document.createElement("span"),i=document.createElement("span"),c=x(r,a,t);e.removeAttribute("tabindex"),r.setAttribute(Z.expanded,"false"),r.setAttribute(Z.owns,e.nextElementSibling.id),r.setAttribute("type","button"),r.id=e.nextElementSibling.id+"-button",r.className=Nt,s.className=wt,s.appendChild(document.createTextNode(St)),i.className=At,i.appendChild(document.createTextNode(kt)),r.addEventListener("click",()=>c(),!0),Object($.a)(l,[s,document.createTextNode(" "),e,document.createTextNode(" "),i]),r.append(l),n.prepend(r)})}(e,t,a),function(e){Array.from(e.querySelectorAll(".navigation__level2 li")).forEach(e=>{const t=e.querySelector("a"),a=document.createElement("span");a.appendChild(t.firstChild.cloneNode(!0)),t.replaceChild(a,t.firstChild)})}(e),function(e){Array.from(e.querySelectorAll(".".concat(qt))).forEach(e=>{const t=e.querySelector("a"),a=document.createElement("span");if(t)a.innerText=t.innerText+" overview",t.replaceChild(a,t.firstChild);else{const t=document.createElement("span"),n=e.firstChild.wholeText.trim()+" overview";a.appendChild(document.createTextNode(n)),t.appendChild(a),e.replaceChild(t,e.firstChild)}})}(e),function(e,t){Array.from(e.querySelectorAll(".navigation--primary__menu__content")).forEach(e=>{const a=e.querySelector(".".concat(qt)),n=document.createElement("div"),r=document.createElement("button"),l=document.createElement("div"),s=document.createElement("span"),i=document.createElement("span"),c="Close "+a.innerText.trim()+" menu";s.appendChild(document.createTextNode(c)),s.className="navigation--primary__menu__close__text",i.setAttribute(Z.hidden,"true"),i.className="fas fa-fw fa-times navigation--primary__menu__close__icon",n.className="wrapper--navigation--primary__menu__close",r.className="navigation--primary__menu__close",Object($.a)(l,[s,i]),r.appendChild(l),r.setAttribute("type","button"),r.title=c,r.addEventListener("click",()=>t(),!0),n.appendChild(r),e.appendChild(n)})}(e,a),function(e,t,a){const n=e.querySelector(".navigation--primary__level1:first-of-type > .navigation__button"),r=Array.from(e.querySelectorAll(".navigation--primary__level1:not(:first-of-type) > .navigation__button"));n.addEventListener("keydown",e=>{Object($.q)(n.getAttribute(Z.expanded))&&Ct===e.keyCode&&e.shiftKey&&t()}),r.forEach(e=>{const n=e.parentElement.previousElementSibling,r=n.querySelector("button"),l=n.querySelector(".navigation__level2 > li:last-of-type > a")?n.querySelector(".navigation__level2 > li:last-of-type > a"):n.querySelector(".navigation__level2 > li:last-of-type").previousElementSibling.querySelector("a"),s=x(r,t,a);e.addEventListener("keydown",t=>{Object($.q)(e.getAttribute(Z.expanded))&&Ct===t.keyCode&&t.shiftKey&&(t.preventDefault(),s(),l.focus())},!0)})}(e,a,t),function(e,t,a){const n=e.querySelector(".navigation--primary__level1:last-of-type .wrapper--navigation--primary__menu__close button"),r=Array.from(e.querySelectorAll(".navigation--primary__level1:not(:last-of-type) .wrapper--navigation--primary__menu__close button"));n.addEventListener("keydown",e=>{Object($.q)(n.closest(".navigation--primary__level1").querySelector("button").getAttribute(Z.expanded))&&Ct===e.keyCode&&!e.shiftKey&&t()}),r.forEach(e=>{const n=e.closest(".navigation--primary__level1").nextElementSibling.querySelector("button"),r=x(n,t,a);e.addEventListener("keydown",e=>{Ct!==e.keyCode||e.shiftKey||(e.preventDefault(),r(),n.closest(".navigation--primary__level1").querySelector(".".concat(qt," a")).focus())},!0)})}(e,a,t),e.addEventListener("keydown",t=>{e.querySelector(".".concat(Nt,"[aria-expanded='true']"))&&27===t.keyCode&&(t.preventDefault(),a())},!0),window.addEventListener("click",t=>{e.querySelector(".".concat(Nt,"[aria-expanded='true']"))&&!t.target.closest(".".concat(vt))&&a()},!0)},launchQuery:".".concat(vt)},Ot={launchFn:function(e){let t=e.querySelector(".cta-block__cta__path"),a=t.getAttribute("href");e.querySelector(".research-apply-link").setAttribute("href",a),t.remove()},launchQuery:".".concat("cta-block__cta--no-modal")};const Dt="navigation";var Tt={launchFn:function(e){e.innerHTML=e.innerHTML.replace(/\(\( /g,"").replace(/ \)\)/g,""),m(e,Dt),f(e,Dt)},launchQuery:".".concat(Dt+"--secondary")},Lt={launchFn:function(e){document.querySelectorAll(".show-more__text").forEach(e=>{e.setAttribute("data-hidden","true")}),function(e){let t=document.createElement("div");t.classList.add("show-more__button__container");let a=document.createElement("span");a.classList.add("show-more__button"),t.appendChild(a);let n=document.createElement("a");n.setAttribute("href",""),n.addEventListener("click",k),a.appendChild(n),e.appendChild(t);let r=document.createElement("span");r.classList.add("icon"),r.classList.add("fal"),r.classList.add("fa-plus-circle"),r.setAttribute(Z.hidden,!0);let l=document.createElement("span");l.classList.add("icon"),l.classList.add("fal"),l.classList.add("fa-minus-circle"),l.setAttribute(Z.hidden,!0);let s=document.createElement("span");s.classList.add("show-more__link-text"),s.appendChild(document.createTextNode("Show more"));let i=e.getAttribute("data-title"),c=document.createElement("span");c.appendChild(document.createTextNode("about "+i)),c.classList.add("sr-only"),n.appendChild(r),n.appendChild(l),n.appendChild(s),n.appendChild(c)}(e)},launchQuery:".".concat("show-more")};var Ft={launchFn:function(e){const t=[...e.children].length,a=V(t/2),n=V(t/3),r={default:{totalPages:t,endPosition:t-1,maxItem:1,pageAttr:"data-page",visAttr:"data-visible",counterAttr:"data-currentdefault",tabIndex:"tabindex",ariaLabel:"aria-label"},mobile:{totalPages:t,endPosition:t-1,maxItem:1,pageAttr:"data-page",visAttr:"data-visible",counterAttr:"data-currentdefault",tabIndex:"tabindex",ariaLabel:"aria-label"},tablet:{totalPages:a,endPosition:a-1,maxItem:2,pageAttr:"data-pagetablet",visAttr:"data-visibletablet",counterAttr:"data-currenttablet",tabIndex:"tabindex",ariaLabel:"aria-label"},desk:{totalPages:n,endPosition:n-1,maxItem:3,pageAttr:"data-pagedesk",visAttr:"data-visibledesk",counterAttr:"data-currentdesk",tabIndex:"tabindex",ariaLabel:"aria-label"}};if(2>t)return Object($.o)(e,"slider",!1),!0;let l=e.getAttribute("data-type"),s=e.getAttribute("data-control"),i=e.getAttribute("data-progress");l||(l="default"),s||(s="default"),i||(i="default");let c=Object($.e)("div",[{label:"class",val:"slider-block slider-block--".concat(l)}]);if(e.parentNode.insertBefore(c,e),c.appendChild(e),"off"!==i||"off"!==s){let e=Object($.e)("div",[{label:"class",val:"slider-block__control"}]);c.appendChild(e)}(function(e,t,a){if(Array.from(e.getElementsByTagName("li")).forEach((e,t)=>{e.setAttribute(a.default.pageAttr,"".concat(t)),e.setAttribute(a.default.tabIndex,"-1"),e.setAttribute(a.default.ariaLabel,"Slide ".concat(t+1)),0===t?e.setAttribute(a.default.visAttr,!0):e.setAttribute(a.default.visAttr,!1)}),"responsive"===t){const t=[...e.children];let n=Object($.b)(t,a.tablet.maxItem),r=Object($.b)(t,a.desk.maxItem);D(n,a.tablet.pageAttr,a.tablet.visAttr),D(r,a.desk.pageAttr,a.desk.visAttr)}})(e,l,r),"off"!==i&&function(e,t,a){const n=e.parentNode.querySelector(".slider-block__control");T(n,"default",a),"responsive"===t&&(a.default.totalPages>"".concat(a.tablet.maxItem)&&T(n,"tablet",a),a.default.totalPages>"".concat(a.desk.maxItem)&&T(n,"desk",a))}(e,l,r),"off"!==s&&L(e,s,l,r),O(e,0,r,s)},launchQuery:".".concat("slider")};const It="slider-responsive";let Pt,Mt,Rt;var Bt={launchFn:function(e){function t(t,a,n){let r=V(Mt/a),l=Object($.e)("div",[{label:"class",val:"slider__controls__wrap"},{label:"data-device",val:t},{label:"data-increment",val:a},{label:"data-currentPosition",val:n},{label:"data-length",val:Mt},{label:"data-slides",val:r}]),s=Object($.e)("div",[{label:"class",val:"slider__controls"}]),i=Object($.e)("div",[{label:"class",val:"slider__controls__progress"}]),c=Object($.e)("div",[{label:"class",val:"slider__controls__buttons"}]);i.appendChild(Object($.e)("span",[{label:"content",val:"1"},{label:"class",val:"slide__controls__progress__active"}])),i.appendChild(Object($.e)("span",[{label:"content",val:"/"},{label:"class",val:"slide__controls__progress__separator"}])),i.appendChild(Object($.e)("span",[{label:"content",val:V(Mt/a)},{label:"class",val:"slide__controls__progress__total"}])),c.appendChild(Object($.e)("button",[{label:"aria-label",val:"Previous item"},{label:"disabled",val:!0},{label:"class",val:"fas fa-arrow-left slider__controls__buttons__prev swiper-slider-arrow arrow-left--btn-prev"}])),Mt===a?c.appendChild(Object($.e)("button",[{label:"aria-label",val:"Next item"},{label:"class",val:"fas fa-arrow-right slider__controls__buttons__next swiper-slider-arrow arrow-left--btn-next"},{label:"disabled",val:!0}])):c.appendChild(Object($.e)("button",[{label:"aria-label",val:"Next item"},{label:"class",val:"fas fa-arrow-right slider__controls__buttons__next swiper-slider-arrow arrow-left--btn-next"}])),l.appendChild(s).appendChild(i),e.appendChild(l),s.appendChild(c),e.querySelectorAll(".slider__controls__buttons__prev")[0].classList.add("slider__controls__buttons__disabled")}if(Pt=[...e.children],Mt=Pt.length,2>Mt)return void Object($.o)(e,It,!1);for(const t of Pt.entries()){t[1].classList.add("slider__slide");let a=e.querySelectorAll("li");for(let e=0;2>=e||e<Mt;e++)a[0]&&a[0].setAttribute("data-device","mobile"),a[1]&&a[1].setAttribute("data-device","tablet"),a[2]&&a[2].setAttribute("data-device","desktop")}1<Mt&&t("mobile",1,1),2<=Mt&&t("tablet",2,1),3<=Mt&&t("desktop",3,1);let a=e.querySelectorAll(".slider__controls__wrap");for(const t of a){let a=t.querySelector(".slider__controls__buttons__next");a.addEventListener("click",()=>{let t=a.closest(".slider__controls__wrap");P(parseInt(t.getAttribute("data-increment")),parseInt(t.getAttribute("data-currentposition")),"forward",e)}),t.querySelector(".slider__controls__buttons__next").addEventListener("click",()=>{let a=parseInt(t.getAttribute("data-currentposition"));M(parseInt(t.getAttribute("data-increment")),a,"forward",e)});let n=t.querySelector(".slider__controls__buttons__prev");n.addEventListener("click",()=>{let t=n.closest(".slider__controls__wrap");P(parseInt(t.getAttribute("data-increment")),parseInt(t.getAttribute("data-currentposition")),"back",e)}),t.querySelector(".slider__controls__buttons__prev").addEventListener("click",()=>{let a=parseInt(t.getAttribute("data-currentposition"));M(parseInt(t.getAttribute("data-increment")),a,"back",e)})}},launchQuery:".".concat(It)},Qt={launchFn:function(e){const t=window.innerHeight;window.addEventListener("DOMContentLoaded",()=>{var a=e.querySelectorAll(".animate--svg-path");a.forEach(e=>{let t=e.getTotalLength()+"px";e.classList.add("animate--svg-path--jsinit"),e.style.strokeDashoffset=t,e.style.strokeDasharray="".concat(t,", ").concat(t)}),window.addEventListener("scroll",(function(){const n=e.offsetTop;window.pageYOffset>n-t+30&&a.forEach((function(e){e.classList.contains("animate--svg-path--jsrun")||e.classList.add("animate--svg-path--jsrun"),setTimeout(()=>{e.style.strokeDashoffset=0},100)}))}))})},launchQuery:".".concat("animate-svg")};const Ht="tabs",Ut=Ht+"__panel",zt=Ut+"__content",Vt=Ht+"__links",Yt=35,Wt=36,Jt=37,Kt=38,Xt=39,Gt=40;Object($.n)();var Zt={launchFn:function(e){const t=e.querySelector(".".concat(Vt)),a=Array.from(t.querySelectorAll("li")),n=Array.from(e.childNodes).filter(e=>e.className&&e.className===Ut);return 1===a.length?void Object($.o)(e,Ht,!1):(t.setAttribute("role","tablist"),function(e){e.forEach(e=>{const t=document.createElement("div"),a=Array.from(e.children);t.className=zt,a.forEach(e=>t.appendChild(e)),e.appendChild(t),e.setAttribute("role","tabpanel"),e.setAttribute("tabindex",-1),e.setAttribute("hidden","true")})}(n),function(e){e.forEach(e=>{const t=e.firstElementChild,a=document.createElement("button");e.setAttribute("role","presentation"),a.setAttribute("role","tab"),a.appendChild(t.firstElementChild),a.dataset.hash=t.hash,a.id=t.id,e.replaceChild(a,t),R(a,!1),a.addEventListener("click",e=>B(e,a),!0)})}(a),R(a[0].firstElementChild,!0),n[0].removeAttribute("hidden"),void e.addEventListener("keydown",t=>function(e,t){const a=t.querySelector("[".concat(Z.selected,'="true"]')),n=a.parentNode;let r=null;Jt===e.which?r=n.previousElementSibling?n.previousElementSibling.firstElementChild:t.querySelector("li:last-of-type a"):Xt===e.which?r=n.nextElementSibling?n.nextElementSibling.firstElementChild:t.querySelector("li:first-of-type a"):Gt===e.which?t.querySelector(a.dataset.hash).focus():Kt===e.which?a.focus():Wt===e.which?r=t.querySelector("li:first-of-type a"):Yt===e.which&&(r=t.querySelector("li:last-of-type a")),r&&B(e,r)}(t,e),!0))},launchQuery:".".concat(Ht)};var $t={launchFn:function(e){const t=e.getAttribute("data-tooltip-display"),a=e.getAttribute("data-author-name"),n=e.getAttribute("data-author-url"),r=e.getAttribute("data-source-name"),l=e.getAttribute("data-source-url");if("true"===t){const t=Object($.e)("div",[{label:"class",val:"wrapper--tooltip__label"},{label:"data-selected",val:!1}]),s=Object($.e)("button",[{label:"class",val:"tooltip tooltip--image-credit"},{label:"aria-label",val:"Show image credit"}]),i=Object($.e)("span",[{label:"class",val:"tooltip__icon icon fas fa-info-circle"},{label:"aria-label",val:"Information icon"}]),c=Object($.e)("div",[{label:"class",val:"tooltip__label"}]);let o=Q(void 0,a,n),d=Q(void 0,r,l);if(s.appendChild(i),a&&!r&&c.appendChild(o),r&&!a&&c.appendChild(d),a&&r){c.appendChild(o);const e=document.createTextNode(" / ");c.appendChild(e),c.appendChild(d)}t.appendChild(c),t.appendChild(s),(a||r)&&e.appendChild(t),s.addEventListener("click",e=>{!function(e){let t=e.target.closest(".wrapper--tooltip__label");"false"===t.getAttribute("data-selected")?t.setAttribute("data-selected","true"):t.setAttribute("data-selected","false")}(e)})}},launchQuery:".".concat("hero-image")},ea={launchFn:function(e){const t=e;t.parentNode.parentNode.style.position="relative",t.addEventListener("mouseover",e=>{let t=document.createElement("div"),a=document.createElement("span"),n=window.location.href;t.className="tooltip",a.className="link-copy";let r=document.createTextNode(n),l=document.createTextNode("Copy link");t.appendChild(l),a.appendChild(r),t.appendChild(a),e.target.parentElement.parentElement.appendChild(t),e.target.parentElement.parentElement.classList.add("copyLink")}),t.addEventListener("click",e=>{e.preventDefault();let t=e.target.parentElement.parentElement.querySelector(".link-copy"),a=document.createRange();a.selectNode(t),window.getSelection().addRange(a);try{let t=document.execCommand("copy")?"successful":"unsuccessful";e.target.parentElement.parentElement.querySelector(".tooltip").textContent="Link Copied",e.target.parentElement.parentElement.querySelector(".tooltip").classList.add(t)}catch(t){throw new Error(e)}window.getSelection().removeAllRanges()}),t.addEventListener("mouseout",e=>{e.target.parentElement.parentElement.querySelector(".tooltip").remove()})},launchQuery:".".concat("fa-link")},ta={launchFn:function(e){const t=e.querySelector(".embedded-video--autoplay__video"),a=parseInt(t.dataset.maxPlays);(function(e,t){let a=0;e.onended=()=>{a+=1,a===t&&e.pause()}})(e,a),function(e){let t;const a=Object($.e)("span",[{label:"class",val:"embedded-video--autoplay__controller-btn__icon"}]);t=e.querySelector(".embedded-video--autoplay__video").paused?Object($.e)("button",[{label:"class",val:"embedded-video--autoplay__controller-btn"},{label:"data-status",val:"play"},{label:"aria-label",val:"Play video"}]):Object($.e)("button",[{label:"class",val:"embedded-video--autoplay__controller-btn"},{label:"data-status",val:"pause"},{label:"aria-label",val:"Pause video"}]),t.append(a),e.append(t)}(e);let n=e.querySelector(".embedded-video--autoplay__controller-btn");n.addEventListener("click",()=>{!function(e){let t=e.querySelector(".embedded-video--autoplay__video");const a=e.querySelector(".embedded-video--autoplay__controller-btn");e.querySelector(".embedded-video--autoplay__video").paused?(a.dataset.status="pause",a.setAttribute("aria-label","Pause video"),t.play()):(a.dataset.status="play",a.setAttribute("aria-label","Play video"),t.pause())}(e)}),t.addEventListener("ended",()=>{n.dataset.status="play",n.setAttribute("aria-label","Play video")})},launchQuery:".".concat("embedded-video--autoplay")},aa=[ie,_e,ye,ke,Ce.a,Ie,Je,jt,Tt,bt,mt,Zt,Te,Ee,De,ve,Ne,Ze,Ft,Bt,me,et,Lt,Oe,Qt,de,qe,$t,ea,Ot,gt,ta];const na="tabs__panel";var ra=function(e){const t=e.querySelector(".".concat("tabs__links")),a=Array.from(t.querySelectorAll("li")),n=Y(e.dataset.mobiletabs);return a.length>n&&(!e.dataset.neveraccordion||"true"===!e.dataset.neveraccordion)?function(e){const t=document.createElement("div"),a=document.createElement("div");return t.className="tabs--accordion",a.className="accordion",a.id="accordion".concat(e.dataset.assetid),a.dataset.allowsingle="false",a.dataset.defaultopen="true",a.dataset.level=e.dataset.level,a.dataset.tabs=e.dataset.tabs,a.dataset.toggleopen="true",Array.from(e.parentNode.querySelectorAll("#".concat(e.id," > .").concat(na))).forEach(t=>{const n=t.querySelector(".".concat(na,"__heading")),r=t.querySelector(".".concat(na,"__body")),l=document.createElement("h".concat(a.dataset.level)),s=document.createElement("div"),i=document.createElement("div");l.className="accordion__heading",l.id="accordion".concat(e.dataset.assetid,"-header").concat(t.dataset.assetid),l.dataset.tabid=t.getAttribute(Z.labelledBy),l.innerText=n.innerText.trim(),s.className="accordion__body",s.id="accordion".concat(e.dataset.assetid,"-body").concat(t.dataset.assetid),i.className="wrapper--accordion__body__content",i.innerHTML=r.innerHTML,s.appendChild(i),Object($.a)(a,[l,s])}),e.parentNode.insertBefore(t,e),t.appendChild(e),t.appendChild(a),a}(e):null};document.addEventListener("DOMContentLoaded",()=>{if(!/(Trident|MSIE)/.test(navigator.userAgent)){Array.from(document.getElementsByTagName("html")).forEach(e=>{let t=Object($.f)();Object($.o)(e,"no-js",!1),e.className=t>=12?(e.className+" js edge").trim():(e.className+" js").trim()}),function e(t){Array.from(t.querySelectorAll(".tabs")).filter(e=>e.className.indexOf(".tabs-no-js")).forEach(t=>{const a=U(()=>ra(t));a&&e(a)})}(document),aa.forEach(z);const e=Object($.m)(location.search);e.dev&&H(document.querySelector("body"),"dev",e.dev),e.rel&&H(document.querySelector("body"),"rel",e.rel)}},!1)},47:function(e,t,a){"use strict";function n(e){return T.a.createElement("button",{className:"finder__clear",type:"button",onClick:()=>{e.clear(e.resetSort)}},T.a.createElement("span",{className:"fad fa-fw fa-times-circle icon "}),T.a.createElement("span",{className:"finder__clear__text"},"Clear query"))}function r(e){function t(){m.focus()}const[a,n]=Object(D.useState)(e.query.query),[r,l]=Object(D.useState)([]),[s,i]=Object(D.useState)({cancel:()=>{}}),[c]=Object(D.useState)("finder--"+e.query.collection+"--"+Math.random().toString(16).slice(-4)),[o,d]=Object(D.useState)(!1),[u,p]=Object(D.useState)("");Object(D.useEffect)(()=>{n(e.query.query)},[e.updating]);let m=null;const f=()=>{s.cancel(),n(""),l([]),t();const a=e.query;a.misspelling=null,a.query="",a.sortType=e.config.sort[0].type,a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)},_=t=>{s.cancel(),l([]);const n=e.query;n.misspelling=null,n.query=t||(a||""),n.sortType=a?"":e.config.sort[0].type,n.startRank=1,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)},h=a&&T.a.createElement(P,{clear:()=>{f()}}),b=e=>{d(!1),l([]),t(),_(e)},g=r&&0<r.length&&T.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":u,className:o?"finder__query__suggestions show":"finder__query__suggestions hide"},[...new Set(r)].slice(0,M).map((e,t)=>T.a.createElement("li",{key:e,role:"option",id:c+"--"+t},T.a.createElement("button",{type:"button",onBlur:()=>{p(""),d(!1)},onFocus:()=>d(!0),onMouseDown:()=>b(e),onClick:()=>b(e),onKeyDown:e=>{switch(e.keyCode){case R:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),l([]),p("");break;case B:e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),p(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),p(""));break;case Q:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),p(e.target.parentNode.nextElementSibling.id));break;case U:e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),p(e.target.parentNode.firstChild.id));break;case H:e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),p(e.target.parentNode.lastChild.id))}}},function(e,t){return T.a.createElement(T.a.Fragment,null,T.a.createElement("span",null,T.a.createElement("span",{className:"sr-only"},e),T.a.createElement("span",{"aria-hidden":"true"},T.a.createElement("span",{className:"finder__suggestion"},e.slice(e.indexOf(t.toLowerCase()),t.length)),e.slice(e.indexOf(t.toLowerCase())+t.length))))}(e,a))))),y=T.a.createElement("div",{className:"finder__query__input"},T.a.createElement("div",{className:"finder__query__icon--wrapper"},T.a.createElement("span",{className:"finder__icon fal fa-search icon","aria-hidden":"true"})),T.a.createElement("label",{className:"sr-only",htmlFor:c},"Search ".concat(e.config.summariseAs.plural)),T.a.createElement("input",{autoComplete:"off",id:c,name:"query",placeholder:e.config.placeholder,ref:e=>{m=e},type:"text",value:a,onKeyDown:e=>{switch(e.keyCode){case R:f();break;case Q:r&&0<r.length&&(e.preventDefault(),e.target.parentNode.querySelector(".finder__query__suggestions button").focus(),p(e.target.parentNode.querySelector(".finder__query__suggestions li").id))}},onFocus:()=>d(!0),onBlur:()=>d(!1),onChange:t=>{if(l([]),n(t.target.value),s.cancel(),t.target.value){const[a,n]=Object(I.c)(e.query.collection,t.target.value);i({cancel:()=>{n.cancel()}}),a.then(e=>l(e)).catch(()=>l([]))}else l([])}}),g,h);return T.a.createElement("fieldset",{className:"finder__query"},T.a.createElement("div",null,y,T.a.createElement("button",{type:"submit",className:"finder__query__submit",onClick:()=>_()},T.a.createElement("span",{className:"fal fa-search finder__query__submit__icon","aria-hidden":"true"})," ",T.a.createElement("span",{className:"finder__query__submit__text"},"Find"))))}function l(e){const t=Math.random().toString(16).slice(-4),a=e.query.facets[e.facet.meta]||"",n=e.facet.values.reduce((e,t)=>[...e,t],[]),r=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values?e.responseFacet[0].categories[0].values.reduce((e,t)=>[...e,t.data],[]):[],l=n.map(e=>e.data).filter(e=>0>r.indexOf(e.toLowerCase())).length;return e.facet.values.length>l?T.a.createElement("div",{className:"finder__filter finder__select ".concat(a&&"finder__select--selected")},T.a.createElement("label",{htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(t)},e.facet.name),T.a.createElement("select",{name:e.facet.name,id:"meta_".concat(e.facet.meta,"_sand--").concat(t),onChange:t=>(t=>{const a=e.query;e.dependencies.map(e=>{delete a.facets[e.meta]}),t?a.facets[e.facet.meta]=t:delete a.facets[e.facet.meta],a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)})(t.target.value),value:a},T.a.createElement("option",{value:"",id:"meta".concat(e.facet.meta,"all"),name:"meta_".concat(e.facet.meta,"_sand--").concat(t)},e.facet.noSelection),e.facet.values.map((t,n)=>{const r=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values.filter(e=>e.data.toLowerCase()===t.data.toLowerCase());return a.toLowerCase()===t.data.toLowerCase()||r&&r[0]?T.a.createElement("option",{key:n,value:t.data},t.label,a===t.data?"":0<r[0].count&&" (".concat(r[0].count,")")):null}))):null}function s(e){const t=Math.random().toString(16).slice(-4),a=e.facet.meta in e.query.facets,n=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values.filter(t=>t.data.toLowerCase()===e.facet.checkedValue.toLowerCase());if(n&&n[0]&&0<n[0].count){const r=()=>{const t=e.query;e.dependencies.map(e=>{delete t.facets[e.meta]}),a?delete t.facets[e.facet.meta]:t.facets[e.facet.meta]=e.facet.checkedValue,t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)};return T.a.createElement("div",{className:"finder__filter finder__checkbox"},T.a.createElement("input",{type:"checkbox",id:"meta_".concat(e.facet.meta,"_sand--").concat(t),name:"meta_".concat(e.facet.meta,"_sand"),value:e.facet.checkedValue,onChange:()=>r(),checked:a}),T.a.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:()=>r()},a?T.a.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),T.a.createElement("label",{className:"finder__filters__label--always",htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(t)},e.facet.name,!a&&n&&" ("+n[0].count+")"))}return null}function i(e){return e.query.facets[e.facet.meta]?T.a.createElement("div",{className:"finder__filter finder__tag"},T.a.createElement("button",{onClick:()=>(()=>{const t=e.query;e.dependencies.map(e=>{delete t.facets[e.meta]}),delete t.facets[e.facet.meta],t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)})(),type:"button"},T.a.createElement("span",{className:"fa-fw far fa-times icon","aria-hidden":"true"}),T.a.createElement("span",{className:"finder__tag__text"},T.a.createElement("span",{className:"sr-only"},"Remove filter for "),e.facet.name,":"," ",e.facet.values.filter(t=>t.data===e.query.facets[e.facet.meta])[0].label))):null}function c(e){return T.a.createElement("button",{className:"finder__reset",type:"button",onClick:()=>{e.clear(e.resetSort)}},T.a.createElement("span",{className:"far fa-fw fa-times icon"}),T.a.createElement("span",{className:"finder__reset__text"},"Reset"))}function o(e){const t=Math.random().toString(16).slice(-4),a=e.config.sort.filter(t=>""!==t.type||!!(""!==e.query.query||0<Object.keys(e.query.facets).length||""===e.query.sortType));return 1<a.length?T.a.createElement("div",{className:"finder__select--sort finder__select".concat(e.query.sortType===e.config.sort[0].type?"":" finder__select--selected")},T.a.createElement("label",{className:"finder__select__overline",htmlFor:"sort--".concat(t)},"Sort by"),T.a.createElement("select",{name:"sort",id:"sort--".concat(t),onChange:t=>(t=>{const a=e.query;a.sortType=t,a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)})(t.target.value),value:e.query.sortType},a.map((e,t)=>T.a.createElement("option",{key:t,value:e.type},e.label)))):null}function d(e){const t=0<Object.keys(e.query.facets).length?T.a.createElement("div",{className:"finder__filters__reset finder__filters__reset--desktop"},T.a.createElement(J,{clear:e.clear,resetSort:!1})):null,a=0<Object.keys(e.query.facets).length||e.query.sortType!==e.config.sort[0].type?T.a.createElement(J,{clear:e.clear,resetSort:!0}):null,n=1<e.config.sort.length&&e.config.displaySort?T.a.createElement("div",{className:"wrapper--finder__select--sort--mobile"},T.a.createElement(K,{config:e.config,query:e.query,update:e.update})):null;return T.a.createElement("div",{className:"finder__filters"},T.a.createElement("h2",{className:"finder__filters__heading"},T.a.createElement("span",{className:"finder__filters__heading__text"},T.a.createElement("span",{className:"far fa-sliders-h icon","aria-hidden":"true"})," ","Filter ".concat(e.config.summariseAs.plural)),a),T.a.createElement("fieldset",null,T.a.createElement("div",{className:"wrapper--finder_filters--filters"},e.config.facetLabels.map(t=>{if(!function(e,t){const a=Object.keys(t);return!e.dependency||!!(0<=a.indexOf(e.dependency)&&""!==t[e.dependency])}(t,e.query.facets))return null;switch(t.type){case"select":return T.a.createElement(V,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===t.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===t.meta)});case"checkbox":return T.a.createElement(Y,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===t.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===t.meta)});case"tag":return T.a.createElement(W,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===t.funnelbackName):[],update:e.update,dependencies:e.config.facetLabels.filter(e=>e.dependency===t.meta)});default:Object(X.h)("jsError","JavaScript error","finder__filters()","Unknown filter type in finder__filters.js",!0)}}),T.a.createElement("p",{className:"finder__filters__nofilters"},"No filters are valid for the current query."),t,n)))}function u(e){const[t,a]=Object(D.useState)(!1),[n,r]=Object(D.useState)({});let l=null;const s=()=>l;Object(D.useEffect)(()=>{n.activate||r($()(s(),{initialFocus:s().querySelector(".wrapper--finder__filters--mobile__apply"),onDeactivate:()=>a(!1),clickOutsideDeactivates:!0})),t?(n.activate&&n.activate(),Object(ee.a)(s().querySelector(".wrapper--finder__filters--mobile__filters"))):(n.deactivate&&n.deactivate(),Object(ee.b)(s().querySelector(".wrapper--finder__filters--mobile__filters")))},[t]);const i=e.response&&e.response.summary&&e.response.summary.totalMatching,c=1===i?e.summariseAs.singular:e.summariseAs.plural,o=i?"Show ".concat(i," ").concat(c):"Close",d=e.config.displaySort?e.config.sort[0].type!==e.query.sortType||0<Object.keys(e.query.facets).length?T.a.createElement("span",null,"Filters"," ",T.a.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type===e.query.sortType?Object.keys(e.query.facets).length:Object.keys(e.query.facets).length+1,")")):T.a.createElement("span",null,"Filter"):0<Object.keys(e.query.facets).length?T.a.createElement("span",null,"Filters"," ",T.a.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type===e.query.sortType?Object.keys(e.query.facets).length:Object.keys(e.query.facets).length+1,")")):T.a.createElement("span",null,"Filter"),u=t?null:T.a.createElement("button",{type:"button",className:"wrapper--finder__filters--mobile__toggle","aria-haspopup":!0,"aria-expanded":t,onClick:()=>a(!t),"data-filters-applied":!!(0!==Object.keys(e.query.facets).length||e.config.displaySort&&e.config.sort[0].type!==e.query.sortType)},T.a.createElement("span",null,T.a.createElement("span",{className:"far fa-sliders-h icon","aria-hidden":"true"})," ",d));return T.a.createElement("div",{className:"wrapper--finder__filters--mobile","data-open":t,ref:e=>l=e},u,T.a.createElement("div",{className:"wrapper--finder__filters--mobile__filters"},T.a.createElement("div",{className:"wrapper--finder__filters--mobile__filters__content"},T.a.createElement(G,{config:e.config,query:e.query,response:e.response,update:e.update,clear:e.clear}))),T.a.createElement("div",{className:"wrapper--finder__filters--mobile__apply"},T.a.createElement("button",{type:"button","aria-expanded":t,onClick:()=>a(!t),disabled:e.updating},0===Object.keys(e.query.facets).length?null:T.a.createElement("span",{className:"far fa-chevron-left icon"}),T.a.createElement("span",{"aria-live":"polite"},e.updating?T.a.createElement(T.a.Fragment,null,T.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",T.a.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},"Updating ",e.summariseAs.plural,"…")):T.a.createElement(T.a.Fragment,null,T.a.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},0===Object.keys(e.query.facets).length?"Close":o))))))}function p(e){const t=e.details.metaData.status?T.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.status):e.details.metaData.type&&T.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.type),a=e.details.metaData.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",T.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),n=e.details.metaData.department&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Department:")," ",T.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and "))),r=e.details.metaData.centre&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Research centre:")," ",T.a.createElement("span",null,2<e.details.metaData.centre.split("|").length?e.details.metaData.centre.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.centre.split("|").slice(-1):e.details.metaData.centre.split("|").join(", and ")));return T.a.createElement("li",{className:"finder__results__card finder__results__card--casestudy"},T.a.createElement("a",{href:e.details.clickTrackingUrl},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),t,T.a.createElement("p",null,e.details.metaData.c&&e.details.metaData.c),a,n,r)))}function m(e){const t=e.details.metaData.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",T.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),a=e.details.metaData.department&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Department:")," ",T.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and "))),n=e.details.metaData.related&&T.a.createElement("p",{className:"finder__results__card__description"},2<e.details.metaData.related.split("|").length?Object(X.r)(e.details.metaData.related).split("|").slice(0,-1).join(", ")+" and "+Object(X.r)(e.details.metaData.related).split("|").slice(-1):Object(X.r)(e.details.metaData.related).split("|").join(" and "));return T.a.createElement("li",{className:"finder__results__card finder__results__card--centre"},T.a.createElement("a",{href:e.details.clickTrackingUrl},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),n,T.a.createElement("p",null,e.details.metaData.c&&e.details.metaData.c),t,a)))}function f(e){const t=e.details.metaData.department&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Department:")," ",e.details.metaData.department),a=e.details.metaData.jobtitle&&T.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.jobtitle),n=e.details.metaData.email&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Email:")," ",T.a.createElement("a",{href:"mailto:"+e.details.metaData.email},e.details.metaData.email)),r=e.details.metaData.telephone&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Telephone:")," ",T.a.createElement("a",{href:"tel:"+e.details.metaData.telephone},e.details.metaData.friendlytelephone)),l=e.details.metaData.room&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Room:")," ",e.details.metaData.room);return T.a.createElement("li",{className:"finder__results__card finder__results__card--contact"},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),a,t,l,n,r))}function _(e){const t=e.details.metaData.type||e.details.metaData.level||null,a=e.details.metaData.qualification&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Award",1<e.details.metaData.qualification.split("|").length&&"s",":")," ",T.a.createElement("span",null,e.details.metaData.qualification.split("|").join(", "))),n=e.details.metaData.duration&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Duration:")," ",T.a.createElement("span",null,e.details.metaData.duration)),r=e.details.metaData.method&&(e.query.facets.method||0<=e.query.query.indexOf(e.details.metaData.method)||0<=e.details.metaData.method.indexOf("Online"))&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-book-reader icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Method",1<e.details.metaData.method.split("|").length&&"s"," ","of study:")," ",T.a.createElement("span",null,Object(X.r)(e.details.metaData.method).split("|").join(", "))),l=e.details.metaData.location&&e.query.facets.location&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Location:")," ",T.a.createElement("span",null,e.details.metaData.location)),s=e.details.metaData.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",T.a.createElement("span",null,e.details.metaData.school)),i="1"===e.details.metaData.clearing&&T.a.createElement("div",{className:"clearing_label"},T.a.createElement("p",null,"Available in clearing")),c=0<=e.details.indexUrl.indexOf("cass.city.ac.uk")&&T.a.createElement(T.a.Fragment,null," ",T.a.createElement("span",{className:"fas fa-external-link icon","aria-label":"(external link)"})),o=e.details.metaData.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some(t=>0<=e.details.metaData.level.indexOf(t))||0<=e.query.query.indexOf(e.details.metaData.code))?T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Course code",1<e.details.metaData.code.split("|").length&&"s",":")," ",T.a.createElement("span",null,e.details.metaData.code.split("|").join("/"))):null;return T.a.createElement("li",{className:"finder__results__card finder__results__card--course"},T.a.createElement("a",{href:e.details.clickTrackingUrl},i,T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.query.query?le(e.details.title,e.query.query):e.details.title,c),T.a.createElement("p",{className:"finder__results__card__description"},e.query.query?le(t,e.query.query):t&&t),T.a.createElement("p",null,e.query.query?le(e.details.metaData.c,e.query.query):e.details.metaData.c&&e.details.metaData.c),s,a,n,o,r,l)))}function h(e){const t=e.details.metaData.school&&e.query.facets.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",T.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", or "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", or "))),a="1"===e.details.metaData.hardship&&T.a.createElement("div",{className:"hardship-label"},T.a.createElement("p",null,"Hardship funding")),n=e.details.metaData.level&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Funding for:")," ",T.a.createElement("span",null,2<e.details.metaData.level.split("|").length?Object(X.r)(e.details.metaData.level).split("|").slice(0,-1).join(", ")+" or "+Object(X.r)(e.details.metaData.level).split("|").slice(-1):Object(X.r)(e.details.metaData.level).split("|").join(" or "))),r=e.details.metaData.feestatus&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Fee status:")," ",T.a.createElement("span",null,2<e.details.metaData.feestatus.split("|").length?e.details.metaData.feestatus.split("|").slice(0,-1).join(", ")+" or "+e.details.metaData.feestatus.split("|").slice(-1):e.details.metaData.feestatus.split("|").join(" or ")));return T.a.createElement("li",{className:"finder__results__card finder__results__card--funding"},T.a.createElement("a",{href:e.details.clickTrackingUrl},a,T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),T.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.type),T.a.createElement("p",null,e.details.metaData.c&&e.details.metaData.c),n,r,t)))}function b(e){const t=e.details.metaData.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",T.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),a=e.details.metaData.department&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Department:")," ",T.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and ")));return T.a.createElement("li",{className:"finder__results__card finder__results__card--generic"},T.a.createElement("a",{href:e.details.clickTrackingUrl},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),T.a.createElement("p",null,e.details.metaData.c&&e.details.metaData.c),t,a)))}function g(e){const t=e.details.metaData.location&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Location:")," ",T.a.createElement("span",null,e.details.metaData.location)),a=e.details.metaData.code?T.a.createElement(T.a.Fragment,null,T.a.createElement("span",{className:"finder__results__card--module__code"},e.details.metaData.code)," ",T.a.createElement("span",null,e.details.title)):T.a.createElement(T.a.Fragment,null,T.a.createElement("span",null,e.details.title)),n=e.details.metaData.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",T.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),r=e.details.metaData.term&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Semester:")," ",T.a.createElement("span",null,2<e.details.metaData.term.split("|").length?"All year":e.details.metaData.term.split("|").join(" or "))),l=e.details.metaData.related&&T.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.related.split("|").sort().map((e,t)=>0<t?e.toLowerCase():e).join(", ")),s=e.details.metaData.specification&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",T.a.createElement("a",{href:e.details.metaData.specification},"Download module specification"));return T.a.createElement("li",{className:"finder__results__card finder__results__card--module"},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},a),l,T.a.createElement("p",null,e.details.metaData.c),r,n,t,s))}function y(e){const t=Object(X.g)(new Date(e.details.metaData.d)),a=e.details.metaData.d&&T.a.createElement("p",{className:"finder__results__card__description"},t),n=e.details.metaData.hashtagtext&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Hashtag",1<e.details.metaData.hashtagtext.split("|").length&&"s",":")," ",T.a.createElement("span",null,e.details.metaData.hashtagtext.split("|").join(", ")));return T.a.createElement("li",{className:"finder__results__card finder__results__card--news"},T.a.createElement("a",{href:e.details.clickTrackingUrl},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),a,T.a.createElement("p",null,e.details.metaData.c&&e.details.metaData.c),n)))}function v(e){const t=e.details.metaData.school&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"School:")," ",e.details.metaData.school),a=e.details.metaData.department&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Department:")," ",e.details.metaData.department),n=e.details.metaData.thumbnail&&T.a.createElement("div",{className:"thumbnail__image-container"},T.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"Photo of "+e.details.metaData.title}));return T.a.createElement("li",{className:"finder__results__card finder__results__card--profile"},T.a.createElement("a",{href:e.details.clickTrackingUrl},n,T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),T.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.jobtitle),t,a)))}function E(e){const t=e=>0<j(e/60)?j(e/60)+" hour "+e%60:e,a=e.details.metaData.thumbnail&&T.a.createElement("img",{src:e.details.metaData.thumbnail,alt:""}),n=e.details.metaData.level&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",T.a.createElement("span",{className:"sr-only"},"Level:")," ",T.a.createElement("span",null,Object(X.r)(e.details.metaData.level).split("|").join(" or "))),r=Object.keys(e.details.metaData).filter(t=>["accessible","catered","ensuite"].includes(t)&&"Yes"===e.details.metaData[t]).map(e=>e.replace(/ensuite/,"en suite")).sort().join(", "),l=e.details.metaData.type&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",T.a.createElement("span",{className:"sr-only"},"Type:")," ",T.a.createElement("span",null,2<e.details.metaData.type.split("|").length?Object(X.r)(e.details.metaData.type).split("|").slice(0,-1).join(", ")+" or "+Object(X.r)(e.details.metaData.type).split("|").slice(-1):Object(X.r)(e.details.metaData.type).split("|").join(" or "),r&&" ("+r+")")),s=e.details.metaData.price&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",T.a.createElement("span",{className:"sr-only"},"Price:")," ",T.a.createElement("span",null,e.details.metaData.price," (",e.details.metaData.deposit," deposit)")),i=e.details.metaData.transport&&T.a.createElement(T.a.Fragment,null," ","(",t(e.details.metaData.transport)," minutes by public transport)"),c=e.details.metaData.walk&&T.a.createElement("p",{className:"finder__results__card__tag"},T.a.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",T.a.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:")," ",T.a.createElement("span",null,t(e.details.metaData.walk)," minutes walk to campus",i));return T.a.createElement("li",{className:"finder__results__card finder__results__card--accommodation"},T.a.createElement("a",{href:e.details.clickTrackingUrl},a,T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),c,l,s,n)))}function N(e){switch(e.type){case"accommodation":return T.a.createElement(pe,{details:e.details});case"casestudy":return T.a.createElement(ae,{details:e.details});case"centre":return T.a.createElement(ne,{details:e.details,query:e.query});case"contact":return T.a.createElement(re,{details:e.details,query:e.query});case"course":return T.a.createElement(se,{details:e.details,query:e.query});case"funding":return T.a.createElement(ie,{details:e.details,query:e.query});case"module":return T.a.createElement(oe,{details:e.details,query:e.query});case"news":return T.a.createElement(de,{details:e.details});case"profile":return T.a.createElement(ue,{details:e.details});default:return T.a.createElement(ce,{details:e.details})}}function w(e){return T.a.createElement("li",{className:"finder__results__card finder__results__bestbet"},T.a.createElement("a",{href:e.details.clickTrackingUrl},T.a.createElement("div",{className:"finder__results__card__details"},T.a.createElement("h3",{className:"card__title finder__results__card__heading"},e.details.title),T.a.createElement("p",{className:"finder__results__card__description"},e.details.description))))}function A(e){return e.query.misspelling?T.a.createElement("p",{className:"finder__results__didyoumean"},"No ",e.summariseAs.plural," found for “",e.query.misspelling,"”. Searching instead for “",e.query.query,"”."):T.a.createElement("p",{className:"finder__results__didyoumean"},"Did you mean"," ",T.a.createElement("button",{type:"button",className:"finder__didyoumean__button",onClick:()=>{const t=e.query;t.query=e.response.spell.text.split(/\|/)[0].trim(),t.startRank=1,t.misspelling=null,t.interacted=!0,t.facets={},e.update.query(t),e.update.results(!e.update.updateState)}},"“",e.response.spell.text.split(/\|/)[0].trim(),"”"),"?")}function q(e){const t=1===e.totalMatching?e.summariseAs.singular:e.summariseAs.plural,a=new Intl.NumberFormat("en-GB"),n=1<e.config.sort.length&&e.config.displaySort?T.a.createElement("div",{className:"wrapper--finder__select--sort--desktop"},T.a.createElement(K,{config:e.config,query:e.query,update:e.update})):null;return 0===e.totalMatching?T.a.createElement("div",{className:"finder__results__summary finder__results__summary--noresults"},T.a.createElement("h2",{className:"finder__results__summary__heading"},"Your search did not match any ",e.summariseAs.plural,"."),T.a.createElement("p",null,"Suggestions:"),T.a.createElement("ul",null,T.a.createElement("li",null,"Make sure that all words are spelled correctly"),T.a.createElement("li",null,"Try different keywords"),T.a.createElement("li",null,"Try more general keywords"),T.a.createElement("li",null,"Try fewer keywords"),T.a.createElement("li",null,"Try fewer filters"),0<Object.keys(e.query.facets).length&&T.a.createElement("li",null,T.a.createElement("button",{type:"button",onClick:()=>{e.clear(!0)}},"Reset filters")),e.query.query&&T.a.createElement("li",null,T.a.createElement("button",{type:"button",onClick:()=>{const t=e.query;t.query="",t.sortType=e.config.sort[0].type,t.misspelling=null,t.startRank=1,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)}},"Reset query")))):T.a.createElement("div",{className:"finder__results__summary"},T.a.createElement("h2",{"aria-live":"polite",className:"finder__results__summary__heading"},e.query.query||0<Object.keys(e.query.facets).length?"Matching":"All"," ",t," ",T.a.createElement("span",null,"(showing"," ",e.totalMatching>e.numRanks&&T.a.createElement(T.a.Fragment,null,T.a.createElement("span",null,a.format(e.currStart)),"–",T.a.createElement("span",null,a.format(e.currEnd))," ","of"," "),T.a.createElement("span",null,a.format(e.totalMatching))," ",t,e.query.query&&" for “".concat(e.query.query,"”"),")")),n)}function S(e){const t=O(e.totalMatching/e.numRanks),a=O(e.currStart/e.numRanks),n=[],r=t=>{const a=1+(t-1)*e.numRanks,n=e.query;n.startRank=a,n.misspelling=null,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)};n.push(T.a.createElement("button",{className:"pagination__controls__button--prev",key:"prev",type:"button",disabled:1===a,onClick:()=>{r(a-1)}},T.a.createElement("span",null,"Previous page")));for(let e=1;e<=t;e++){let l;switch(e-t){case 0:l="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:l="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:l="pagination__controls__element pagination__controls__button"}n.push(T.a.createElement("button",{"aria-current":e===a?"page":null,"aria-expanded":e===a,"aria-label":"Open page ".concat(e),className:l,"data-page":e,"data-proximity":Math.abs(e-a),disabled:e===a,key:e,type:"button",onClick:()=>{r(e)}},T.a.createElement("span",null,e))),1===e?n.push(T.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},T.a.createElement("span",null,"…"))):e===t-1&&n.push(T.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},T.a.createElement("span",null,"…")))}return n.push(T.a.createElement("button",{className:"pagination__controls__button--next",key:"next",type:"button",disabled:a===t,onClick:()=>{r(a+1)}},T.a.createElement("span",null,"Next page"))),T.a.createElement("div",{className:"pagination__wrapper"},T.a.createElement("nav",{className:"pagination__controls","data-pagecount":t},n))}function x(e){const t=T.a.createElement("p",{className:"finder__results__updating","aria-live":"polite"},T.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",T.a.createElement("span",null,"Updating ",e.summariseAs.plural,"…")),a="resultsVariant"in e.config?"finder__results__list finder__results__list--".concat(e.config.resultsVariant):"finder__results__list";if(e.response){const n=T.a.createElement(he,{clear:e.clear,config:e.config,currEnd:e.response.summary.currEnd,currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,summariseAs:e.summariseAs,totalMatching:e.response.summary.totalMatching,update:e.update}),r=(e.query.misspelling||e.response.spell)&&T.a.createElement(_e,{query:e.query,summariseAs:e.summariseAs,response:e.response,update:e.update}),l=e.response.summary.totalMatching>e.response.summary.numRanks&&T.a.createElement(be,{currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,totalMatching:e.response.summary.totalMatching,update:e.update}),s=0<e.response.bestBets.length||0<e.response.results.length?T.a.createElement("ol",{start:e.response.summary.currStart,className:a},e.response.bestBets.map(e=>T.a.createElement(fe,{details:e,key:e.docNum})),e.response.results.map(t=>T.a.createElement(me,{bestBet:!1,details:t,key:t.docNum,type:e.type,query:e.query}))):null,i=e.updating?T.a.createElement(T.a.Fragment,null,t):T.a.createElement(T.a.Fragment,null,r,n,s,l);return T.a.createElement("div",{className:"finder__results"},i)}return T.a.createElement("div",{className:"finder__results"},t)}function k(e,t){return e.map(e=>{const a={};return t.get("meta_".concat(e.meta,"_sand"))&&(a[e.meta]=t.get("meta_".concat(e.meta,"_sand"))),a}).reduce((e,t)=>Object.assign(e,t))}function C(e){const t=new URLSearchParams(window.location.search),a={collection:e.config.collection,facets:0<e.config.facetLabels.length?k(e.config.facetLabels,t):{},fixedFacets:e.config.fixedFacets,interacted:!1,misspelling:null,numRanks:t.get("num_ranks")||e.config.numRanks,query:t.get("query")||"",sortType:t.get("query")?"":t.get("sort")||e.config.sort[0].type,startRank:t.get("start_rank")||1},n={bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}},[r,l]=Object(D.useState)(a),[s,i]=Object(D.useState)(n),[c,o]=Object(D.useState)(!0),[d,u]=Object(D.useState)({cancel:()=>{}}),[p,m]=Object(D.useState)(!1);Object(D.useEffect)(()=>{(function(e,t,a,n,r,l){if(window){const s=new URLSearchParams(window.location.search);""===e?s.delete("query"):s.set("query",e),1===t?s.delete("start_rank"):s.set("start_rank",t),n!==l&&""!==n?s.set("sort",n):s.delete("sort"),r.forEach(e=>{a[e.meta]?s.set("meta_".concat(e.meta,"_sand"),a[e.meta]):s.delete("meta_".concat(e.meta,"_sand"))});const i=s.toString().length?"?":"";window.history.replaceState({},"","".concat(window.location.pathname).concat(i).concat(s.toString()))}})(r.query,r.startRank,r.facets,r.sortType,e.config.facetLabels,e.config.sort[0].type),o(!0),r.interacted&&ve.a.center(e.element.querySelector(".finder__results"),Ee,-window.innerHeight/Ne),d.cancel();const[t,a]=Object(I.a)(r.collection,r.fixedFacets,r.query,r.sortType,r.startRank,r.numRanks,r.facets);u({cancel:()=>{a.cancel()}}),t.then(e=>{if(i(e),o(!1),e.spell&&0===e.summary.totalMatching){const t=e.spell.text.split(/\|/)[0].trim(),a=r;a.misspelling=r.query,a.query=t,a.startRank=1,l(a),m(!p)}}).then(()=>{r.interacted&&ve.a.center(e.element.querySelector(".finder__results h2"),Ee)}).catch(()=>{i(n),o(!1)})},[p]);const f={query:e=>l(e),results:e=>m(e),updateState:p},_=t=>{const a=r;d.cancel(),a.sortType=t?e.config.sort[0].type:a.sortType,a.facets={},a.startRank=1,a.misspelling=null,a.interacted=!0,l(a),m(!p)},h=e.config.noQuery&&!0===e.config.noQuery?null:T.a.createElement(z,{config:e.config,query:r,update:f,updating:c});return T.a.createElement("form",{className:0<e.config.facetLabels.length?"finder":"finder finder--nofilters",onSubmit:e=>{e.preventDefault()}},h,0<e.config.facetLabels.length&&T.a.createElement(T.a.Fragment,null,T.a.createElement(te,{config:e.config,query:r,response:s,update:f,updating:c,summariseAs:e.config.summariseAs,clear:_}),T.a.createElement("div",{className:"wrapper--finder__filters--desktop"},T.a.createElement(G,{config:e.config,query:r,response:s,update:f,clear:_}))),T.a.createElement(ge,{clear:_,config:e.config,query:r,response:s,summariseAs:e.config.summariseAs,type:e.config.resultCard,update:f,updating:c}))}var j=Math.floor,O=Math.ceil,D=(a(5),a(12),a(104),a(14),a(48),a(4),a(29),a(3),a(6),a(106),a(0)),T=a.n(D),L=a(1),F=a.n(L),I=a(18);n.propTypes={clear:F.a.func,resetSort:F.a.bool};var P=n;const M=5,R=27,B=38,Q=40,H=35,U=36;r.propTypes={config:F.a.object,query:F.a.object,update:F.a.object,updating:F.a.bool};var z=r;l.propTypes={facet:F.a.object,query:F.a.object,responseFacet:F.a.arrayOf(F.a.object),update:F.a.object,dependencies:F.a.arrayOf(F.a.object)};var V=l;s.propTypes={facet:F.a.object,query:F.a.object,responseFacet:F.a.arrayOf(F.a.object),update:F.a.object,dependencies:F.a.arrayOf(F.a.object)};var Y=s;i.propTypes={facet:F.a.object,query:F.a.object,responseFacet:F.a.arrayOf(F.a.object),update:F.a.object,dependencies:F.a.arrayOf(F.a.object)};var W=i;c.propTypes={clear:F.a.func,resetSort:F.a.bool};var J=c;o.propTypes={config:F.a.object,query:F.a.object,update:F.a.object};var K=o,X=a(2);d.propTypes={config:F.a.object,query:F.a.object,response:F.a.object,update:F.a.object,clear:F.a.func};var G=d,Z=a(21),$=a.n(Z),ee=a(22);u.propTypes={config:F.a.object,query:F.a.object,response:F.a.object,update:F.a.object,clear:F.a.func,updating:F.a.bool,summariseAs:F.a.object};var te=u;p.propTypes={details:F.a.object};var ae=p;m.propTypes={details:F.a.object,query:F.a.object};var ne=m;f.propTypes={details:F.a.object};var re=f,le=(e,t)=>t?e:T.a.createElement(T.a.Fragment,null,e.split(t).reduce((e,a,n)=>n?e.concat(T.a.createElement("span",{className:"highlightText",key:t+a},t),a):[a],[]));_.propTypes={details:F.a.object,query:F.a.object};var se=_;h.propTypes={details:F.a.object,query:F.a.object};var ie=h;b.propTypes={details:F.a.object};var ce=b;g.propTypes={details:F.a.object,query:F.a.object};var oe=g;y.propTypes={details:F.a.object};var de=y;v.propTypes={details:F.a.object};var ue=v;a(20);E.propTypes={details:F.a.object};var pe=E;N.propTypes={details:F.a.object,query:F.a.object,type:F.a.string};var me=N;w.propTypes={details:F.a.object};var fe=w;A.propTypes={query:F.a.object,response:F.a.object,summariseAs:F.a.object,update:F.a.object};var _e=A;q.propTypes={clear:F.a.func,config:F.a.object,currEnd:F.a.number,currStart:F.a.number,numRanks:F.a.number,query:F.a.object,summariseAs:F.a.object,totalMatching:F.a.number,update:F.a.object};var he=q;S.propTypes={currStart:F.a.number,query:F.a.object,numRanks:F.a.number,totalMatching:F.a.number,update:F.a.object};var be=S;x.propTypes={clear:F.a.func,query:F.a.object,response:F.a.object,summariseAs:F.a.object,type:F.a.string,update:F.a.object,updating:F.a.bool};var ge=x,ye=a(9),ve=a.n(ye);const Ee=Object(X.n)()?0:1e3,Ne=10;C.propTypes={config:F.a.object,element:F.a.object},t.a=C}});