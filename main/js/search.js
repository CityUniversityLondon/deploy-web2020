!function(e){function a(a){for(var n,l,c=a[0],i=a[1],o=a[2],d=0,u=[];d<c.length;d++)l=c[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&u.push(r[l][0]),r[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(m&&m(a);u.length;)u.shift()();return s.push.apply(s,o||[]),t()}function t(){for(var e,a=0;a<s.length;a++){for(var t,l=s[a],c=!0,i=1;i<l.length;i++)t=l[i],0!==r[t]&&(c=!1);c&&(s.splice(a--,1),e=n(n.s=l[0]))}return e}function n(a){if(l[a])return l[a].exports;var t=l[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var l={},r={9:0},s=[];n.m=e,n.c=l,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)n.d(t,l,function(a){return e[a]}.bind(null,l));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var o=0;o<c.length;o++)a(c[o]);var m=i;s.push([235,1,0,4,3,2]),t()}({2:function(e,a,t){"use strict";function n(e){return!("true"!==e)}function l(e,a,t){const n=t?S(a):x(a);e.className=e.className.split(/\s+/).filter(e=>n(e)).join(" ")}function r(){return!!window.matchMedia("(prefers-reduced-motion: reduce)").matches}function s(e){return!(0===e.offsetHeight||0===e.offsetWidth)}function c(e){return!!(0<=e.getBoundingClientRect().top&&e.getBoundingClientRect().top<=window.innerHeight)}function i(e){const a={};return e.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");a[t]=n}),a}function o(e){if(0<Object.keys(e).length){let a="?";for(const t in e)1!==a.length&&(a+="&"),a+=t+"="+e[t];return a}return""}function m(e,a,t,n,l,r){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:a,eventAction:t,eventLabel:n,eventValue:l,nonInteractionHit:r})}function d(e,a){a.forEach(a=>e.appendChild(a))}function u(e=432){if(window.innerWidth<e)return!0}function p(e){let a=[];for(let t=e.length>>>0;t--;)a[t]=e[t];return a}function _(){const e=window.navigator.userAgent,a=e.indexOf("MSIE ");if(0<a)return parseInt(e.substring(a+5,e.indexOf(".",a)),10);if(0<e.indexOf("Trident/")){let a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}const t=e.indexOf("Edge/");return!!(0<t)&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}function f(){return!!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)}function h(e,a){let t=document.createElement(e);return a.map((function(e){"content"===e.label?t.appendChild(document.createTextNode(e.val)):"html"===e.label?t.innerHTML=e.val:t.setAttribute(e.label,e.val)})),t}function E(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function y(e){return q()(e).then(e=>{if(200===e.status)return e.data;throw"Bad response: ".concat(e.status)}).catch(e=>{q.a.isCancel(e)||m("jsError","JavaScript error","Line ".concat(e.lineNumber," – ").concat(e.message),"axiosRequest ".concat(e.fileName," (").concat(window.location,")"),!0)})}function g(e){return O.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),O.a.createElement("sup",null,function(e){const a=e.toString().slice(-1);return e>=11||e<=13?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th"}(e.getUTCDate()))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}t.d(a,"o",(function(){return n})),t.d(a,"m",(function(){return l})),t.d(a,"l",(function(){return r})),t.d(a,"i",(function(){return s})),t.d(a,"q",(function(){return c})),t.d(a,"k",(function(){return i})),t.d(a,"j",(function(){return o})),t.d(a,"g",(function(){return m})),t.d(a,"a",(function(){return d})),t.d(a,"h",(function(){return u})),t.d(a,"n",(function(){return p})),t.d(a,"e",(function(){return _})),t.d(a,"c",(function(){return f})),t.d(a,"d",(function(){return h})),t.d(a,"p",(function(){return E})),t.d(a,"b",(function(){return y})),t.d(a,"f",(function(){return g}));var b=t(4),N=(t.n(b),t(12)),D=(t.n(N),t(15)),v=(t.n(D),t(3)),w=(t.n(v),t(5)),j=(t.n(w),t(8)),q=t.n(j),k=t(0),O=t.n(k);const S=e=>a=>0>a.indexOf(e),x=e=>a=>a!==e},235:function(e,a,t){e.exports=t(240)},240:function(e,a,t){"use strict";function n(e){return y.a.createElement("div",{className:"wrapper--search__bestbets"},y.a.createElement("div",{className:"search__bestbets"},y.a.createElement("h2",{className:"search__bestbets__heading sr-only"},"Best bets"),y.a.createElement("ul",{className:"search__bestbets__list"},e.bestbets.slice(0,w).map((e,a)=>y.a.createElement("li",{className:"card--search card--bestbet",key:"bestBet"+a},y.a.createElement("a",{href:e.linkUrl,className:"card__anchor card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.titleHtml),y.a.createElement("p",{className:"card__description"},e.descriptionHtml),y.a.createElement("p",{className:"card__url"},e.displayUrl))))))))}function l(e){return y.a.createElement("div",{className:"wrapper--search__othersites"},y.a.createElement("div",{className:"search__othersites"},y.a.createElement("h2",{className:"search__othersites__heading"},"Results on other City sites"),e.collections.map((a,t)=>!a.updating&&a.response&&0<a.response.summary.totalMatching?y.a.createElement("div",{className:"search__othersites__site",key:"site"+t},y.a.createElement("h3",{className:"search__othersites__site__heading"},y.a.createElement("a",{href:a.search+"?query="+e.query.query},a.label," (",a.response.summary.totalMatching,")")," ",y.a.createElement("span",{className:"fas fa-arrow-right icon","aria-hidden":"true"})),y.a.createElement("div",{className:"search__results"},y.a.createElement("ul",{className:"search__results__list"},a.response.results.slice(0,k).map((e,t)=>function(e,a,t){const n=e.metaData.thumbnail&&y.a.createElement("div",{className:"card__thumbnail"},y.a.createElement("picture",null,y.a.createElement("img",{src:e.metaData.thumbnail,alt:""}))),l=0>e.liveUrl.indexOf(q)&&y.a.createElement(y.a.Fragment,null," ",y.a.createElement("span",{className:"fas fa-external-link icon","aria-label":"(external link)"}));return y.a.createElement("li",{className:"card--search",key:a+t},y.a.createElement("a",{href:e.clickTrackingUrl,className:"card__details card__anchor"},n,y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h4",{className:"card__heading"},e.title,l),y.a.createElement("p",{className:"card__description"},e.metaData.c))))}(e,a.collection,t))))):null),e.nonpublic.map((a,t)=>!a.updating&&a.response&&0<a.response.summary.totalMatching?y.a.createElement("div",{className:"search__othersites__site",key:"site"+t},y.a.createElement("h3",{className:"search__othersites__site__heading"},y.a.createElement("a",{href:a.search+"?query="+e.query.query},a.label," (",a.response.summary.totalMatching,")")," ",y.a.createElement("span",{className:"fad fa-lock-alt icon","aria-label":"Login required"}))):null),y.a.createElement("div",{className:"search__othersites__noresults"},y.a.createElement("p",null,"No results found."))))}function r(e){return y.a.createElement("button",{className:"search__clear",type:"button",onClick:()=>{e.clear()}},y.a.createElement("span",{className:"fad fa-fw fa-times-circle icon"}),y.a.createElement("span",{className:"search__clear__text"},"Clear query"))}function s(e){const a=e.query.collection||e.config.primary[0].collection;return y.a.createElement("div",{className:"search__filter search__select ".concat(a!==e.config.primary.collections[0].collection&&"search__select--selected")},y.a.createElement("label",{htmlFor:"search__collection"},e.config.primary.collections[0].label),y.a.createElement("select",{name:"collection",id:"search__collection",onChange:a=>(a=>{const t=e.query;t.startRank=1,t.misspelling=null,t.interacted=!0,t.collection=a,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value),value:a},e.config.primary.collections.map((e,a)=>y.a.createElement("option",{key:a,value:e.collection.toLowerCase()},e.label))))}function c(e){function a(){p.focus()}const[t,n]=Object(E.useState)(e.query.query),[l,r]=Object(E.useState)([]),[s,c]=Object(E.useState)({cancel:()=>{}}),[i]=Object(E.useState)("search--"+e.query.collection+"--"+Math.random().toString(16).slice(-4)),[o,m]=Object(E.useState)(!1),[d,u]=Object(E.useState)("");Object(E.useEffect)(()=>{n(e.query.query)},[e.query.query,e.updating]);let p=null;const _=()=>{s.cancel(),n(""),r([]),a();const t=e.query;t.misspelling=null,t.query="",t.sortType="",t.startRank=1,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)},f=a=>{s.cancel(),r([]);const n=e.query;n.misspelling=null,n.query=a||(t||""),n.sortType="",n.startRank=1,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)},h=t&&y.a.createElement(S,{clear:()=>{_()}}),g=e=>{m(!1),r([]),a(),f(e)},N=l&&0<l.length&&y.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":d,className:o?"search__query__suggestions show":"search__query__suggestions hide"},[...new Set(l)].slice(0,T).map((e,a)=>y.a.createElement("li",{key:e,role:"option",id:i+"--"+a},y.a.createElement("button",{type:"button",onBlur:()=>{u(""),m(!1)},onFocus:()=>m(!0),onMouseDown:()=>g(e),onClick:()=>g(e),onKeyDown:e=>{switch(e.key){case C:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),r([]),u("");break;case U:e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),u(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),u(""));break;case A:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),u(e.target.parentNode.nextElementSibling.id));break;case R:e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),u(e.target.parentNode.firstChild.id));break;case M:e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),u(e.target.parentNode.lastChild.id))}}},function(e,a){return y.a.createElement(y.a.Fragment,null,y.a.createElement("span",null,y.a.createElement("span",{className:"sr-only"},e),y.a.createElement("span",{"aria-hidden":"true"},y.a.createElement("span",{className:"search__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(e,t))))),D=y.a.createElement("div",{className:"search__query__input"},y.a.createElement("div",{className:"search__query__icon--wrapper"},y.a.createElement("span",{className:"search__icon fal fa-search icon","aria-hidden":"true"})),y.a.createElement("label",{className:"sr-only",htmlFor:i},"Search"),y.a.createElement("input",{autoComplete:"off",id:i,name:"query",placeholder:e.primary[0].placeholder,ref:e=>{p=e},type:"text",value:t,onKeyDown:e=>{switch(e.key){case C:_();break;case A:l&&0<l.length&&(e.preventDefault(),e.target.parentNode.querySelector(".search__query__suggestions button").focus(),u(e.target.parentNode.querySelector(".search__query__suggestions li").id))}},onFocus:()=>m(!0),onBlur:()=>m(!1),onChange:a=>{if(r([]),n(a.target.value),s.cancel(),a.target.value){const[t,n]=Object(b.c)(e.query.collection,a.target.value);c({cancel:()=>{n.cancel()}}),t.then(e=>r(e)).catch(()=>r([]))}else r([])}}),N,h),v=y.a.createElement(x,{config:e.config,query:e.query,update:e.update});return y.a.createElement("fieldset",{className:"search-form__query"},y.a.createElement("div",{className:"wrapper--search-form__query__fields"},v,y.a.createElement("div",{className:"wrapper--search-form__query__fields__input"},D,y.a.createElement("button",{type:"submit",className:"search__query__submit",onClick:()=>f()},y.a.createElement("span",{className:"fal fa-search search__query__submit__icon","aria-hidden":"true"})," ",y.a.createElement("span",{className:"search__query__submit__text"},"Search")))))}function i(e,a,t){const n=a&&y.a.createElement("p",{className:"card__label"},a),l=0>e.liveUrl.indexOf(H)&&y.a.createElement(y.a.Fragment,null," ",y.a.createElement("span",{className:"fas fa-external-link icon","aria-label":"(external link)"}));return y.a.createElement("li",{className:"card--search",key:"all"+t},y.a.createElement("a",{href:e.clickTrackingUrl,className:"card__details card__anchor"},y.a.createElement("div",{className:"card__details__text"},n,y.a.createElement("h3",{className:"card__heading"},e.title,l),y.a.createElement("p",{className:"card__description"},e.metaData.c),y.a.createElement("p",{className:"card__url"},e.liveUrl))))}function o(e){function a(a){switch(a.key){case W:e.element.querySelector(".tabs__links li:nth-child(".concat(0===t?1:t,") button")).focus(),0!==t&&n(t-1);break;case z:e.element.querySelector(".tabs__links li:nth-child(".concat(t===e.finders.length?t+1:t+2,") button")).focus(),t!==e.finders.length&&n(t+1);break;case Y:e.element.querySelector('.tabs__links button[aria-current="true"]').focus();break;case V:e.element.querySelector(".tabs__panel:not([hidden])").focus();break;case K:n(0);break;case J:n(e.finders.length)}}const[t,n]=Object(E.useState)(0),l=e=>y.a.createElement("p",{className:"search__results__updating","aria-live":"polite"},y.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Updating ",e,"…")),r=y.a.createElement("ul",{className:"tabs__links",role:"tablist"},y.a.createElement("li",{key:"tabs__links__primary"},y.a.createElement("button",{role:"tab",id:"link--search443531__tabs__"+e.primary[0].collection,title:e.primary[0].label,"aria-selected":0===t,"aria-current":0===t,onClick:()=>n(0)},y.a.createElement("span",null,e.primary[0].label," (",e.primary[0].updating?y.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-label":"Updating…"}):e.primary[0].response&&e.primary[0].response.summary.totalMatching,")"))),e.finders.map((e,a)=>y.a.createElement("li",{key:"tabs__links__finder"+a,role:"presentation"},y.a.createElement("button",{id:"link--search443531__tabs__"+e.collection,title:e.label,"aria-selected":t===a+1,"aria-current":t===a+1,onClick:()=>n(a+1)},y.a.createElement("span",null,e.label," (",e.updating||!e.response?y.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-label":"Updating…"}):e.response.summary.totalMatching,")"))))),s=e.primary[0].response&&e.primary[0].response.summary.totalMatching>e.primary[0].response.summary.numRanks&&y.a.createElement(I.a,{currStart:e.primary[0].response.summary.currStart,numRanks:e.primary[0].response.summary.numRanks,query:e.query,totalMatching:e.primary[0].response.summary.totalMatching,update:e.update}),c=y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:"tabs__panel",id:"search443531__tabs__"+e.primary[0].collection,"aria-labelledby":"link--search443531__tabs__"+e.primary[0].collection,key:"primary",role:"tabpanel",tabIndex:"-1",hidden:0!==t},y.a.createElement("h2",{className:"tabs__panel__heading sr-only"},e.primary[0].label),y.a.createElement("div",{className:"tabs__panel__body"},e.primary[0].updating?l("results"):e.primary[0].response&&0<e.primary[0].response.summary.totalMatching?y.a.createElement("div",{className:"search__results"},y.a.createElement("div",{className:"search__results__summary"},y.a.createElement("h3",{"aria-live":"polite",className:"search__results__summary__heading"},y.a.createElement("span",null,"(showing"," ",y.a.createElement("span",null,e.primary[0].response.summary.currStart),"–",y.a.createElement("span",null,e.primary[0].response.summary.currEnd)," ","of"," ",y.a.createElement("span",null,e.primary[0].response.summary.totalMatching)," ",0===e.primary[0].response.summary.totalMatching?"results":1===e.primary[0].response.summary.totalMatching?"result":"results",")"))),y.a.createElement("ol",{className:"search__results__list",start:e.primary[0].response.summary.currStart},e.primary[0].response.results.map((e,a)=>{switch(e.collection){case"web2020-residentialhalls":return i(e,"Residential hall",a);case"web2020-business-impact":case"web2020-research":return i(e,"Case study",a);case"web2020-centres":return i(e,"Research centre",a);case"web2020-courses":return i(e,"Course",a);case"web2020-events":return i(e,"Event",a);case"web2020-facilities":return i(e,"Facility",a);case"web2020-locations":return i(e,"Location",a);case"web2020-pathways":return i(e,"Career pathway",a);case"web2020-funding":return i(e,"Funding",a);case"web2020-news":return i(e,"News",a);case"web2020-profiles":return i(e,"Profile",a);default:return i(e,null,a)}})),s):y.a.createElement("div",{className:"search__results__summary search__results__summary--noresults"},y.a.createElement("h3",{className:"search__results__summary__heading"},"Your search did not match any results."),y.a.createElement("p",null,"Suggestions:"),y.a.createElement("ul",null,y.a.createElement("li",null,"Make sure that all words are spelled correctly"),y.a.createElement("li",null,"Try different keywords"),y.a.createElement("li",null,"Try more general keywords"),y.a.createElement("li",null,"Try fewer keywords"))))),e.finders.map((a,n)=>y.a.createElement("section",{className:"tabs__panel",id:"search443531__tabs__"+a.collection,"aria-labelledby":"link--search443531__tabs__"+a.collection,key:"finder"+n,role:"tabpanel",tabIndex:"-1",hidden:t!==n+1},y.a.createElement("h2",{className:"tabs__panel__heading sr-only"},a.label),y.a.createElement("div",{className:"tabs__panel__body"},a.updating||!a.response?l(a.summariseAs.plural):0<a.response.summary.totalMatching?y.a.createElement("div",{className:"search__results"},y.a.createElement("div",{className:"search__results__summary"},y.a.createElement("h3",{"aria-live":"polite",className:"search__results__summary__heading"},y.a.createElement("span",null,"(showing"," ",y.a.createElement("span",null,a.response&&a.response.summary.currStart),"–",y.a.createElement("span",null,a.response&&a.response.summary.currEnd)," ","of"," ",y.a.createElement("span",null,a.response&&a.response.summary.totalMatching)," ",a.response&&0===a.response.summary.totalMatching?a.summariseAs.plural:a.response&&1===a.response.summary.totalMatching?a.summariseAs.singular:a.summariseAs.plural,")"))),y.a.createElement("ol",{className:"search__results__list",start:a.response&&a.response.summary.currStart},a.response&&a.response.results.map((t,n)=>y.a.createElement(B.a,{bestBet:!1,details:t,key:a.collection+n,type:a.resultCard,query:e.query}))),a.response&&a.response.summary.totalMatching>a.response.summary.currEnd&&a.search&&y.a.createElement("p",{className:"search__results__more"},y.a.createElement("a",{href:a.search+"?query="+e.query.query},"Browse more"," ",a.summariseAs.plural," ")," ",y.a.createElement("span",{className:"fas fa-arrow-right icon","aria-hidden":"true"}))):y.a.createElement("p",{className:"search__summary__noresults"},"No matching ",a.summariseAs.plural,"."," ",a.search&&y.a.createElement(y.a.Fragment,null,y.a.createElement("a",{href:a.search},"Browse"," ",a.summariseAs.plural," ","instead")," ",y.a.createElement("span",{className:"fas fa-arrow-right icon","aria-hidden":"true"})))))));return y.a.createElement("div",{className:"tabs wrapper--search__results",onKeyDown:e=>a(e)},r,c)}function m(e){const a=new URLSearchParams(window.location.search),t={collection:a.get("collection")||e.config.primary.collections[0].collection,interacted:!1,misspelling:null,numRanks:a.get("num_ranks")||e.config.primary.numRanks,query:a.get("query")||"",sortType:"",startRank:a.get("start_rank")||1},n=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),l={primary:e.config.primary.collections.map(e=>({label:e.label,collection:e.collection,placeholder:e.placeholder,response:n,search:e.search,updating:!1,call:{cancel:()=>{}}})),finders:e.config.finders.map(e=>({label:e.label,summariseAs:e.summariseAs,resultCard:e.resultCard,search:e.search,collection:e.collection,response:n,updating:!1,call:{cancel:()=>{}}})),nonpublic:e.config.nonpublic.map(e=>({label:e.label,collection:e.collection,response:n,search:e.search,updating:!1,call:{cancel:()=>{}}}))},[r,s]=Object(E.useState)(0),[c,i]=Object(E.useState)(t),[o,m]=Object(E.useState)(l),[d,u]=Object(E.useState)(!1);Object(E.useEffect)(()=>{(function(e,a,t,n){if(window){const l=new URLSearchParams(window.location.search);""===e?l.delete("query"):l.set("query",e),1===a?l.delete("start_rank"):l.set("start_rank",a),t===n?l.delete("collection"):l.set("collection",t);const r=l.toString().length?"?":"";window.history.replaceState({},"","".concat(window.location.pathname).concat(r).concat(l.toString()))}})(c.query,c.startRank,c.collection,e.config.primary.collections[0].collection),0<c.query.length?(c.interacted&&e.element.querySelector(".search__results")&&P.a.center(e.element.querySelector(".search__results"),Q,-window.innerHeight/X),e.config.primary.collections.forEach((e,a)=>{o.primary[a].call.cancel();const[t,l]=Object(b.a)(e.collection,[],c.query,"",c.startRank,c.numRanks,[]),r=o;r.primary[a].call={cancel:()=>{l.cancel()}},r.primary[a].updating=!0,m(r),s(Math.random()),t.then(e=>{const t=o;if(t.primary[a].response=e,t.primary[a].updating=!1,r.primary[a].collection===c.collection&&e.spell&&0===e.summary.totalMatching){const a=e.spell.text.split(/\|/)[0].trim(),t=c;t.misspelling=c.query,t.query=a,t.startRank=1,i(t),u(!d)}m(t),s(Math.random())}).catch(()=>{const e=o;e.primary[a].response=n,e.primary[a].updating=!1,m(e),s(Math.random())})}),e.config.finders.forEach((a,t)=>{o.finders[t].call.cancel();const[l,r]=Object(b.a)(a.collection,[],c.query,"",1,a.numRanks,[]),i=o;i.finders[t].call={cancel:()=>{r.cancel()}},i.finders[t].updating=!0,m(i),s(Math.random()),l.then(e=>{const a=o;a.finders[t].response=e,a.finders[t].updating=!1,m(a),s(Math.random())}).then(()=>{e.element.querySelector(".tabs__links")&&c.interacted&&P.a.center(e.element.querySelector(".tabs__links"),Q)}).catch(()=>{const e=o;e.finders[t].response=n,e.finders[t].updating=!1,m(e),s(Math.random())})}),e.config.nonpublic.forEach((e,a)=>{o.nonpublic[a].call.cancel();const[t,l]=Object(b.a)(e.collection,[],c.query,"",1,0,[]),r=o;r.nonpublic[a].call={cancel:()=>{l.cancel()}},r.nonpublic[a].updating=!0,m(r),s(Math.random()),t.then(e=>{const t=o;t.nonpublic[a].response=e,t.nonpublic[a].updating=!1,m(t),s(Math.random())}).catch(()=>{const e=o;e.nonpublic[a].response=n,e.nonpublic[a].updating=!1,m(e),s(Math.random())})})):m(l)},[d]);const p={query:e=>i(e),results:e=>u(e),updateState:d},_=y.a.createElement(F,{config:e.config,query:c,update:p,primary:o.primary.filter(e=>e.collection===c.collection),updating:o.primary[0].updating}),f=c.query&&!o.primary[0].updating&&y.a.createElement(O,{query:c,collections:o.primary.filter(e=>e.collection!==c.collection),nonpublic:o.nonpublic}),h=c.query&&!o.primary[0].updating&&o.primary[0].response&&o.primary[0].response.bestBets&&y.a.createElement(j,{bestbets:o.primary[0].response.bestBets}),g=c.query&&y.a.createElement(G,{config:e.config,query:c,update:p,primary:o.primary.filter(e=>e.collection===c.collection),finders:o.finders,element:e.element});return y.a.createElement("form",{className:"search-form",onSubmit:e=>{e.preventDefault()}},_,h,g,f)}function d(e){return y.a.createElement("button",{className:"search--inline__clear",type:"button",onClick:()=>{e.clear()}},y.a.createElement("span",{className:"fad fa-fw fa-times-circle icon "}),y.a.createElement("span",{className:"search--inline__clear__text"},"Clear query"))}function u(e){const[a,t]=Object(E.useState)(e.query.query),[n]=Object(E.useState)("search--inline--"+e.query.collection+"--"+Math.random().toString(16).slice(-4));Object(E.useEffect)(()=>{t(e.query.query)},[e.query.query,e.updating]);let l=null;const r=()=>{t(""),l.focus();const a=e.query;a.query="",a.startRank=1,e.update.query(a),e.update.results(!e.update.updateState)},s=a&&y.a.createElement(ee,{clear:()=>{r()}}),c=y.a.createElement("div",{className:"search--inline__query__input"},y.a.createElement("div",{className:"search--inline__query__icon--wrapper"},y.a.createElement("span",{className:"search--inline__icon fal fa-search icon","aria-hidden":"true"})),y.a.createElement("label",{className:"sr-only",htmlFor:n},"Search"),y.a.createElement("input",{autoComplete:"off",id:n,name:"query",placeholder:e.config.placeholder,ref:e=>{l=e},type:"text",required:!0,value:a,onKeyDown:e=>{switch(e.key){case ae:r()}},onChange:a=>{t(a.target.value),(a=>{const t=e.query;t.query=a,t.startRank=1,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value)}}),s);return y.a.createElement("fieldset",{className:"search--inline__query"},y.a.createElement("div",null,c,y.a.createElement("button",{type:"submit",className:"search--inline__query__submit"},y.a.createElement("span",{className:"search--inline__query__submit__content"},y.a.createElement("span",{className:"fas fa-search search--inline__query__submit__icon","aria-hidden":"true"})," ",y.a.createElement("span",{className:"search--inline__query__submit__text"},"Search")))))}function p(e){return y.a.createElement("div",{className:"search--inline__suggestions"},y.a.createElement("h3",null,"Suggestions"),y.a.createElement("ul",null,e.suggestions.map((a,t)=>{const n=a.replace(/\s+/g,"+"),l=function(e,a){return y.a.createElement(y.a.Fragment,null,y.a.createElement("span",null,y.a.createElement("span",{className:"sr-only"},e),y.a.createElement("span",{"aria-hidden":"true"},y.a.createElement("span",{className:"search--inline__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(a,e.query.query);return y.a.createElement("li",{key:t},y.a.createElement("a",{href:"/search?query=".concat(n)},l))})))}function _(e,a){const t=e.metaData.thumbnail&&y.a.createElement("div",{className:"card__thumbnail"},y.a.createElement("picture",null,y.a.createElement("img",{src:e.metaData.thumbnail,alt:""}))),n=a&&y.a.createElement("p",{className:"card__label"},a),l=0>e.liveUrl.indexOf(le)&&y.a.createElement(y.a.Fragment,null," ",y.a.createElement("span",{className:"fas fa-external-link icon","aria-label":"(external link)"}));return y.a.createElement("li",{className:"card--search",key:e.docNum},y.a.createElement("a",{href:e.clickTrackingUrl,className:"card__details card__anchor"},t,y.a.createElement("div",{className:"card__details__text"},n,y.a.createElement("h4",{className:"card__heading"},e.title,l),y.a.createElement("p",{className:"card__description"},e.metaData.c),y.a.createElement("p",{className:"card__url"},e.liveUrl))))}function f(e){return y.a.createElement("div",{className:"search--inline__topresults"},y.a.createElement("h3",null,"Top results"),y.a.createElement("ul",null,e.results.map(e=>{switch(e.collection){case"web2020-residentialhalls":return _(e,"Residential hall");case"web2020-business-impact":case"web2020-research":return _(e,"Case study");case"web2020-centres":return _(e,"Research centre");case"web2020-courses":return _(e,"Course");case"web2020-events":return _(e,"Event");case"web2020-facilities":return _(e,"Facility");case"web2020-locations":return _(e,"Location");case"web2020-pathways":return _(e,"Career pathway");case"web2020-funding":return _(e,"Funding");case"web2020-news":return _(e,"News");case"web2020-profiles":return _(e,"Profile");default:return _(e,null)}})))}function h(e){const[a,t]=Object(E.useState)(!1),[n,l]=Object(E.useState)({}),r={collection:e.config.collection,misspelling:null,numRanks:e.config.numRanks,query:"",startRank:1,facets:[],fixedFacets:[]},s=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),c=[],[i,o]=Object(E.useState)(r),[m,d]=Object(E.useState)(s),[u,p]=Object(E.useState)(c),[_,f]=Object(E.useState)(!1),[h,g]=Object(E.useState)(!1),[N,D]=Object(E.useState)({cancel:()=>{}}),[v,w]=Object(E.useState)(!1),[j,q]=Object(E.useState)({cancel:()=>{}});Object(E.useEffect)(()=>{f(!0),g(!0),N.cancel(),j.cancel();const[e,a]=Object(b.a)(i.collection,i.fixedFacets,i.query,i.sortType,i.startRank,i.numRanks,i.facets),[t,n]=Object(b.c)(i.collection,i.query);D({cancel:()=>{a.cancel()}}),q({cancel:()=>{n.cancel()}}),e.then(e=>{d(e),f(!1)}).catch(()=>{d(s)}),t.then(e=>{e&&(p(e),g(!1))}).catch(()=>{p(c)})},[v]);const k=e=>y.a.createElement("p",{className:"search--inline__results__updating search--inline__results__updating--".concat(e.replace(/ /g,"")),"aria-live":"polite"},y.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Updating ",e,"…"));Object(E.useEffect)(()=>{n.activate||l($()(ce(),{initialFocus:ce().querySelector("input"),onDeactivate:()=>t(!1),clickOutsideDeactivates:!0})),a?n.activate&&n.activate():n.deactivate&&n.deactivate()},[a,n]);const O="global-header__search__icon far fa-fw ".concat(a?"fa-times":"fa-search"),S=a&&y.a.createElement("div",{className:"veil--search","data-on":"true"}),x=y.a.createElement("button",{className:"global-header__search__button",type:"button",id:"search","aria-expanded":a,onClick:()=>{t(!a)}},y.a.createElement("div",{className:"global-header__search__wrapper"},y.a.createElement("span",{className:"global-header__search__text"},a?"Close":"Search"),y.a.createElement("span",{className:O,"aria-hidden":"true"}))),T=y.a.createElement(te,{config:e.config,query:i,update:{query:e=>o(e),results:e=>w(e),updateState:v},updating:_}),C=h?k("suggestions"):u&&0<u.length?y.a.createElement(ne,{query:i,suggestions:u.slice(0,10)}):null,M=_?k("top results"):m&&0<m.results.length?y.a.createElement(re,{query:i,results:m.results}):null;return y.a.createElement(y.a.Fragment,null,x,y.a.createElement("div",{className:"global-header__search__modal",ref:e=>se=e},y.a.createElement("div",{className:"global-header__search__modal__header"},y.a.createElement("div",{className:"header-logo header-logo--city"},y.a.createElement("div",{className:"header-logo__responsive"},y.a.createElement("a",{href:"https://city.ac.uk",rel:"home"},y.a.createElement("img",{className:"logo",src:"https://www.city.ac.uk/__data/assets/file/0006/442248/city-university-london-responsive-white.svg",width:"180",alt:"City, University of London"})))),x),y.a.createElement("div",{className:"global-header__search__modal__body"},y.a.createElement("h2",null,"What are you looking for?"),y.a.createElement("form",{action:"/search",method:"get"},T),y.a.createElement("div",{className:"global-header__search__modal__body__results"},C,M))),S)}t.r(a);var E=t(0),y=t.n(E),g=t(25),b=(t(4),t(12),t(32),t(3),t(5),t(78),t(7)),N=t(2),D=t(1),v=t.n(D);const w=3;n.propTypes={bestbets:v.a.arrayOf(v.a.object)};var j=n;const q="city.ac.uk",k=0;l.propTypes={query:v.a.object,collections:v.a.arrayOf(v.a.object),nonpublic:v.a.arrayOf(v.a.object)};var O=l;r.propTypes={clear:v.a.func};var S=r;s.propTypes={config:v.a.object,query:v.a.object,update:v.a.object};var x=s;const T=5,C="Escape",M="End",R="Home",U="ArrowUp",A="ArrowDown";c.propTypes={config:v.a.object,query:v.a.object,update:v.a.object,primary:v.a.arrayOf(v.a.object),updating:v.a.bool};var F=c,L=t(6),P=t.n(L),B=t(31),I=t(54);const H="city.ac.uk",J="End",K="Home",W="ArrowLeft",Y="ArrowUp",z="ArrowRight",V="ArrowDown";o.propTypes={config:v.a.object,element:v.a.object,finders:v.a.arrayOf(v.a.object),primary:v.a.arrayOf(v.a.object),query:v.a.object,update:v.a.object};var G=o;const Q=Object(N.l)()?0:1e3,X=10;m.propTypes={config:v.a.object,element:v.a.object};t(15);var Z=t(19),$=t.n(Z);d.propTypes={clear:v.a.func};var ee=d;const ae="Escape";u.propTypes={config:v.a.object,query:v.a.object,update:v.a.object,updating:v.a.bool};var te=u;p.propTypes={query:v.a.object,suggestions:v.a.arrayOf(v.a.string)};var ne=p;const le="city.ac.uk";f.propTypes={query:v.a.object,results:v.a.arrayOf(v.a.object)};var re=f;let se=null;const ce=()=>se;h.propTypes={config:v.a.object,element:v.a.object},document.addEventListener("DOMContentLoaded",()=>{if(!/(Trident|MSIE)/.test(navigator.userAgent)){const e=document.querySelector(".wrapper--search"),a=document.querySelector(".global-header__search");a&&Object(b.b)(a.dataset.config).then(e=>{Object(g.render)(y.a.createElement(h,{config:e,element:a}),a)}),e&&Object(b.b)(e.dataset.config).then(a=>{Object(g.render)(y.a.createElement(m,{config:a,element:e}),e)})}})},31:function(e,a,t){"use strict";function n(e){const a=e=>0<h(e/60)?h(e/60)+" hour "+e%60:e,t=e.details.metaData.thumbnail&&y.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"",className:"card__thumbnail"}),n=e.details.metaData.level&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",y.a.createElement("span",{className:"sr-only"},"Level:")," ",y.a.createElement("span",null,Object(N.p)(e.details.metaData.level).split("|").join(" or "))),l=Object.keys(e.details.metaData).filter(a=>["accessible","catered","ensuite"].includes(a)&&"Yes"===e.details.metaData[a]).map(e=>e.replace(/ensuite/,"en suite")).sort().join(", "),r=e.details.metaData.type&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",{className:"sr-only"},"Type:")," ",y.a.createElement("span",null,2<e.details.metaData.type.split("|").length?Object(N.p)(e.details.metaData.type).split("|").slice(0,-1).join(", ")+" or "+Object(N.p)(e.details.metaData.type).split("|").slice(-1):Object(N.p)(e.details.metaData.type).split("|").join(" or "),l&&" ("+l+")")),s=e.details.metaData.price&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",y.a.createElement("span",{className:"sr-only"},"Price:")," ",y.a.createElement("span",null,e.details.metaData.price," (",e.details.metaData.deposit," deposit)")),c=e.details.metaData.transport&&y.a.createElement(y.a.Fragment,null," ","(",a(e.details.metaData.transport)," minutes by public transport)"),i=e.details.metaData.walk&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",y.a.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:")," ",y.a.createElement("span",null,a(e.details.metaData.walk)," minutes walk to campus",c));return y.a.createElement("li",{className:"card card--accommodation"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},t,y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),i,r,s,n)))}function l(e){const a=e.details.metaData.status?y.a.createElement("p",{className:"card__type"},e.details.metaData.status):e.details.metaData.type&&y.a.createElement("p",{className:"card__type"},e.details.metaData.type),t=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),n=e.details.metaData.department&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Department:")," ",y.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and "))),l=e.details.metaData.centre&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Research centre:")," ",y.a.createElement("span",null,2<e.details.metaData.centre.split("|").length?e.details.metaData.centre.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.centre.split("|").slice(-1):e.details.metaData.centre.split("|").join(", and ")));return y.a.createElement("li",{className:"card card--casestudy"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),a,y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),t,n,l)))}function r(e){const a=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),t=e.details.metaData.department&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Department:")," ",y.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and "))),n=e.details.metaData.related&&y.a.createElement("p",{className:"card__type"},2<e.details.metaData.related.split("|").length?Object(N.p)(e.details.metaData.related).split("|").slice(0,-1).join(", ")+" and "+Object(N.p)(e.details.metaData.related).split("|").slice(-1):Object(N.p)(e.details.metaData.related).split("|").join(" and "));return y.a.createElement("li",{className:"card card--centre"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),n,y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),a,t)))}function s(e){const a=e.details.metaData.department&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Department:")," ",e.details.metaData.department),t=e.details.metaData.jobtitle&&y.a.createElement("p",{className:"card__type"},e.details.metaData.jobtitle),n=e.details.metaData.email&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Email:")," ",y.a.createElement("a",{href:"mailto:"+e.details.metaData.email},e.details.metaData.email)),l=e.details.metaData.telephone&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Telephone:")," ",y.a.createElement("a",{href:"tel:"+e.details.metaData.telephone},e.details.metaData.friendlytelephone)),r=e.details.metaData.room&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Room:")," ",e.details.metaData.room),s=e.details.metaData.enquiryurl&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-edit icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Enquiries:")," ",y.a.createElement("a",{href:e.details.metaData.enquiryurl},e.details.metaData.enquirylabel));return y.a.createElement("li",{className:"card card--contact"},y.a.createElement("div",{className:"card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),t,a,r,n,l,s)))}function c(e){const a=e.details.metaData.type||e.details.metaData.level||null,t=e.details.metaData.qualification&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Award",1<e.details.metaData.qualification.split("|").length&&"s",":")," ",y.a.createElement("span",null,e.details.metaData.qualification.split("|").join(", "))),n=e.details.metaData.duration&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Duration:")," ",y.a.createElement("span",null,e.details.metaData.duration)),l=e.details.metaData.method&&"Short courses and professional development"!==e.details.metaData.level&&(e.query.facets&&e.query.facets.method||0<=e.query.query.indexOf(e.details.metaData.method)||0<=e.details.metaData.method.indexOf("Online"))&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-book-reader icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Method",1<e.details.metaData.method.split("|").length&&"s"," ","of study:")," ",y.a.createElement("span",null,Object(N.p)(e.details.metaData.method).split("|").join(", "))),r=e.details.metaData.location&&e.query.facets&&e.query.facets.location&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Location:")," ",y.a.createElement("span",null,"Online|Online"===e.details.metaData.location?"Online":e.details.metaData.location.split("|").join(", "))),s=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,e.details.metaData.school)),c=["Yes","yes"].includes(e.details.metaData.clearing)&&y.a.createElement("div",{className:"card__label card--course__label--clearing"},y.a.createElement("p",{className:"card__label card--course__label--clearing"},"Clearing")),i=0<=e.details.indexUrl.indexOf("cass.city.ac.uk")&&y.a.createElement(y.a.Fragment,null," ",y.a.createElement("span",{className:"fas fa-external-link icon","aria-label":"(external link)"})),o=e.details.metaData.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some(a=>0<=e.details.metaData.level.indexOf(a))||0<=e.query.query.indexOf(e.details.metaData.code))?y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Course code",1<e.details.metaData.code.split("|").length&&"s",":")," ",y.a.createElement("span",null,e.details.metaData.code.split("|").join("/"))):null;return y.a.createElement("li",{className:"card card--course"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},y.a.createElement("div",{className:"wrapper--card__label__details"},c,y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.query.query?q(e.details.title,e.query.query):e.details.title,i),y.a.createElement("p",{className:"card__type"},e.query.query?q(a,e.query.query):a&&a),y.a.createElement("p",{className:"card__description"},e.query.query?q(e.details.metaData.c,e.query.query):e.details.metaData.c&&e.details.metaData.c),s,t,n,o,l,r))))}function i(e){const a=e.details.metaData.d&&function(e){const a=new Date(e),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getUTCMonth()];return y.a.createElement("p",{className:"card--event__label--shortdate"},t," ",y.a.createElement("span",null,a.getUTCDate()))}(e.details.metaData.d.split("|")[0]),t=e.details.metaData.location&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw icon fa-map-marker-alt","aria-hidden":"true"})," ",y.a.createElement("span",null,"Location:")," ",y.a.createElement("span",null,e.details.metaData.location.split("|").join(", "))),n=e.details.metaData.audience&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw icon fa-users","aria-hidden":"true"})," ",y.a.createElement("span",null,"Audience:")," ",y.a.createElement("span",null,e.details.metaData.audience)),l=e.details.metaData.thumbnail&&y.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"",className:"card__thumbnail"});return y.a.createElement("li",{className:"card card--event card--landscape"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},l,a,y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),t,n)))}function o(e){const a=e.details.metaData.school&&e.query.facets&&e.query.facets.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", or "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", or "))),t="1"===e.details.metaData.hardship&&y.a.createElement("div",{className:"card--funding__label--hardship"},y.a.createElement("p",null,"Hardship funding")),n=e.details.metaData.level&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Funding for:")," ",y.a.createElement("span",null,2<e.details.metaData.level.split("|").length?Object(N.p)(e.details.metaData.level).split("|").slice(0,-1).join(", ")+" or "+Object(N.p)(e.details.metaData.level).split("|").slice(-1):Object(N.p)(e.details.metaData.level).split("|").join(" or "))),l=e.details.metaData.feestatus&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Fee status:")," ",y.a.createElement("span",null,2<e.details.metaData.feestatus.split("|").length?e.details.metaData.feestatus.split("|").slice(0,-1).join(", ")+" or "+e.details.metaData.feestatus.split("|").slice(-1):e.details.metaData.feestatus.split("|").join(" or ")));return y.a.createElement("li",{className:"card card--funding"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},t,y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),y.a.createElement("p",{className:"card__type"},e.details.metaData.type),y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),n,l,a)))}function m(e){const a=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),t=e.details.metaData.department&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Department:")," ",y.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(", and ")));return y.a.createElement("li",{className:"card card--generic"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),a,t)))}function d(e){const a=e.details.metaData.location&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Location:")," ",y.a.createElement("span",null,e.details.metaData.location)),t=e.details.metaData.code?y.a.createElement(y.a.Fragment,null,y.a.createElement("span",{className:"card--module__code"},e.details.metaData.code)," ",y.a.createElement("span",null,e.details.title)):y.a.createElement(y.a.Fragment,null,y.a.createElement("span",null,e.details.title)),n=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+", and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(", and "))),l=e.details.metaData.term&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Semester:")," ",y.a.createElement("span",null,2<e.details.metaData.term.split("|").length?"All year":e.details.metaData.term.split("|").join(" or "))),r=e.details.metaData.related&&y.a.createElement("p",{className:"card__type"},e.details.metaData.related.split("|").sort().map((e,a)=>0<a?e.toLowerCase():e).join(", ")),s=e.details.metaData.specification&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",y.a.createElement("a",{href:e.details.metaData.specification},"Download module specification"));return y.a.createElement("li",{className:"card card--module"},y.a.createElement("div",{className:"card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},t),r,y.a.createElement("p",{className:"card__description"},e.details.metaData.c),l,n,a,s)))}function u(e){const a=Object(N.f)(new Date(e.details.metaData.d)),t=e.details.metaData.d&&y.a.createElement("p",{className:"card__type"},a),n=e.details.metaData.hashtagtext&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Hashtag",1<e.details.metaData.hashtagtext.split("|").length&&"s",":")," ",y.a.createElement("span",null,e.details.metaData.hashtagtext.split("|").join(", "))),l=e.details.metaData.thumbnail&&y.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"",className:"card__thumbnail"});return y.a.createElement("li",{className:"card card--news"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details"},l,y.a.createElement("div",{className:"card__details__text"},t,y.a.createElement("h3",{className:"card__heading"},e.details.title),y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),n)))}function p(e){const a=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",e.details.metaData.school),t=e.details.metaData.department&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Department:")," ",e.details.metaData.department),n=e.details.metaData.thumbnail&&y.a.createElement("div",{className:"card__thumbnail"},y.a.createElement("img",{src:e.details.metaData.thumbnail,alt:"Photo of "+e.details.title})),l=e.details.metaData.thumbnail&&"card--profile--thumbnailAvailable",r=e.query.facets&&e.query.facets.country&&e.details.metaData.country&&y.a.createElement("div",{className:"card__tag"},y.a.createElement("span",{className:"fad fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Country:")," ",2<e.details.metaData.country.split("|").length?e.details.metaData.country.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.country.split("|").slice(-1):e.details.metaData.country.split("|").join(" and "));return y.a.createElement("li",{className:"card card--profile"},y.a.createElement("a",{href:e.details.clickTrackingUrl,className:"card__anchor card__details ".concat(l)},n,y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card__heading"},e.details.title),y.a.createElement("p",{className:"card__type"},e.details.metaData.jobtitle),a,t,r)))}function _(e){const a=e.details.metaData.school&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-university icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"School:")," ",y.a.createElement("span",null,2<e.details.metaData.school.split("|").length?e.details.metaData.school.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.school.split("|").slice(-1):e.details.metaData.school.split("|").join(" and "))),t=e.details.metaData.department&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Department:")," ",y.a.createElement("span",null,2<e.details.metaData.department.split("|").length?e.details.metaData.department.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.department.split("|").slice(-1):e.details.metaData.department.split("|").join(" and "))),n=e.details.metaData.researchcentre&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",1<e.details.metaData.researchcentre.split("|").length?y.a.createElement("span",null,"Reseearch centres: "):y.a.createElement("span",null,"Reseearch centre: "),y.a.createElement("span",null,2<e.details.metaData.researchcentre.split("|").length?Object(R.a)(e.details.metaData.researchcentre).split("|").slice(0,-1).join(", ")+" and "+Object(R.a)(e.details.metaData.researchcentre.split("|").slice(-1)):Object(R.a)(e.details.metaData.researchcentre.split("|").join(" and ")))),l=e.details.metaData.academic&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-chalkboard-teacher icon","aria-hidden":"true"})," ",1<e.details.metaData.academic.split("|").length?y.a.createElement("span",null,"Academics: "):y.a.createElement("span",null,"Academic: "),y.a.createElement("span",null,2<e.details.metaData.academic.split("|").length?Object(R.a)(e.details.metaData.academic.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.academic.split("|").slice(-1)):Object(R.a)(e.details.metaData.academic.split("|").join(" and ")))),r=e.details.metaData.student&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"fas fa-fw fa-users icon","aria-hidden":"true"})," ",1<e.details.metaData.student.split("|").length?y.a.createElement("span",null,"Students: "):y.a.createElement("span",null,"Student: "),y.a.createElement("span",null,2<e.details.metaData.student.split("|").length?Object(R.a)(e.details.metaData.student.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.student.split("|").slice(-1)):Object(R.a)(e.details.metaData.student.split("|").join(" and ")))),s=e.details.metaData.relatedDegree&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"far fa-fw fa-diploma icon","aria-hidden":"true"})," ",1<e.details.metaData.relatedDegree.split("|").length?y.a.createElement("span",null,"Related degrees: "):y.a.createElement("span",null,"Related degree: "),y.a.createElement("span",null,2<e.details.metaData.relatedDegree.split("|").length?Object(R.a)(e.details.metaData.relatedDegree.split("|").slice(0,-1).join(", ")+" and "+e.details.metaData.relatedDegree.split("|").slice(-1)):Object(R.a)(e.details.metaData.relatedDegree.split("|").join(" and ")))),c=e.details.metaData.status&&y.a.createElement("p",{className:"card__tag"},y.a.createElement("span",{className:"far fa-fw fa-hourglass icon","aria-hidden":"true"})," ",y.a.createElement("span",null,"Status:")," ",y.a.createElement("span",null,e.details.metaData.status," "),"Completed project"===e.details.metaData.status?y.a.createElement("span",{className:"far fa-fw fa-check-circle icon","aria-hidden":"true"}):null);return y.a.createElement("li",{className:"card card--research"},y.a.createElement("div",{className:"card__details"},y.a.createElement("div",{className:"card__details__text"},y.a.createElement("h3",{className:"card--research__title-link"},e.details.title),y.a.createElement("p",{className:"card__description"},e.details.metaData.c&&e.details.metaData.c),a,t,n,s,l,r,c)))}function f(e){switch(e.type){case"accommodation":return y.a.createElement(D,{details:e.details});case"casestudy":return y.a.createElement(v,{details:e.details});case"centre":return y.a.createElement(w,{details:e.details,query:e.query});case"contact":return y.a.createElement(j,{details:e.details,query:e.query});case"course":return y.a.createElement(k,{details:e.details,query:e.query});case"event":return y.a.createElement(O,{details:e.details});case"funding":return y.a.createElement(S,{details:e.details,query:e.query});case"module":return y.a.createElement(T,{details:e.details,query:e.query});case"news":return y.a.createElement(C,{details:e.details});case"profile":return y.a.createElement(M,{details:e.details,query:e.query});case"research":return y.a.createElement(U,{details:e.details,query:e.query});default:return y.a.createElement(x,{details:e.details})}}var h=Math.floor,E=(t(15),t(3),t(0)),y=t.n(E),g=t(1),b=t.n(g),N=t(2);n.propTypes={details:b.a.object};var D=n;l.propTypes={details:b.a.object};var v=l;r.propTypes={details:b.a.object,query:b.a.object};var w=r;s.propTypes={details:b.a.object};var j=s,q=(t(30),(e,a)=>a?e:y.a.createElement(y.a.Fragment,null,e.split(a).reduce((e,t,n)=>n?e.concat(y.a.createElement("span",{className:"highlightText",key:a+t},a),t):[t],[])));c.propTypes={details:b.a.object,query:b.a.object};var k=c;i.propTypes={details:b.a.object};var O=i;o.propTypes={details:b.a.object,query:b.a.object};var S=o;m.propTypes={details:b.a.object};var x=m;d.propTypes={details:b.a.object,query:b.a.object};var T=d;u.propTypes={details:b.a.object};var C=u;p.propTypes={details:b.a.object,query:b.a.object};var M=p,R=t(9);_.propTypes={details:b.a.object};var U=_;f.propTypes={details:b.a.object,query:b.a.object,type:b.a.string},a.a=f},54:function(e,a,t){"use strict";function n(e){var a=Math.ceil;const t=a(e.totalMatching/e.numRanks),n=a(e.currStart/e.numRanks),l=[],s=a=>{const t=1+(a-1)*e.numRanks,n=e.query;n.startRank=t,n.misspelling=null,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)};l.push(r.a.createElement("button",{className:"pagination__controls__button--prev",key:"prev",type:"button",disabled:1===n,onClick:()=>{s(n-1)}},r.a.createElement("span",null,"Previous page")));for(let e=1;e<=t;e++){let a;switch(e-t){case 0:a="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:a="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:a="pagination__controls__element pagination__controls__button"}l.push(r.a.createElement("button",{"aria-current":e===n?"page":null,"aria-expanded":e===n,"aria-label":"Open page ".concat(e),className:a,"data-page":e,"data-proximity":Math.abs(e-n),disabled:e===n,key:e,type:"button",onClick:()=>{s(e)}},r.a.createElement("span",null,e))),1===e?l.push(r.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},r.a.createElement("span",null,"…"))):e===t-1&&l.push(r.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},r.a.createElement("span",null,"…")))}return l.push(r.a.createElement("button",{className:"pagination__controls__button--next",key:"next",type:"button",disabled:n===t,onClick:()=>{s(n+1)}},r.a.createElement("span",null,"Next page"))),r.a.createElement("div",{className:"pagination__wrapper"},r.a.createElement("nav",{className:"pagination__controls","data-pagecount":t},l))}var l=t(0),r=t.n(l),s=t(1),c=t.n(s);n.propTypes={currStart:c.a.number,query:c.a.object,numRanks:c.a.number,totalMatching:c.a.number,update:c.a.object},a.a=n},7:function(e,a,t){"use strict";function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a,t=1;t<arguments.length;t++)a=null==arguments[t]?{}:arguments[t],t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}));return e}function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a,t,n,r,s,c){const i={};a.forEach(e=>{i["meta_".concat(e.meta,"_sand")]=e.value});const o={};Object.keys(c).forEach(e=>o["meta_".concat(e,"_sand")]=c[e]);const d=m.a.CancelToken.source(),h={baseURL:_,cancelToken:d.token,httpsAgent:new u.a.Agent({keepAlive:!0}),url:f,timeout:y,params:l(l(l({},i),o),{},{collection:e,num_ranks:s,query:t,sort:n||"",start_rank:r})};return[Object(p.b)(h),d]}function c(e,a){const t=m.a.CancelToken.source(),n={baseURL:_,cancelToken:t.token,url:h,timeout:y,params:{collection:e,partial_query:a,show:E}};return[Object(p.b)(n),t]}function i(e){return Object(p.b)({timeout:y,url:e})}t.d(a,"a",(function(){return s})),t.d(a,"c",(function(){return c})),t.d(a,"b",(function(){return i}));var o=t(8),m=t.n(o),d=t(41),u=t.n(d),p=t(2);const _="https://www.city.ac.uk/web-services",f="/funnelback-find",h="/funnelback-suggest",E=100,y=3e4},79:function(){},80:function(){}});