!function(e){function a(a){for(var l,r,c=a[0],i=a[1],d=a[2],m=0,u=[];m<c.length;m++)r=c[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);for(o&&o(a);u.length;)u.shift()();return n.push.apply(n,d||[]),t()}function t(){for(var e,a=0;a<n.length;a++){for(var t=n[a],l=!0,c=1;c<t.length;c++){var i=t[c];0!==s[i]&&(l=!1)}l&&(n.splice(a--,1),e=r(r.s=t[0]))}return e}var l={},s={10:0},n=[];function r(a){if(l[a])return l[a].exports;var t=l[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=l,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)r.d(t,l,function(a){return e[a]}.bind(null,l));return t},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var d=0;d<c.length;d++)a(c[d]);var o=i;n.push([116,2,1,0,3]),t()}({10:function(e,a,t){"use strict";var l=t(0),s=t.n(l),n=t(1),r=t.n(n),c=t(2);function i(e){const a=e=>Math.floor(e/60)>0?Math.floor(e/60)+" hour "+e%60:e,t=e.details.listMetadata.thumbnail[0]&&s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),l=e.details.listMetadata.level&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Level:")," ",s.a.createElement("span",null,Object(c.r)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),n=Object.keys(e.details.listMetadata).filter(a=>["accessible","catered","ensuite"].includes(a)&&"Yes"===e.details.listMetadata[a][0]).map(e=>e.replace(/ensuite/,"en suite")).sort().join(", "),r=e.details.listMetadata.type&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Type:")," ",s.a.createElement("span",null,e.details.listMetadata.type.length>2?Object(c.r)(e.details.listMetadata.type.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.r)(e.details.listMetadata.type.join("|")).split("|").slice(-1):Object(c.r)(e.details.listMetadata.type.join("|")).split("|").join(" or "),n&&" ("+n+")")),i=e.details.listMetadata.price&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Price:")," ",s.a.createElement("span",null,e.details.listMetadata.price[0]," (",e.details.listMetadata.deposit[0]," deposit)")),d=e.details.listMetadata.transport&&s.a.createElement(s.a.Fragment,null," ","(",a(e.details.listMetadata.transport[0])," minutes by public transport)"),o=e.details.listMetadata.walk&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:")," ",s.a.createElement("span",null,a(e.details.listMetadata.walk[0])," minutes walk to campus",d));return s.a.createElement("li",{className:"card card--accommodation"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},t,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),o,r,i,l)))}i.propTypes={details:r.a.object};var d=i;function o(e){const a=e.details.listMetadata.status?s.a.createElement("p",{className:"card__type"},e.details.listMetadata.status[0]):e.details.listMetadata.type&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),t=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),l=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.listMetadata.centre&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Research centre:")," ",s.a.createElement("span",null,e.details.listMetadata.centre.length>2?e.details.listMetadata.centre.slice(0,-1).join(", ")+", and "+e.details.listMetadata.centre.slice(-1):e.details.listMetadata.centre.join(", and ")));return s.a.createElement("li",{className:"card card--casestudy"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),a,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),t,l,n)))}o.propTypes={details:r.a.object};var m=o;function u(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),l=e.details.listMetadata.related&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.related.length>2?Object(c.r)(e.details.listMetadata.related.join("|")).split("|").slice(0,-1).join(", ")+" and "+Object(c.r)(e.details.listMetadata.related.join("|")).split("|").slice(-1):Object(c.r)(e.details.listMetadata.related.join("|")).split("|").join(" and "));return s.a.createElement("li",{className:"card card--centre"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),l,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t)))}u.propTypes={details:r.a.object,query:r.a.object};var p=u;function _(e){const a=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),t=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",e.details.listMetadata.school[0]),l=e.details.listMetadata.jobtitle&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle[0]),n=e.details.listMetadata.email&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Email:")," ",s.a.createElement("a",{href:"mailto:"+e.details.listMetadata.email[0]},e.details.listMetadata.email[0])),r=e.details.listMetadata.altemail&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fad fa-user icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Executive Assistant:")," ",s.a.createElement("a",{href:"mailto:"+e.details.listMetadata.altemail[0]},e.details.listMetadata.altemail[0])),c=e.details.listMetadata.telephone&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Telephone:")," ",s.a.createElement("a",{href:"tel:"+e.details.listMetadata.telephone[0]},e.details.listMetadata.friendlytelephone[0])),i=e.details.listMetadata.room&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Room:")," ",e.details.listMetadata.room[0]),d=e.details.listMetadata.enquiryurl&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-edit icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Enquiries:")," ",s.a.createElement("a",{href:e.details.listMetadata.enquiryurl[0]},e.details.listMetadata.enquirylabel[0]));return s.a.createElement("li",{className:"card card--contact"},s.a.createElement("div",{className:"card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),l,t,a,i,n,c,d,r)))}_.propTypes={details:r.a.object};var h=_,f=(e,a)=>a?e:s.a.createElement(s.a.Fragment,null,e.split(a).reduce((e,t,l)=>l?e.concat(s.a.createElement("span",{className:"highlightText",key:a+t},a),t):[t],[]));function E(e){const a=e.details.listMetadata.type&&e.details.listMetadata.type[0]||e.details.listMetadata.level&&e.details.listMetadata.level[0]||null,t=e.details.listMetadata.qualification&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Award",e.details.listMetadata.qualification.length>1&&"s",":")," ",s.a.createElement("span",null,e.details.listMetadata.qualification.join(", "))),l=e.details.listMetadata.duration&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Duration:")," ",s.a.createElement("span",null,e.details.listMetadata.duration[0])),n=e.details.listMetadata.method&&"Short courses and professional development"!==e.details.listMetadata.level[0]&&(e.query.facets&&e.query.facets.method||e.query.query.indexOf(e.details.listMetadata.method[0])>=0||e.details.listMetadata.method[0].indexOf("Online")>=0)&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-book-reader icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Method",e.details.listMetadata.method.length>1&&"s"," of study:")," ",s.a.createElement("span",null,Object(c.r)(Array.from(new Set(e.details.listMetadata.method)).join("|")).split("|").join(", "))),r=e.details.listMetadata.location&&e.query.facets&&e.query.facets.location&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Location:")," ",s.a.createElement("span",null,"Online|Online"===e.details.listMetadata.location.join("|")?"Online":e.details.listMetadata.location.join(", "))),i=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.map((e,a)=>0===a?s.a.createElement(s.a.Fragment,{key:a},e.replace("and","&")):s.a.createElement(s.a.Fragment,{key:a},"| ",e)))),d=e.details.listMetadata.clearing&&["Yes","yes"].includes(e.details.listMetadata.clearing[0])&&s.a.createElement("div",{className:"card__label card--course__label--clearing"},s.a.createElement("p",{className:"card__label card--course__label--clearing"},"Clearing")),o=e.details.indexUrl.indexOf("bayes.city.ac.uk")>=0&&s.a.createElement(s.a.Fragment,null," ",s.a.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"})),m=e.details.listMetadata.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some(a=>e.details.listMetadata.level.indexOf(a)>=0)||e.query.query.indexOf(e.details.listMetadata.code)>=0)?s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Course code",e.details.listMetadata.code.length>1&&"s",":")," ",s.a.createElement("span",null,e.details.listMetadata.code.join("/"))):null,u=e.details.listMetadata.entryyears&&(["Undergraduate degree"].some(a=>e.details.listMetadata.level.indexOf(a)>=0)||e.query.query.indexOf(e.details.listMetadata.entryyears)>=0)?s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-calendar icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Year",e.details.listMetadata.entryyears.length>1&&"s"," ","of entry:")," ",s.a.createElement("span",null,e.details.listMetadata.entryyears.join("/"))):null;return s.a.createElement("li",{className:"card card--course"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"wrapper--card__label__details"},d,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.query.query?f(e.details.title,e.query.query):e.details.title,o),s.a.createElement("p",{className:"card__type"},e.query.query?f(a,e.query.query):a&&a),s.a.createElement("p",{className:"card__description"},e.query.query?f(e.details.listMetadata.c[0],e.query.query):e.details.listMetadata.c&&e.details.listMetadata.c[0]),i,t,l,m,u,n,r))))}E.propTypes={details:r.a.object,query:r.a.object};var y=E;function g(e){const a=e.details.listMetadata.d&&function(e){const a=new Date(e),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getUTCMonth()];return s.a.createElement("p",{className:"card--event__label--shortdate"},s.a.createElement("span",null,a.getUTCDate())," ",t)}(e.details.listMetadata.d[0]),t=e.details.listMetadata.location&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw icon fa-map-marker-alt","aria-hidden":"true"})," ",s.a.createElement("span",null,"Location:")," ",s.a.createElement("span",null,e.details.listMetadata.location.join(", "))),l=e.details.listMetadata.audience&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw icon fa-users","aria-hidden":"true"})," ",s.a.createElement("span",null,"Audience:")," ",s.a.createElement("span",null,Array.from(new Set(e.details.listMetadata.audience)).join("|").split("|").join("; "))),n=e.details.listMetadata.thumbnail&&s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),r=function(e,a,t){const l=new Date(e),n=new Date(a),r=new Date(l.setUTCHours(0,0,0)),i=new Date(n.setUTCHours(0,0,0)),d=t?s.a.createElement(s.a.Fragment,null,", ",Object(c.g)(e)," - ",Object(c.g)(a)):null;return r.getTime()===i.getTime()?s.a.createElement("p",{className:"card__type true"},Object(c.f)(l),d):s.a.createElement("p",{className:"card__type false"},Object(c.f)(l)," - ",Object(c.f)(n),d)}(e.details.listMetadata.d&&e.details.listMetadata.d[0],e.details.listMetadata.d&&e.details.listMetadata.d[1],parseInt(e.details.listMetadata.displayTime[0]));return s.a.createElement("li",{className:"card card--event card--landscape"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},n,a,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),r,t,l)))}g.propTypes={details:r.a.object};var b=g;function N(e){const a=e.details.listMetadata.school&&e.query.facets&&e.query.facets.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", or "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", or "))),t=e.details.listMetadata.hardship&&"1"===e.details.listMetadata.hardship[0]&&s.a.createElement("div",{className:"card--funding__label--hardship"},s.a.createElement("p",null,"Hardship funding")),l=e.details.listMetadata.programme&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",s.a.createElement("span",null,e.details.listMetadata.level.length>2?Object(c.r)(e.details.listMetadata.level.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.r)(e.details.listMetadata.level.join("|")).split("|").slice(-1):Object(c.r)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),n=e.details.listMetadata.level&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Programme level:")," ",s.a.createElement("span",null,e.details.listMetadata.level.length>2?Object(c.r)(e.details.listMetadata.level.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.r)(e.details.listMetadata.level.join("|")).split("|").slice(-1):Object(c.r)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),r=e.details.listMetadata.feestatus&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Fee status:")," ",s.a.createElement("span",null,e.details.listMetadata.feestatus.length>2?e.details.listMetadata.feestatus.slice(0,-1).join(", ")+" or "+e.details.listMetadata.feestatus.slice(-1):e.details.listMetadata.feestatus.join(" or ")));return s.a.createElement("li",{className:"card card--funding"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},t,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title.replace("&amp;","&")),s.a.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),n,l,r,a)))}N.propTypes={details:r.a.object,query:r.a.object};var M=N;function v(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),l=e.details.title&&s.a.createElement("h3",{className:"card__heading"},e.details.title.indexOf("School")>=0?e.details.title.replace("&amp;","&"):e.details.title);return s.a.createElement("li",{className:"card card--generic"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},l,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t)))}v.propTypes={details:r.a.object};var w=v;function j(e){const a=e.details.listMetadata.location&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Location:")," ",s.a.createElement("span",null,e.details.listMetadata.location[0])),t=e.details.listMetadata.code?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"card--module__code"},e.details.listMetadata.code[0])," ",s.a.createElement("span",null,e.details.title)):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,e.details.title)),l=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),n=e.details.listMetadata.term&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Semester:")," ",s.a.createElement("span",null,e.details.listMetadata.term.length>2?"All year":e.details.listMetadata.term.join(" or "))),r=e.details.listMetadata.related&&s.a.createElement("p",{className:"card__type"},e.details.listMetadata.related.sort().map((e,a)=>a>0?e.toLowerCase():e).join(", ")),c=e.details.listMetadata.specification&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",s.a.createElement("a",{href:e.details.listMetadata.specification[0]},"Download module specification"));return s.a.createElement("li",{className:"card card--module"},s.a.createElement("div",{className:"card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},t),r,s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),n,l,a,c)))}j.propTypes={details:r.a.object,query:r.a.object};var q=j;function k(e){const a=Object(c.f)(new Date(e.details.listMetadata.d[0])),t=e.details.listMetadata.d&&s.a.createElement("p",{className:"card__type"},a),l=e.details.listMetadata.hashtagtext&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Hashtag",e.details.listMetadata.hashtagtext.length>1&&"s",":")," ",s.a.createElement("span",null,e.details.listMetadata.hashtagtext.join(", "))),n=e.details.listMetadata.thumbnailTiny&&e.details.listMetadata.thumbnailTiny[0]&&e.details.listMetadata.thumbnailMax&&e.details.listMetadata.thumbnailMax[0]&&e.details.listMetadata.thumbnailMobile&&e.details.listMetadata.thumbnailMobile[0]?s.a.createElement("picture",null,s.a.createElement("source",{srcSet:e.details.listMetadata.thumbnailTiny[0],media:"(max-width: 375px)"}),s.a.createElement("source",{srcSet:e.details.listMetadata.thumbnailMax[0],media:"(min-width: 3840px)"}),s.a.createElement("img",{src:e.details.listMetadata.thumbnailMobile[0],alt:e.details.title})):e.details.listMetadata.thumbnail?s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}):null;return s.a.createElement("li",{className:"card card--news"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},n,s.a.createElement("div",{className:"card__details__text"},t,s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),l)))}k.propTypes={details:r.a.object};var O=k;function S(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",e.details.listMetadata.school[0].replace("and","&")),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),l=e.details.listMetadata.thumbnail&&s.a.createElement("div",{className:"card__thumbnail"},s.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"Photo of "+e.details.title})),n=e.details.listMetadata.ediAmbassador&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-people-roof icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"EDI Ambassador")),r=e.details.listMetadata.thumbnail&&"card--profile--thumbnailAvailable",c=e.query.facets&&e.query.facets.country&&e.details.listMetadata.country&&s.a.createElement("div",{className:"card__tag"},s.a.createElement("span",{className:"fad fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Country:")," ",e.details.listMetadata.country.length>2?e.details.listMetadata.country.slice(0,-1).join(", ")+" and "+e.details.listMetadata.country.slice(-1):e.details.listMetadata.country.join(" and "));return s.a.createElement("li",{className:"card card--profile"},s.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details "+r},l,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.details.title),s.a.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle&&e.details.listMetadata.jobtitle[0]),a,t,c,n)))}S.propTypes={details:r.a.object,query:r.a.object};var x=S,C=t(6);function T(e){const a=e.details.listMetadata.school&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"School:")," ",s.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+" and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(" and "))),t=e.details.listMetadata.department&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Department:")," ",s.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+" and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(" and "))),l=e.details.listMetadata.researchCentre&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",e.details.listMetadata.researchCentre.length>1?s.a.createElement("span",null,"Research centres: "):s.a.createElement("span",null,"Research centre: "),s.a.createElement("span",null,e.details.listMetadata.researchCentre.length>2?Object(C.a)(e.details.listMetadata.researchCentre.slice(0,-1).join(", ")+" and "+e.details.listMetadata.researchCentre.slice(-1)):Object(C.a)(e.details.listMetadata.researchCentre.join(" and ")))),n=e.details.listMetadata.academic&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-chalkboard-teacher icon","aria-hidden":"true"})," ",e.details.listMetadata.academic.length>1?s.a.createElement("span",null,"Academics: "):s.a.createElement("span",null,"Academic: "),s.a.createElement("span",null,e.details.listMetadata.academic.length>2?Object(C.a)(e.details.listMetadata.academic.slice(0,-1).join(", ")+" and "+e.details.listMetadata.academic.slice(-1)):Object(C.a)(e.details.listMetadata.academic.join(" and ")))),r=e.details.listMetadata.student&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"fas fa-fw fa-users icon","aria-hidden":"true"})," ",e.details.listMetadata.student.length>1?s.a.createElement("span",null,"Students: "):s.a.createElement("span",null,"Student: "),s.a.createElement("span",null,e.details.listMetadata.student.length>2?Object(C.a)(e.details.listMetadata.student.slice(0,-1).join(", ")+" and "+e.details.listMetadata.student.slice(-1)):Object(C.a)(e.details.listMetadata.student.join(" and ")))),c=e.details.listMetadata.relatedDegree&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-diploma icon","aria-hidden":"true"})," ",e.details.listMetadata.relatedDegree.length>1?s.a.createElement("span",null,"Related degrees: "):s.a.createElement("span",null,"Related degree: "),s.a.createElement("span",null,e.details.listMetadata.relatedDegree.length>2?Object(C.a)(e.details.listMetadata.relatedDegree.slice(0,-1).join(", ")+" and "+e.details.listMetadata.relatedDegree.slice(-1)):Object(C.a)(e.details.listMetadata.relatedDegree.join(" and ")))),i=e.details.listMetadata.status&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-hourglass icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Status:")," ",s.a.createElement("span",null,e.details.listMetadata.status[0]," "),"Completed project"===e.details.listMetadata.status[0]?s.a.createElement("span",{className:"far fa-fw fa-check-circle icon","aria-hidden":"true"}):null),d=e.details.listMetadata.site&&s.a.createElement("p",{className:"card__tag"},s.a.createElement("span",{className:"far fa-fw fa-globe icon","aria-hidden":"true"})," ",s.a.createElement("span",null,s.a.createElement("a",{href:e.details.listMetadata.site},"View case study site")));return s.a.createElement("li",{className:"card card--research"},s.a.createElement("div",{className:"card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card--research__title-link"},e.details.title),s.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t,l,c,n,r,i,d)))}T.propTypes={details:r.a.object};var R=T;function D(e){switch(e.type){case"accommodation":return s.a.createElement(d,{details:e.details});case"casestudy":return s.a.createElement(m,{details:e.details});case"centre":return s.a.createElement(p,{details:e.details,query:e.query});case"contact":return s.a.createElement(h,{details:e.details,query:e.query});case"course":return s.a.createElement(y,{details:e.details,query:e.query});case"event":return s.a.createElement(b,{details:e.details});case"funding":return s.a.createElement(M,{details:e.details,query:e.query});case"module":return s.a.createElement(q,{details:e.details,query:e.query});case"news":return s.a.createElement(O,{details:e.details});case"profile":return s.a.createElement(x,{details:e.details,query:e.query});case"research":return s.a.createElement(R,{details:e.details,query:e.query});default:return s.a.createElement(w,{details:e.details})}}D.propTypes={details:r.a.object,query:r.a.object,type:r.a.string},a.a=D},116:function(e,a,t){e.exports=t(123)},123:function(e,a,t){"use strict";t.r(a);var l=t(0),s=t.n(l),n=t(12),r=t(3),c=t(2),i=t(1),d=t.n(i);function o(e){return s.a.createElement("div",{className:"wrapper--search__bestbets"},s.a.createElement("div",{className:"search__bestbets"},s.a.createElement("h2",{className:"search__bestbets__heading sr-only"},"Best bets"),s.a.createElement("ul",{className:"search__bestbets__list"},e.bestbets.slice(0,3).map((e,a)=>s.a.createElement("li",{className:"card--search card--bestbet",key:"bestBet"+a},s.a.createElement("a",{href:e.liveUrl,className:"card__anchor card__details"},s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h3",{className:"card__heading"},e.titleHtml),s.a.createElement("p",{className:"card__description"},e.descriptionHtml),s.a.createElement("p",{className:"card__url"},e.displayUrl))))))))}o.propTypes={bestbets:d.a.arrayOf(d.a.object)};var m=o;function u(e){return s.a.createElement("div",{className:"wrapper--search__othersites"},s.a.createElement("div",{className:"search__othersites"},s.a.createElement("h2",{className:"search__othersites__heading"},"Results on other City sites"),e.collections.map((a,t)=>!a.updating&&a.response&&a.response.summary.totalMatching>0?s.a.createElement("div",{className:"search__othersites__site",key:"site"+t},s.a.createElement("h3",{className:"search__othersites__site__heading"},s.a.createElement("a",{href:a.search+"?query="+e.query.query},a.label," (",a.response.summary.totalMatching,")")," ",s.a.createElement("span",{className:"fas fa-sharp fa-arrow-right icon","aria-hidden":"true"})),s.a.createElement("div",{className:"search__results"},s.a.createElement("ul",{className:"search__results__list"},a.response.results.slice(0,0).map((e,t)=>function(e,a,t){const l=e.listMetadata.thumbnail&&s.a.createElement("div",{className:"card__thumbnail"},s.a.createElement("picture",null,s.a.createElement("img",{src:e.listMetadata.thumbnail[0],alt:""}))),n=e.liveUrl.indexOf("city.ac.uk")<0&&s.a.createElement(s.a.Fragment,null," ",s.a.createElement("span",{className:"fas fa-sharp external-link icon","aria-label":"(external link)"}));return s.a.createElement("li",{className:"card--search",key:a+t},s.a.createElement("a",{href:e.liveUrl,className:"card__details card__anchor"},l,s.a.createElement("div",{className:"card__details__text"},s.a.createElement("h4",{className:"card__heading"},e.title,n),s.a.createElement("p",{className:"card__description"},e.listMetadata.c&&e.listMetadata.c[0]))))}(e,a.collection,t))))):null),e.nonpublic.map((a,t)=>!a.updating&&a.response&&a.response.summary.totalMatching>0?s.a.createElement("div",{className:"search__othersites__site",key:"site"+t},s.a.createElement("h3",{className:"search__othersites__site__heading"},s.a.createElement("a",{href:a.search+"?query="+e.query.query},a.label," (",a.response.summary.totalMatching,")")," ",s.a.createElement("span",{className:"far fa-sharp fa-lock-alt icon","aria-label":"Login required"}))):null),s.a.createElement("div",{className:"search__othersites__noresults"},s.a.createElement("p",null,"No results found."))))}u.propTypes={query:d.a.object,collections:d.a.arrayOf(d.a.object),nonpublic:d.a.arrayOf(d.a.object)};var p=u;function _(e){return s.a.createElement("button",{className:"search__clear",type:"button",onClick:()=>{e.clear()}},s.a.createElement("span",{className:"fad fa-sharp fa-fw fa-times-circle icon"}),s.a.createElement("span",{className:"search__clear__text"},"Clear query"))}_.propTypes={clear:d.a.func};var h=_;function f(e){const a=e.query.collection||e.config.primary[0].collection;return s.a.createElement("div",{className:"search__filter search__select "+(a!==e.config.primary.collections[0].collection&&"search__select--selected")},s.a.createElement("label",{htmlFor:"search__collection"},e.config.primary.collections[0].label),s.a.createElement("select",{name:"collection",id:"search__collection",onChange:a=>(a=>{const t=e.query;t.startRank=1,t.misspelling=null,t.interacted=!0,t.collection=a,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value),value:a},e.config.primary.collections.map((e,a)=>s.a.createElement("option",{key:a,value:e.collection.toLowerCase()},e.label))))}f.propTypes={config:d.a.object,query:d.a.object,update:d.a.object};var E=f;const y="Escape",g="ArrowDown";function b(e){const[a,t]=Object(l.useState)(e.query.query),[n,c]=Object(l.useState)([]),[i,d]=Object(l.useState)({cancel:()=>{}}),[o]=Object(l.useState)("search--"+e.query.collection+"--"+Math.random().toString(16).slice(-4)),[m,u]=Object(l.useState)(!1),[p,_]=Object(l.useState)("");Object(l.useEffect)(()=>{t(e.query.query)},[e.query.query,e.updating]);let f=null;function b(){f.focus()}const N=()=>{i.cancel(),t(""),c([]),b();const a=e.query;a.misspelling=null,a.query="",a.sortType="",a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)},M=t=>{i.cancel(),c([]);const l=e.query;l.misspelling=null,l.query=t||a||"",l.sortType="",l.startRank=1,l.interacted=!0,e.update.query(l),e.update.results(!e.update.updateState)},v=a&&s.a.createElement(h,{clear:()=>{N()}}),w=e=>{u(!1),c([]),b(),M(e)},j=n&&n.length>0&&s.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":p,className:m?"search__query__suggestions show":"search__query__suggestions hide"},[...new Set(n)].slice(0,5).map((e,t)=>s.a.createElement("li",{key:e,role:"option",id:o+"--"+t},s.a.createElement("button",{type:"button",onBlur:()=>{_(""),u(!1)},onFocus:()=>u(!0),onMouseDown:()=>w(e),onClick:()=>w(e),onKeyDown:e=>{switch(e.key){case y:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),c([]),_("");break;case"ArrowUp":e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),_(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),_(""));break;case g:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),_(e.target.parentNode.nextElementSibling.id));break;case"Home":e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),_(e.target.parentNode.firstChild.id));break;case"End":e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),_(e.target.parentNode.lastChild.id))}}},function(e,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("span",{className:"sr-only"},e),s.a.createElement("span",{"aria-hidden":"true"},s.a.createElement("span",{className:"search__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(e,a))))),q=s.a.createElement("div",{className:"search__query__input"},s.a.createElement("div",{className:"search__query__icon--wrapper"},s.a.createElement("span",{className:"search__icon fal fa-sharp fa-search icon","aria-hidden":"true"})),s.a.createElement("label",{className:"sr-only",htmlFor:o},"Search"),s.a.createElement("input",{autoComplete:"off",id:o,name:"query",placeholder:e.primary[0].placeholder,ref:e=>{f=e},type:"text",value:a,onKeyDown:e=>{switch(e.key){case y:N();break;case g:n&&n.length>0&&(e.preventDefault(),e.target.parentNode.querySelector(".search__query__suggestions button").focus(),_(e.target.parentNode.querySelector(".search__query__suggestions li").id))}},onFocus:()=>u(!0),onBlur:()=>u(!1),onChange:a=>{if(c([]),t(a.target.value),i.cancel(),a.target.value){const[t,l]=Object(r.c)(e.query.collection,a.target.value);d({cancel:()=>{l.cancel()}}),t.then(e=>c(e)).catch(()=>c([]))}else c([])}}),j,v),k=s.a.createElement(E,{config:e.config,query:e.query,update:e.update});return s.a.createElement("fieldset",{className:"search-form__query"},s.a.createElement("div",{className:"wrapper--search-form__query__fields"},k,s.a.createElement("div",{className:"wrapper--search-form__query__fields__input"},q,s.a.createElement("button",{type:"submit",className:"search__query__submit",onClick:()=>M()},s.a.createElement("span",{className:"fal fa-sharp fa-search search__query__submit__icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"search__query__submit__text"},"Search")))))}b.propTypes={config:d.a.object,query:d.a.object,update:d.a.object,primary:d.a.arrayOf(d.a.object),updating:d.a.bool};var N=b,M=t(5),v=t.n(M);function w(e){return s.a.createElement("li",{className:"cta-block__cta"},s.a.createElement("a",{className:"outline-cta--bright-square",href:"https://www.city.ac.uk/about/people/"+e.path+"?query="+e.query},e.type.charAt(0).toUpperCase()+e.type.slice(1)))}w.propTypes={query:d.a.string,type:d.a.string,path:d.a.string};var j=w,q=t(10),k=t(19),O=[{type:"academics",path:"academics",fbRef:"academic"},{type:"students",path:"students",fbRef:"student"},{type:"research students",path:"research-students",fbRef:"research"},{type:"honorary graduates",path:"honorary-graduates",fbRef:"honorary"},{type:"past students",path:"past-students",fbRef:"alumni"},{type:"professional services staff",path:"professional-services-staff",fbRef:"professional"},{type:"international",path:"international",fbRef:"agent"}];function S(e,a,t){const l=a&&s.a.createElement("p",{className:"card__label"},a),n=e.liveUrl.indexOf("city.ac.uk")<0&&s.a.createElement(s.a.Fragment,null," ",s.a.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"}));return s.a.createElement("li",{className:"card--search",key:"all"+t},s.a.createElement("a",{href:e.liveUrl,className:"card__details card__anchor"},s.a.createElement("div",{className:"card__details__text"},l,s.a.createElement("h3",{className:"card__heading"},e.title,n),s.a.createElement("p",{className:"card__description"},e.listMetadata.c&&e.listMetadata.c[0]),s.a.createElement("p",{className:"card__url"},e.liveUrl))))}function x(e){const a=[],t=e.finders.filter(e=>"People"===e.label&&e.response);if(JSON.stringify(t).indexOf("allValues")>-1){let e=t[0].response.facets[0].allValues;for(const t of e)a.push(t.data)}const[n,r]=Object(l.useState)(0),c=e=>s.a.createElement("p",{className:"search__results__updating","aria-live":"polite"},s.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Updating ",e,"…")),i=s.a.createElement("ul",{className:"tabs__links",role:"tablist"},s.a.createElement("li",{key:"tabs__links__primary"},s.a.createElement("button",{role:"tab",id:"link--search443531__tabs__"+e.primary[0].collection,title:e.primary[0].label,"aria-selected":0===n,"aria-current":0===n,onClick:()=>r(0)},s.a.createElement("span",null,e.primary[0].label," (",e.primary[0].updating?s.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-label":"Updating…"}):e.primary[0].response&&e.primary[0].response.summary.totalMatching,")"))),e.finders.map((e,a)=>s.a.createElement("li",{key:"tabs__links__finder"+a,role:"presentation"},s.a.createElement("button",{id:"link--search443531__tabs__"+e.collection,title:e.label,"aria-selected":n===a+1,"aria-current":n===a+1,onClick:()=>r(a+1)},s.a.createElement("span",null,e.label," (",e.updating||!e.response?s.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-label":"Updating…"}):e.response.summary.totalMatching,")"))))),d=e.primary[0].response&&e.primary[0].response.summary.totalMatching>e.primary[0].response.summary.numRanks&&s.a.createElement(k.a,{currStart:e.primary[0].response.summary.currStart,numRanks:e.primary[0].response.summary.numRanks,query:e.query,totalMatching:e.primary[0].response.summary.totalMatching,update:e.update}),o=e.primary[0]&&e.primary[0].response&&e.primary[0].response.spell&&s.a.createElement("p",null,"Did you mean"," ",s.a.createElement("a",{href:"search?"+e.primary[0].response.spell.url},e.primary[0].response.spell.text),"?"),m=s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"tabs__panel",id:"search443531__tabs__"+e.primary[0].collection,"aria-labelledby":"link--search443531__tabs__"+e.primary[0].collection,key:"primary",role:"tabpanel",tabIndex:"-1",hidden:0!==n},s.a.createElement("h2",{className:"tabs__panel__heading sr-only"},e.primary[0].label),s.a.createElement("div",{className:"tabs__panel__body"},e.primary[0].updating?c("results"):e.primary[0].response&&e.primary[0].response.summary.totalMatching>0?s.a.createElement("div",{className:"search__results"},s.a.createElement("div",{className:"search__results__summary"},s.a.createElement("h3",{"aria-live":"polite",className:"search__results__summary__heading"},s.a.createElement("span",null,"(showing"," ",s.a.createElement("span",null,e.primary[0].response.summary.currStart),"–",s.a.createElement("span",null,e.primary[0].response.summary.currEnd)," ","of"," ",s.a.createElement("span",null,e.primary[0].response.summary.totalMatching)," ",0===e.primary[0].response.summary.totalMatching?"results":1===e.primary[0].response.summary.totalMatching?"result":"results",")"))),s.a.createElement("ol",{className:"search__results__list",start:e.primary[0].response.summary.currStart},e.primary[0].response.results.map((e,a)=>{switch(e.collection){case"web2020-residentialhalls":return S(e,"Residential hall",a);case"web2020-business-impact":case"web2020-research":return S(e,"Case study",a);case"web2020-centres":return S(e,"Research centre",a);case"web2020-courses":return S(e,"Course",a);case"web2020-events":return S(e,"Event",a);case"web2020-facilities":return S(e,"Facility",a);case"web2020-locations":return S(e,"Location",a);case"web2020-pathways":return S(e,"Career pathway",a);case"web2020-funding":return S(e,"Funding",a);case"web2020-news":return S(e,"News",a);case"web2020-profiles":return S(e,"Profile",a);default:return S(e,null,a)}})),d):s.a.createElement("div",{className:"search__results__summary search__results__summary--noresults"},s.a.createElement("h3",{className:"search__results__summary__heading"},"Your search did not match any results."),o,s.a.createElement("p",null,"Suggestions:"),s.a.createElement("ul",null,s.a.createElement("li",null,"Make sure that all words are spelled correctly"),s.a.createElement("li",null,"Try different keywords"),s.a.createElement("li",null,"Try more general keywords"),s.a.createElement("li",null,"Try fewer keywords"))))),e.finders.map((t,l)=>s.a.createElement("section",{className:"tabs__panel",id:"search443531__tabs__"+t.collection,"aria-labelledby":"link--search443531__tabs__"+t.collection,key:"finder"+l,role:"tabpanel",tabIndex:"-1",hidden:n!==l+1},s.a.createElement("h2",{className:"tabs__panel__heading sr-only"},t.label),s.a.createElement("div",{className:"tabs__panel__body"},t.updating||!t.response?c(t.summariseAs.plural):t.response.summary.totalMatching>0?s.a.createElement("div",{className:"search__results"},s.a.createElement("div",{className:"search__results__summary"},s.a.createElement("h3",{"aria-live":"polite",className:"search__results__summary__heading"},s.a.createElement("span",null,"(showing"," ",s.a.createElement("span",null,t.response&&t.response.summary.currStart),"–",s.a.createElement("span",null,t.response&&t.response.summary.currEnd)," ","of"," ",s.a.createElement("span",null,t.response&&t.response.summary.totalMatching)," ",t.response&&0===t.response.summary.totalMatching?t.summariseAs.plural:t.response&&1===t.response.summary.totalMatching?t.summariseAs.singular:t.summariseAs.plural,")"))),s.a.createElement("ol",{className:"search__results__list",start:t.response&&t.response.summary.currStart},t.response&&t.response.results.map((a,l)=>s.a.createElement(q.a,{bestBet:!1,details:a,key:t.collection+l,type:t.resultCard,query:e.query}))),t.response&&t.response.summary.totalMatching>t.response.summary.currEnd&&"people"!==t.summariseAs.plural&&t.search&&s.a.createElement("p",{className:"search__results__more"},s.a.createElement("a",{href:t.search+"?query="+e.query.query},"Browse more"," ",t.summariseAs.plural," ")," ",s.a.createElement("span",{className:"fas fa-sharp fa-arrow-right icon","aria-hidden":"true"})),t.response&&t.response.summary.totalMatching>t.response.summary.currEnd&&"people"===t.summariseAs.plural&&t.search&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"search__results__browse-more"},s.a.createElement("h3",null,"Browse more people"),s.a.createElement("ul",{className:"cta-block cta-block--inline"},O.map((e,l)=>{if(a.includes(e.fbRef))return s.a.createElement(j,{key:l,query:t.response.query,path:e.path,type:e.type})}))))):s.a.createElement("p",{className:"search__summary__noresults"},"No matching ",t.summariseAs.plural,"."," ",t.search&&s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:t.search},"Browse"," ",t.summariseAs.plural," ","instead")," ",s.a.createElement("span",{className:"fas fa-sharp fa-arrow-right icon","aria-hidden":"true"})))))));return s.a.createElement("div",{className:"tabs wrapper--search__results",onKeyDown:a=>function(a){switch(a.key){case"ArrowLeft":e.element.querySelector(`.tabs__links li:nth-child(${0!==n?n:1}) button`).focus(),0!==n&&r(n-1);break;case"ArrowRight":e.element.querySelector(`.tabs__links li:nth-child(${n!==e.finders.length?n+2:n+1}) button`).focus(),n!==e.finders.length&&r(n+1);break;case"ArrowUp":e.element.querySelector('.tabs__links button[aria-current="true"]').focus();break;case"ArrowDown":e.element.querySelector(".tabs__panel:not([hidden])").focus();break;case"Home":r(0);break;case"End":r(e.finders.length)}}(a)},i,m)}x.propTypes={config:d.a.object,element:d.a.object,finders:d.a.arrayOf(d.a.object),primary:d.a.arrayOf(d.a.object),query:d.a.object,update:d.a.object};var C=x;const T=Object(c.m)()?0:1e3;function R(e){const a=new URLSearchParams(window.location.search),t={collection:a.get("collection")||e.config.primary.collections[0].collection,interacted:!1,misspelling:null,numRanks:a.get("num_ranks")||e.config.primary.numRanks,query:a.get("query")||"",sortType:"",startRank:a.get("start_rank")||1},n=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),c={primary:e.config.primary.collections.map(e=>({label:e.label,collection:e.collection,placeholder:e.placeholder,response:n,search:e.search,updating:!1,call:{cancel:()=>{}}})),finders:e.config.finders.map(e=>({label:e.label,summariseAs:e.summariseAs,resultCard:e.resultCard,search:e.search,collection:e.collection,response:n,updating:!1,call:{cancel:()=>{}}})),nonpublic:e.config.nonpublic.map(e=>({label:e.label,collection:e.collection,response:n,search:e.search,updating:!1,call:{cancel:()=>{}}}))},[i,d]=Object(l.useState)(0),[o,u]=Object(l.useState)(t),[_,h]=Object(l.useState)(c),[f,E]=Object(l.useState)(!1);Object(l.useEffect)(()=>{!function(e,a,t,l){if(window){const s=new URLSearchParams(window.location.search);""!==e?s.set("query",e):s.delete("query"),1!==a?s.set("start_rank",a):s.delete("start_rank"),t!==l?s.set("collection",t):s.delete("collection");const n=s.toString().length?"?":"";window.history.replaceState({},"",`${window.location.pathname}${n}${s.toString()}`)}}(o.query,o.startRank,o.collection,e.config.primary.collections[0].collection),o.query.length>0?(o.interacted&&e.element.querySelector(".search__results")&&v.a.center(e.element.querySelector(".search__results"),T,-window.innerHeight/10),e.config.primary.collections.forEach((e,a)=>{_.primary[a].call.cancel();const[t,l]=Object(r.a)(e.collection,[],[],o.query,"",o.startRank,o.numRanks,[]),s=_;s.primary[a].call={cancel:()=>{l.cancel()}},s.primary[a].updating=!0,h(s),d(Math.random()),t.then(e=>{const t=_;t.primary[a].response=e,t.primary[a].updating=!1,h(t),d(Math.random())}).catch(()=>{const e=_;e.primary[a].response=n,e.primary[a].updating=!1,h(e),d(Math.random())})}),e.config.finders.forEach((a,t)=>{_.finders[t].call.cancel();const[l,s]=Object(r.a)(a.collection,[],[],o.query,"",1,a.numRanks,[]),c=_;c.finders[t].call={cancel:()=>{s.cancel()}},c.finders[t].updating=!0,h(c),d(Math.random()),l.then(e=>{const a=_;a.finders[t].response=e,a.finders[t].updating=!1,h(a),d(Math.random())}).then(()=>{e.element.querySelector(".tabs__links")&&o.interacted&&v.a.center(e.element.querySelector(".tabs__links"),T)}).catch(()=>{const e=_;e.finders[t].response=n,e.finders[t].updating=!1,h(e),d(Math.random())})}),e.config.nonpublic.forEach((e,a)=>{_.nonpublic[a].call.cancel();const[t,l]=Object(r.a)(e.collection,[],[],o.query,"",1,0,[]),s=_;s.nonpublic[a].call={cancel:()=>{l.cancel()}},s.nonpublic[a].updating=!0,h(s),d(Math.random()),t.then(e=>{const t=_;t.nonpublic[a].response=e,t.nonpublic[a].updating=!1,h(t),d(Math.random())}).catch(()=>{const e=_;e.nonpublic[a].response=n,e.nonpublic[a].updating=!1,h(e),d(Math.random())})})):h(c)},[f]);const y={query:e=>u(e),results:e=>E(e),updateState:f},g=s.a.createElement(N,{config:e.config,query:o,update:y,primary:_.primary.filter(e=>e.collection===o.collection),updating:_.primary[0].updating}),b=o.query&&!_.primary[0].updating&&s.a.createElement(p,{query:o,collections:_.primary.filter(e=>e.collection!==o.collection),nonpublic:_.nonpublic}),M=o.query&&!_.primary[0].updating&&_.primary[0].response&&_.primary[0].response.bestBets&&s.a.createElement(m,{bestbets:_.primary[0].response.bestBets}),w=o.query&&s.a.createElement(C,{config:e.config,query:o,update:y,primary:_.primary.filter(e=>e.collection===o.collection),finders:_.finders,element:e.element});return s.a.createElement("form",{className:"search-form",onSubmit:e=>{e.preventDefault()}},g,M,w,b)}R.propTypes={config:d.a.object,element:d.a.object};var D=R,U=t(8),A=t.n(U);function F(e){return s.a.createElement("button",{className:"search--inline__clear",type:"button",onClick:()=>{e.clear()}},s.a.createElement("span",{className:"fad fa-sharp fa-fw fa-times-circle icon "}),s.a.createElement("span",{className:"search--inline__clear__text"},"Clear query"))}F.propTypes={clear:d.a.func};var L=F;function P(e){const[a,t]=Object(l.useState)(e.query.query),[n]=Object(l.useState)("search--inline--"+e.query.collection+"--"+Math.random().toString(16).slice(-4));Object(l.useEffect)(()=>{t(e.query.query)},[e.query.query,e.updating]);let r=null;const c=()=>{t(""),r.focus();const a=e.query;a.query="",a.startRank=1,e.update.query(a),e.update.results(!e.update.updateState)},i=a&&s.a.createElement(L,{clear:()=>{c()}}),d=s.a.createElement("div",{className:"search--inline__query__input"},s.a.createElement("div",{className:"search--inline__query__icon--wrapper"},s.a.createElement("span",{className:"search--inline__icon fal fa-sharp fa-search icon","aria-hidden":"true"})),s.a.createElement("label",{className:"sr-only",htmlFor:n},"Search"),s.a.createElement("input",{autoComplete:"off",id:n,name:"query",placeholder:e.config.placeholder,ref:e=>{r=e},type:"text",required:!0,value:a,onKeyDown:e=>{"Escape"===e.key&&c()},onChange:a=>{t(a.target.value),(a=>{const t=e.query;t.query=a,t.startRank=1,e.update.query(t),e.update.results(!e.update.updateState)})(a.target.value)}}),i);return s.a.createElement("fieldset",{className:"search--inline__query"},s.a.createElement("div",null,d,s.a.createElement("button",{type:"submit",className:"search--inline__query__submit"},s.a.createElement("span",{className:"search--inline__query__submit__content"},s.a.createElement("span",{className:"fas fa-sharp fa-search search--inline__query__submit__icon","aria-hidden":"true"})," ",s.a.createElement("span",{className:"search--inline__query__submit__text"},"Search")))))}P.propTypes={config:d.a.object,query:d.a.object,update:d.a.object,updating:d.a.bool};var H=P;function B(e){return s.a.createElement("div",{className:"search--inline__suggestions"},s.a.createElement("h3",null,"Suggestions"),s.a.createElement("ul",null,e.suggestions.map((a,t)=>{const l=a.replace(/\s+/g,"+"),n=function(e,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("span",{className:"sr-only"},e),s.a.createElement("span",{"aria-hidden":"true"},s.a.createElement("span",{className:"search--inline__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(a,e.query.query);return s.a.createElement("li",{key:t},s.a.createElement("a",{href:"/search?query="+l},n))})))}B.propTypes={query:d.a.object,suggestions:d.a.arrayOf(d.a.string)};var I=B;function $(e,a){const t=e.listMetadata.thumbnail&&s.a.createElement("div",{className:"card__thumbnail"},s.a.createElement("picture",null,s.a.createElement("img",{src:e.listMetadata.thumbnail[0],alt:""}))),l=a&&s.a.createElement("p",{className:"card__label"},a),n=e.liveUrl.indexOf("city.ac.uk")<0&&s.a.createElement(s.a.Fragment,null," ",s.a.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"}));return s.a.createElement("li",{className:"card--search",key:e.docNum},s.a.createElement("a",{href:e.liveUrl,className:"card__details card__anchor"},t,s.a.createElement("div",{className:"card__details__text"},l,s.a.createElement("h4",{className:"card__heading"},e.title,n),s.a.createElement("p",{className:"card__description"},e.listMetadata.c&&e.listMetadata.c[0]),s.a.createElement("p",{className:"card__url"},e.liveUrl))))}function J(e){return s.a.createElement("div",{className:"search--inline__topresults"},s.a.createElement("h3",null,"Top results"),s.a.createElement("ul",null,e.results.map(e=>{switch(e.collection){case"web2020-residentialhalls":return $(e,"Residential hall");case"web2020-business-impact":case"web2020-research":return $(e,"Case study");case"web2020-centres":return $(e,"Research centre");case"web2020-courses":return $(e,"Course");case"web2020-events":return $(e,"Event");case"web2020-facilities":return $(e,"Facility");case"web2020-locations":return $(e,"Location");case"web2020-pathways":return $(e,"Career pathway");case"web2020-funding":return $(e,"Funding");case"web2020-news":return $(e,"News");case"web2020-profiles":return $(e,"Profile");default:return $(e,null)}})))}J.propTypes={query:d.a.object,results:d.a.arrayOf(d.a.object)};var Y=J;let K=null;const V=()=>K;function W(e){const[a,t]=Object(l.useState)(!1),[n,c]=Object(l.useState)({}),i={collection:e.config.collection,misspelling:null,numRanks:e.config.numRanks,query:"",startRank:1,facets:[],fixedFacets:[],fixedParameters:[]},d=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),o=[],[m,u]=Object(l.useState)(i),[p,_]=Object(l.useState)(d),[h,f]=Object(l.useState)(o),[E,y]=Object(l.useState)(!1),[g,b]=Object(l.useState)(!1),[N,M]=Object(l.useState)({cancel:()=>{}}),[v,w]=Object(l.useState)(!1),[j,q]=Object(l.useState)({cancel:()=>{}});Object(l.useEffect)(()=>{y(!0),b(!0),N.cancel(),j.cancel();const[e,a]=Object(r.a)(m.collection,m.fixedFacets,m.fixedParameters,m.query,m.sortType,m.startRank,m.numRanks,m.facets),[t,l]=Object(r.c)(m.collection,m.query);M({cancel:()=>{a.cancel()}}),q({cancel:()=>{l.cancel()}}),e.then(e=>{_(e),y(!1)}).catch(()=>{_(d)}),t.then(e=>{e&&(f(e),b(!1))}).catch(()=>{f(o)})},[v]);const k={query:e=>u(e),results:e=>w(e),updateState:v},O=e=>s.a.createElement("p",{className:"search--inline__results__updating search--inline__results__updating--"+e.replace(/ /g,""),"aria-live":"polite"},s.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-hidden":"true"})," ",s.a.createElement("span",null,"Updating ",e,"…"));Object(l.useEffect)(()=>{n.activate||c(A()(V(),{initialFocus:V().querySelector("input"),onDeactivate:()=>t(!1),clickOutsideDeactivates:!0})),a?n.activate&&n.activate():n.deactivate&&n.deactivate()},[a,n]);const S="global-header__search__icon far fa-sharp fa-fw "+(a?"fa-times":"fa-search"),x=a?"Close search":"Open search",C=a&&s.a.createElement("div",{className:"veil--search","data-on":"true"}),T=s.a.createElement("button",{className:"global-header__search__button",type:"button",id:"search","aria-expanded":a,"aria-label":x,onClick:()=>{t(!a)}},s.a.createElement("div",{className:"global-header__search__wrapper"},s.a.createElement("span",{className:"global-header__search__text"},a?"Close":"Search"),s.a.createElement("span",{className:S,"aria-hidden":"true"}))),R=s.a.createElement("button",{className:"global-header__search__button",type:"button",id:"modal-search","aria-expanded":a,onClick:()=>{t(!a)}},s.a.createElement("div",{className:"global-header__search__wrapper"},s.a.createElement("span",{className:"global-header__search__text"},a?"Close":"Search"),s.a.createElement("span",{className:S,"aria-hidden":"true"}))),D=s.a.createElement(H,{config:e.config,query:m,update:k,updating:E}),U=g?O("suggestions"):h&&h.length>0?s.a.createElement(I,{query:m,suggestions:h.slice(0,10)}):null,F=E?O("top results"):p&&p.results.length>0?s.a.createElement(Y,{query:m,results:p.results}):null;return s.a.createElement(s.a.Fragment,null,T,s.a.createElement("div",{className:"global-header__search__modal",ref:e=>K=e},s.a.createElement("div",{className:"global-header__search__modal__header"},s.a.createElement("div",{className:"header-logo header-logo--city"},s.a.createElement("div",{className:"header-logo__responsive"},s.a.createElement("a",{href:"https://city.ac.uk",rel:"home"},s.a.createElement("img",{className:"logo",src:"https://www.city.ac.uk/__data/assets/file/0006/442248/city-university-london-responsive-white.svg",width:"180",alt:"City, University of London"})))),R),s.a.createElement("div",{className:"global-header__search__modal__body"},s.a.createElement("h2",null,"What are you looking for?"),s.a.createElement("form",{action:"/search",method:"get"},D),s.a.createElement("div",{className:"global-header__search__modal__body__results"},U,F))),C)}W.propTypes={config:d.a.object,element:d.a.object};var z=W;document.addEventListener("DOMContentLoaded",()=>{if(!/(Trident|MSIE)/.test(navigator.userAgent)){const e=document.querySelector(".wrapper--search"),a=document.querySelector(".global-header__search");a&&Object(r.b)(a.dataset.config).then(e=>{Object(n.render)(s.a.createElement(z,{config:e,element:a}),a)}),e&&Object(r.b)(e.dataset.config).then(a=>{Object(n.render)(s.a.createElement(D,{config:a,element:e}),e)})}})},19:function(e,a,t){"use strict";var l=t(0),s=t.n(l),n=t(1),r=t.n(n);function c(e){const a=Math.ceil(e.totalMatching/e.numRanks),t=Math.ceil(e.currStart/e.numRanks),l=[],n=a=>{const t=1+(a-1)*e.numRanks,l=e.query;l.startRank=t,l.misspelling=null,l.interacted=!0,e.update.query(l),e.update.results(!e.update.updateState)};l.push(s.a.createElement("button",{className:"pagination__controls__button--prev",key:"prev",type:"button",disabled:1===t,onClick:()=>{n(t-1)}},s.a.createElement("span",null,"Previous page")));for(let e=1;e<=a;e++){let r;switch(e-a){case 0:r="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:r="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:r="pagination__controls__element pagination__controls__button"}l.push(s.a.createElement("button",{"aria-current":e===t?"page":null,"aria-expanded":e===t,"aria-label":"Open page "+e,className:r,"data-page":e,"data-proximity":Math.abs(e-t),disabled:e===t,key:e,type:"button",onClick:()=>{n(e)}},s.a.createElement("span",null,e))),1===e?l.push(s.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},s.a.createElement("span",null,"…"))):e===a-1&&l.push(s.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},s.a.createElement("span",null,"…")))}return l.push(s.a.createElement("button",{className:"pagination__controls__button--next",key:"next",type:"button",disabled:t===a,onClick:()=>{n(t+1)}},s.a.createElement("span",null,"Next page"))),s.a.createElement("div",{className:"pagination__wrapper"},s.a.createElement("nav",{className:"pagination__controls","data-pagecount":a},l))}c.propTypes={currStart:r.a.number,query:r.a.object,numRanks:r.a.number,totalMatching:r.a.number,update:r.a.object},a.a=c},2:function(e,a,t){"use strict";t.d(a,"q",(function(){return c})),t.d(a,"n",(function(){return i})),t.d(a,"m",(function(){return d})),t.d(a,"j",(function(){return o})),t.d(a,"s",(function(){return m})),t.d(a,"l",(function(){return u})),t.d(a,"k",(function(){return p})),t.d(a,"h",(function(){return _})),t.d(a,"a",(function(){return h})),t.d(a,"i",(function(){return f})),t.d(a,"p",(function(){return E})),t.d(a,"e",(function(){return y})),t.d(a,"c",(function(){return g})),t.d(a,"d",(function(){return b})),t.d(a,"r",(function(){return N})),t.d(a,"b",(function(){return M})),t.d(a,"g",(function(){return v})),t.d(a,"f",(function(){return w})),t.d(a,"o",(function(){return j}));var l=t(4),s=t.n(l),n=t(0),r=t.n(n);function c(e){return"true"===e}function i(e,a,t){const l=t?(s=a,e=>e.indexOf(s)<0):(e=>a=>a!==e)(a);var s;e.className=e.className.split(/\s+/).filter(e=>l(e)).join(" ")}function d(){return!!window.matchMedia("(prefers-reduced-motion: reduce)").matches}function o(e){return 0!==e.offsetHeight&&0!==e.offsetWidth}function m(e){return e.getBoundingClientRect().top>=0&&e.getBoundingClientRect().top<=window.innerHeight}function u(e){const a={};return e.substr(1).split("&").forEach(e=>{const[t,l]=e.split("=");a[t]=l}),a}function p(e){if(Object.keys(e).length>0){let a="?";for(const t in e)1!==a.length&&(a+="&"),a+=t+"="+e[t];return a}return""}function _(e,a,t,l,s,n){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:a,eventAction:t,eventLabel:l,eventValue:s,nonInteractionHit:n})}function h(e,a){a.forEach(a=>e.appendChild(a))}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432;const a=window.innerWidth;if(a<e)return!0}function E(e){let a=[];for(let t=e.length>>>0;t--;)a[t]=e[t];return a}function y(){const e=window.navigator.userAgent,a=e.indexOf("MSIE ");if(a>0)return parseInt(e.substring(a+5,e.indexOf(".",a)),10);if(e.indexOf("Trident/")>0){let a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}const t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}function g(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function b(e,a){let t=document.createElement(e);return a.map((function(e){"content"===e.label?t.appendChild(document.createTextNode(e.val)):"html"===e.label?t.innerHTML=e.val:t.setAttribute(e.label,e.val)})),t}function N(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function M(e){return s()(e).then(e=>{if(200===e.status)return e.data;throw"Bad response: "+e.status}).catch(e=>{s.a.isCancel(e)||_("jsError","JavaScript error",`Line ${e.lineNumber} – ${e.message}`,`axiosRequest ${e.fileName} (${window.location})`,!0)})}function v(e){const a=new Date(e);return r.a.createElement("time",{dateTime:`${a.getHours()?a.getHours():"00"}:${a.getMinutes()?a.getMinutes():"00"}`},a.getHours()?a.getHours():"00",":",a.getMinutes()?a.getMinutes():"00")}function w(e){return r.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),r.a.createElement("sup",null,function(e){const a=e.toString().slice(-1);return e>=11&&e<=13?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th"}(e.getUTCDate()))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}function j(e){switch(e){case"tiny":return 375;case"mobile":return 432;case"tablet":return 768;case"between":return 900;case"small":return 1024;case"desktop":default:return 1280;case"large":return 1440;case"1080":return 1920;case"4k":return 3840;case"8k":return 7680}}},26:function(e,a){},27:function(e,a){},3:function(e,a,t){"use strict";t.d(a,"a",(function(){return o})),t.d(a,"c",(function(){return m})),t.d(a,"b",(function(){return u}));var l=t(4),s=t.n(l),n=t(15),r=t.n(n),c=t(2);const i="https://www.city.ac.uk/web-services",d=3e4;function o(e,a,t,l,n,o,m,u,p){const _={};t.forEach(e=>{_[""+e.name]=e.value});const h={};a.forEach(e=>{h[`meta_${e.meta}_sand`]=e.value});const f={};Object.keys(u).forEach(e=>f[`meta_${e}_sand`]=u[e]);const E=s.a.CancelToken.source(),y={baseURL:i,cancelToken:E.token,httpsAgent:new r.a.Agent({keepAlive:!0}),url:"/funnelback-16-find",timeout:d,params:{..._,...h,...f,collection:e,num_ranks:m,query:l,sort:n||"",start_rank:o,events:p||""}};return[Object(c.b)(y),E]}function m(e,a){const t=s.a.CancelToken.source(),l={baseURL:i,cancelToken:t.token,url:"/funnelback-16-suggest",timeout:d,params:{collection:e,partial_query:a,show:100}};return[Object(c.b)(l),t]}function u(e){const a={timeout:d,url:e};return Object(c.b)(a)}}});