!function(e){function t(t){for(var n,r,l=t[0],o=t[1],u=t[2],m=0,d=[];m<l.length;m++)r=l[m],s[r]&&d.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(i&&i(t);d.length;)d.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a,r=c[t],l=!0,o=1;o<r.length;o++)a=r[o],0!==s[a]&&(l=!1);l&&(c.splice(t--,1),e=n(n.s=r[0]))}return e}function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={},s={2:0},c=[];n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var i=o;c.push([204,0,1]),a()}({113:function(){},114:function(){},15:function(e,t,a){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var a=null==arguments[t]?{}:arguments[t],n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){r(e,t,a[t])})}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){return m()(e).then(e=>{if(b===e.status)return e.data;throw"Bad response: ".concat(e.status)}).catch(e=>{m.a.isCancel(e)||Object(f.c)("jsError","JavaScript error","Line ".concat(e.lineNumber," – ").concat(e.message),"axiosRequest ".concat(e.fileName," (").concat(window.location,")"),!0)})}function c(e,t,a,r,c,l,o,u){const i={};t.forEach(e=>{i["meta_".concat(e.meta,"_orsand")]=e.value});const d={};Object.keys(u).forEach(e=>d["meta_".concat(e,"_orsand")]=u[e]);const f=m.a.CancelToken.source();return[s({baseURL:_,cancelToken:f.token,httpsAgent:new p.a.Agent({keepAlive:!0}),url:y,timeout:E,params:n({},i,d,{collection:e,num_ranks:o,query:a,sort:r?"".concat("desc"===c?"d":"").concat(r):null,start_rank:l})}),f]}function l(e,t){const a=m.a.CancelToken.source();return[s({baseURL:_,cancelToken:a.token,url:g,timeout:E,params:{collection:e,partial_query:t}}),a]}function o(e){return s({timeout:E,url:e})}a.d(t,"a",function(){return c}),a.d(t,"c",function(){return l}),a.d(t,"b",function(){return o});var u=a(3),i=(a.n(u),a(17)),m=a.n(i),d=a(57),p=a.n(d),f=a(2);const _="https://web2020.city.ac.uk/web-services",y="/funnelback-find",g="/funnelback-suggest",b=200,E=3e4},2:function(e,t,a){"use strict";function n(e){return!("true"!==e)}function r(e,t,a){const n=a?q(t):v(t);e.className=e.className.split(/\s+/).filter(e=>n(e)).join(" ")}function s(){return!!window.matchMedia("(prefers-reduced-motion: reduce)").matches}function c(e){return!(0===e.offsetHeight||0===e.offsetWidth)}function l(e){return!!(0<=e.getBoundingClientRect().top&&e.getBoundingClientRect().top<=window.innerHeight)}function o(e){const t={};return e.substr(1).split("&").forEach(e=>{const[a,n]=e.split("=");t[a]=n}),t}function u(e){if(0<Object.keys(e).length){let t="?";for(const a in e)1!==t.length&&(t+="&"),t+=a+"="+e[a];return t}return""}function i(e,t,a,n,r,s){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:t,eventAction:a,eventLabel:n,eventValue:r,nonInteractionHit:s})}function m(e,t){t.forEach(t=>e.appendChild(t))}function d(e){return e.replace(/\D/g,"")}function p(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:432;if(window.innerWidth<e)return!0}function f(e){let t=[];for(let a=e.length>>>0;a--;)t[a]=e[a];return t}function _(){let e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){let t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}let a=e.indexOf("Edge/");return!!(0<a)&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)}a.d(t,"l",function(){return n}),a.d(t,"j",function(){return r}),a.d(t,"i",function(){return s}),a.d(t,"e",function(){return c}),a.d(t,"m",function(){return l}),a.d(t,"h",function(){return o}),a.d(t,"g",function(){return u}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return m}),a.d(t,"f",function(){return d}),a.d(t,"d",function(){return p}),a.d(t,"k",function(){return f}),a.d(t,"b",function(){return _});var y=a(7),g=(a.n(y),a(26)),b=(a.n(g),a(27)),E=(a.n(b),a(3)),h=(a.n(E),a(10));a.n(h);const q=e=>t=>0>t.indexOf(e),v=e=>t=>t!==e},204:function(e,t,a){e.exports=a(205)},205:function(e,t,a){"use strict";a.r(t);var n=a(3),r=(a.n(n),a(0)),s=a.n(r),c=a(128),l=(a.n(c),a(44)),o=a(15);document.addEventListener("DOMContentLoaded",()=>{Array.from(document.querySelectorAll(".wrapper--finder")).forEach(e=>{Object(o.b)(e.dataset.config).then(t=>{Object(c.render)(s.a.createElement(l.a,{config:t}),e)})})})},44:function(e,t,a){"use strict";function n(e){return v.a.createElement("button",{className:"finder__clear",type:"button",onClick:()=>{e.clear()}},v.a.createElement("span",{className:"far fa-fw fa-times icon","aria-label":"Clear input"}))}function r(e){function t(){u.focus()}const[a,n]=Object(q.useState)(e.query.query),[r,s]=Object(q.useState)([]),[c,l]=Object(q.useState)({cancel:()=>{}}),[o]=Object(q.useState)("finder--"+e.query.collection+"--"+Math.random().toString(16).slice(-4));Object(q.useEffect)(()=>{n(e.query.query)},[e.updating]);let u=null;const i=()=>{c.cancel(),n(""),s([]),t();const a=e.query;a.query="",a.sortBy=e.config.sort,e.update.query(a),e.update.results(!e.update.updateState)},m=t=>{c.cancel();const a=e.query;a.query=t,e.update.query(a),e.update.results(!e.update.updateState)},d=a&&v.a.createElement(w,{clear:()=>{i()}}),p=r&&0<r.length&&v.a.createElement("ul",{className:"finder__query__suggestions"},[...new Set(r)].slice(0,S).map(e=>v.a.createElement("li",{key:e},v.a.createElement("button",{type:"button",onClick:()=>{n(e),s([]),t(),m(e)},onKeyDown:e=>{switch(e.keyCode){case O:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),s([]);break;case D:e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus()):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus());break;case x:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus())}},dangerouslySetInnerHTML:{__html:e.replace(a,"<strong>".concat(a,"</strong>"))}})))),f=v.a.createElement("div",{className:"finder__query__input"},v.a.createElement("label",{className:"sr-only",htmlFor:o},"Search ".concat(e.config.summariseAs.plural)),v.a.createElement("input",{autoComplete:"off",id:o,name:"query",placeholder:e.config.placeholder,ref:e=>{u=e},type:"text",value:a,onKeyDown:e=>{switch(e.keyCode){case O:i();break;case x:r&&0<r.length&&(e.preventDefault(),e.target.parentNode.querySelector(".finder__query__suggestions button").focus())}},onChange:t=>{if(s([]),n(t.target.value),c.cancel(),t.target.value){const[a,n]=Object(j.c)(e.query.collection,t.target.value);l({cancel:()=>{n.cancel()}}),a.then(e=>s(e)).catch(()=>s([]))}else s([])}}),p,d);return v.a.createElement("fieldset",{className:"finder__query"},v.a.createElement("div",null,f,v.a.createElement("button",{type:"submit",className:"finder__query__submit",onClick:()=>(()=>{c.cancel(),s([]);const t=e.query;t.query=a||"",t.startRank=1,t.sortBy=a?null:e.config.sort,e.update.query(t),e.update.results(!e.update.updateState)})()},v.a.createElement("span",null,v.a.createElement("span",{className:"fal fa-search","aria-hidden":"true"})," ","Find"))))}function s(e){const[t,a]=Object(q.useState)(void 0!==e.query.facets[e.facet.meta]||e.facet.defaultOpen),n=e.query.facets[e.facet.meta]||"",r=e.facet.values.reduce((e,t)=>[...e,t.data.replace(/^"/,"").replace(/"$/,"")],[]),s=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values?e.responseFacet[0].categories[0].values.reduce((e,t)=>[...e,t.data.toLowerCase()],[]):[],c=r.filter(e=>0>s.indexOf(e)).length,l=t=>{const a=e.query,n=t.target.value;n?a.facets[e.facet.meta]=n:delete a.facets[e.facet.meta],a.startRank=1,e.update.query(a),e.update.results(!e.update.updateState)},o=Math.random().toString(16).slice(-4);return v.a.createElement("fieldset",{className:"finder__filter finder__radio"},v.a.createElement("legend",{"data-open":t?"true":"false"},v.a.createElement("button",{type:"button","aria-expanded":t?"true":"false",onClick:()=>a(!t)},v.a.createElement("span",null,v.a.createElement("span",{className:"underline-transition__title"},e.facet.name)," ",v.a.createElement("span",{className:t?"fal fa-minus icon":"fal fa-plus icon","aria-label":t?"Close filter":"Open filter"})))),v.a.createElement("ul",{role:"presentation"},v.a.createElement("li",{key:"all"},v.a.createElement("input",{checked:""===n,id:"meta".concat(e.facet.meta,"all"),name:"meta_".concat(e.facet.meta,"_orsand--").concat(o),type:"radio",value:"",onChange:e=>l(e)}),v.a.createElement("label",{htmlFor:"meta".concat(e.facet.meta,"all")},e.facet.noSelection,0<c&&" (".concat(c," hidden)"))),e.facet.values.map((t,a)=>{const r=e.responseFacet[0]&&e.responseFacet[0].categories[0]&&e.responseFacet[0].categories[0].values.filter(e=>e.data.toLowerCase()===t.data.replace(/^"/,"").replace(/"$/,""));return r&&r[0]||n===t.data?v.a.createElement("li",{key:a},v.a.createElement("input",{checked:n===t.data,id:"meta".concat(e.facet.meta).concat(a),name:"meta_".concat(e.facet.meta,"_orsand--").concat(o),type:"radio",value:t.data,onChange:e=>l(e)}),v.a.createElement("label",{htmlFor:"meta".concat(e.facet.meta).concat(a)},t.label," (",r&&r[0]?r[0].count:0,")")):null})))}function c(){return null}function l(e){const t=Object.keys(e.query.facets);return t.length?v.a.createElement(v.a.Fragment,null,v.a.createElement("h2",{className:"sr-only"},"Applied filters"),v.a.createElement("ul",{className:"finder__appliedfilters"},t.map(t=>{const a=e.config.facetLabels.filter(e=>e.meta===t)[0],n=e.query.facets[t],r=a.values.filter(e=>e.data===n)[0];return v.a.createElement("li",{key:t},v.a.createElement("button",{type:"button",onClick:()=>(t=>{const a=e.query;delete a.facets[t],e.update.query(a),e.update.results(!e.update.updateState)})(t)},v.a.createElement("span",null,v.a.createElement("span",{className:"fal fa-times icon","aria-label":"Remove filter"})," ",v.a.createElement("span",{className:"finder__appliedfilters__facet"},a.name,":")," ",v.a.createElement("span",{className:"finder__appliedfilters__value"},r.label))))}))):null}function o(e){return Object.keys(e.query.facets).length?v.a.createElement("button",{className:"finder__clear",type:"button",onClick:()=>{e.clear()}},v.a.createElement("span",{className:"far fa-fw fa-times icon","aria-label":"Clear input"}),"Reset"):null}function u(e){return v.a.createElement("div",{className:"finder__filters"},v.a.createElement(F,{clear:e.clear,query:e.query}),v.a.createElement(R,{config:e.config,query:e.query,update:e.update}),v.a.createElement("div",{className:"finder__filters__heading"},v.a.createElement("h2",null,"Filter ".concat(e.config.summariseAs.plural)),v.a.createElement("div",{className:"finder__filters__heading__btn-icon"},v.a.createElement(F,{clear:e.clear,query:e.query}),v.a.createElement("span",{className:"far fa-sliders-h icon","aria-hidden":"true"}))),e.config.facetLabels.map(t=>{if(!function(e,t){const a=Object.keys(t);return!(e.dependency&&!(0<=a.indexOf(e.meta))&&!(0<=a.indexOf(e.dependency)&&""!==t[e.dependency]))}(t,e.query.facets))return null;switch(t.type){case"radio":return v.a.createElement(M,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===t.funnelbackName):[],update:e.update});case"checkbox":return v.a.createElement(T,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter(e=>e.name===t.funnelbackName):[],update:e.update})}}))}function i(e){const t=1===e.totalMatching?e.summariseAs.singular:e.summariseAs.plural;return v.a.createElement("h2",{"aria-live":"polite",className:"finder__results__summary__heading-wrap"},e.totalMatching>e.numRanks&&"".concat(e.currStart,"–").concat(e.currEnd," of "),e.totalMatching," ",e.query&&"matching ",t,e.query&&" for “".concat(e.query,"”"))}function m(e){const[t,a]=Object(q.useState)(!1),[n,r]=Object(q.useState)({});let s=null;const c=()=>s;Object(q.useEffect)(()=>{n.activate||r(B()(c(),{onDeactivate:()=>a(!1),clickOutsideDeactivates:!0})),t?(n.activate&&n.activate(),Object(U.disableBodyScroll)(c())):(n.deactivate&&n.deactivate(),Object(U.enableBodyScroll)(c()))},[t]);const l=e.response&&e.response.summary&&e.response.summary.totalMatching,o=1===l?"Show 1 results":l?"Show ".concat(l," results"):"Close",u=1<=l?v.a.createElement(A,{currEnd:e.response.summary.currEnd,currStart:e.response.summary.currStart,query:e.response.query,numRanks:e.response.summary.numRanks,summariseAs:e.summariseAs,totalMatching:e.response.summary.totalMatching}):v.a.createElement("h2",{className:"finder__results__summary__heading-wrap"},"No results");return v.a.createElement("div",{className:"finder__mobilefilters","data-open":t},u,v.a.createElement("button",{type:"button",className:"finder__mobilefilters__toggle","aria-haspopup":!0,"aria-expanded":t,onClick:()=>a(!t),"data-filters-applied":0!==Object.keys(e.query.facets).length},v.a.createElement("span",null,v.a.createElement("span",{className:"far fa-sliders-h icon","aria-hidden":"true"})," ",v.a.createElement("span",{dangerouslySetInnerHTML:{__html:0<Object.keys(e.query.facets).length?' Filters <span class="finder__mobilefilters__toggle__filterNo">('.concat(Object.keys(e.query.facets).length,")</span>"):"Filter"}}))),v.a.createElement("div",{className:"finder__mobilefilters__filters",ref:e=>{s=e}},v.a.createElement("div",{className:"finder__mobilefilters__filters__content"},v.a.createElement(L,{config:e.config,query:e.query,response:e.response,update:e.update,clear:e.clear}),v.a.createElement("button",{type:"button",className:"finder__mobilefilters__apply","aria-expanded":t,onClick:()=>a(!t),disabled:e.updating},0===Object.keys(e.query.facets).length?null:v.a.createElement("span",{className:"far fa-chevron-left"}),v.a.createElement("span",{"aria-live":"polite"},e.updating?v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Updating results…")):v.a.createElement(v.a.Fragment,null,v.a.createElement("span",null,0===Object.keys(e.query.facets).length?"Close":o)))))))}function d(e){const t=0<=["Undergraduate","Foundation","CPD"].indexOf(e.details.metaData.L)&&e.details.metaData.N&&v.a.createElement("p",{className:"finder__results__card__tag"},v.a.createElement("span",{className:"fal fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Course code:")," ",v.a.createElement("span",null,e.details.metaData.N)),a=e.details.metaData.M&&v.a.createElement("p",{className:"finder__results__card__tag"},v.a.createElement("span",{className:"fal fa-fw fa-award icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Award:")," ",v.a.createElement("span",null,e.details.metaData.M)),n=e.details.metaData.D&&v.a.createElement("p",{className:"finder__results__card__tag"},v.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Duration:")," ",v.a.createElement("span",null,e.details.metaData.D)),r=e.details.metaData.metd&&v.a.createElement("p",{className:"finder__results__card__tag"},v.a.createElement("span",{className:"fas fa-book-reader icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Method:")," ",v.a.createElement("span",null,e.details.metaData.metd)),s=e.details.metaData.loc&&v.a.createElement("p",{className:"finder__results__card__tag"},v.a.createElement("span",{className:"fas fa-map-marker-alt icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Location:")," ",v.a.createElement("span",null,e.details.metaData.loc));return v.a.createElement("li",{className:"finder__results__card finder__results__course"},v.a.createElement("a",{href:e.details.clickTrackingUrl},v.a.createElement("div",{className:"finder__results__card__details"},v.a.createElement("h3",{className:"finder__results__card__heading underline-transition__title"},v.a.createElement("span",null,e.query.query?H(e.details.title,e.query.query):e.details.title)),v.a.createElement("p",{className:"finder__results__card__description"},e.query.query?H(e.details.metaData.L,e.query.query):e.details.metaData.L),v.a.createElement("p",null,e.query.query?H(e.details.metaData.c,e.query.query):e.details.metaData.c),a,n,t,r,s)))}function p(e){const t=(e.details.metaData.E||e.details.metaData.D)&&v.a.createElement("p",{className:"finder__results__card__tag"},v.a.createElement("span",{className:"fal fa-fw fa-university icon","aria-hidden":"true"})," ",e.details.metaData.E&&e.details.metaData.E,e.details.metaData.E&&e.details.metaData.D&&", ",e.details.metaData.D&&e.details.metaData.D),a=e.details.metaData.K&&v.a.createElement("div",{className:"thumbnail__image-container"},v.a.createElement("img",{src:e.details.metaData.K,alt:""}));return v.a.createElement("li",{className:"finder__results__card finder__results__profile"},v.a.createElement("a",{href:"/fb"+e.details.clickTrackingUrl},a,v.a.createElement("div",{className:"finder__results__card__details"},v.a.createElement("h3",{className:"finder__results__card__heading underline-transition__title"},v.a.createElement("span",null,e.details.title)),v.a.createElement("p",{className:"finder__results__card__description"},e.details.metaData.J),t)))}function f(e){switch(e.type){case"course":return v.a.createElement(J,{details:e.details,query:e.query});case"profile":return v.a.createElement(K,{details:e.details})}}function _(e){return v.a.createElement("li",{className:"finder__results__card finder__results__bestbet"},v.a.createElement("a",{href:"/fb"+e.details.clickTrackingUrl},v.a.createElement("div",{className:"finder__results__card__details"},v.a.createElement("h3",{className:"finder__results__card__heading underline-transition__title"},e.details.title),v.a.createElement("p",{className:"finder__results__card__description"},e.details.description))))}function y(e){const t=e.text.split(/\|/)[0].trim();return v.a.createElement("p",null,"Did you mean “",v.a.createElement("button",{type:"button",className:"finder__didyoumean__button",onClick:()=>{const a=e.query;a.query=t,a.startRank=1,e.update.query(a),e.update.results(!e.update.updateState)}},t),"”?")}function g(e){var t=Math.ceil;const a=t(e.totalMatching/e.numRanks),n=t(e.currStart/e.numRanks),r=[],s=t=>{const a=1+(t-1)*e.numRanks,n=e.query;n.startRank=a,e.update.query(n),e.update.results(!e.update.updateState)};r.push(v.a.createElement("button",{className:"pagination__controls__button--prev",key:"prev",type:"button",disabled:1===n,onClick:()=>{s(n-1)}},v.a.createElement("span",null,"Previous page")));for(let e=1;e<=a;e++){let t;switch(e-a){case 0:t="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:t="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:t="pagination__controls__element pagination__controls__button"}r.push(v.a.createElement("button",{"aria-current":e===n?"page":null,"aria-expanded":e===n,"aria-label":"Open page ".concat(e),className:t,"data-page":e,"data-proximity":Math.abs(e-n),disabled:e===n,key:e,type:"button",onClick:()=>{s(e)}},v.a.createElement("span",null,e))),1===e?r.push(v.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},v.a.createElement("span",null,"…"))):e===a-1&&r.push(v.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},v.a.createElement("span",null,"…")))}return r.push(v.a.createElement("button",{className:"pagination__controls__button--next",key:"next",type:"button",disabled:n===a,onClick:()=>{s(n+1)}},v.a.createElement("span",null,"Next page"))),v.a.createElement("div",{className:"pagination__wrapper"},v.a.createElement("nav",{className:"pagination__controls"},r))}function b(e){const t=v.a.createElement("p",{className:"finder__results__updating","aria-live":"polite"},v.a.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",v.a.createElement("span",null,"Updating results…"));if(e.response){const a=e.response.spell&&e.response.spell.text&&0===e.response.summary.totalMatching&&v.a.createElement(V,{query:e.query,text:e.response.spell.text,update:e.update}),n=e.response.summary.totalMatching>e.response.summary.numRanks&&v.a.createElement(Y,{currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,totalMatching:e.response.summary.totalMatching,update:e.update}),r=0===e.response.summary.fullyMatching&&v.a.createElement("div",null,v.a.createElement("p",null,"You search ",e.query.query," did not match any courses"),v.a.createElement("p",null,"Suggestions"),v.a.createElement("ul",null,v.a.createElement("li",null,"Make sure that all words are spell correctly"),v.a.createElement("li",null,"Try different keywords"),v.a.createElement("li",null,"Try more general keywords"),v.a.createElement("li",null,"Try fewer keywords"),v.a.createElement("li",null,"Try fewer filters"))),s=e.updating?v.a.createElement(v.a.Fragment,null,t):v.a.createElement(v.a.Fragment,null,v.a.createElement(A,{currEnd:e.response.summary.currEnd,currStart:e.response.summary.currStart,query:e.response.query,numRanks:e.response.summary.numRanks,summariseAs:e.summariseAs,totalMatching:e.response.summary.totalMatching}),a,r,v.a.createElement("ol",{start:e.response.summary.currStart,className:"finder__results__list"},e.response.bestBets.map(e=>v.a.createElement($,{details:e,key:e.docNum})),e.response.results.map(t=>v.a.createElement(W,{bestBet:!1,details:t,key:t.docNum,type:e.type,query:e.query}))),n);return v.a.createElement("div",{className:"finder__results"},s)}return v.a.createElement("div",{className:"finder__results"},t)}function E(e,t){return e.map(e=>{const a={};return t.get("meta_".concat(e.meta,"_orsand"))&&(a[e.meta]=t.get("meta_".concat(e.meta,"_orsand"))),a}).reduce((e,t)=>Object.assign(e,t))}function h(e){const t=new URLSearchParams(window.location.search),a={collection:e.config.collection,fixedFacets:e.config.fixedFacets,query:t.get("query")||"",sortBy:t.get("query")?null:t.get("sort")||e.config.sort,sortDirection:t.get("sortdirection")||e.config.sortDirection,startRank:t.get("start_rank")||1,numRanks:t.get("num_ranks")||e.config.numRanks,facets:E(e.config.facetLabels,t)},n={bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}},[r,s]=Object(q.useState)(a),[c,l]=Object(q.useState)(n),[o,u]=Object(q.useState)(!0),[i,m]=Object(q.useState)({cancel:()=>{}}),[d,p]=Object(q.useState)(!1);Object(q.useEffect)(()=>{(function(e,t,a,n){const r=new URLSearchParams(window.location.search);""===e?r.delete("query"):r.set("query",e),1===t?r.delete("start_rank"):r.set("start_rank",t),n.forEach(e=>{a[e.meta]?r.set("meta_".concat(e.meta,"_orsand"),a[e.meta]):r.delete("meta_".concat(e.meta,"_orsand"))}),window.history.replaceState({},"",window.location.pathname+"?"+r.toString())})(r.query,r.startRank,r.facets,e.config.facetLabels),u(!0),i.cancel();const[t,a]=Object(j.a)(r.collection,r.fixedFacets,r.query,r.sortBy,r.sortDirection,r.startRank,r.numRanks,r.facets);m({cancel:()=>{a.cancel()}}),t.then(e=>{l(e),u(!1)}).catch(()=>{l(n),u(!1)})},[d]);const f={query:e=>s(e),results:e=>p(e),updateState:d},_=()=>{const e=Object.assign({},r);e.facets={},s(e),p(!d)};return v.a.createElement("form",{className:0<e.config.facetLabels.length?"finder":"finder finder--nofilters",onSubmit:e=>{e.preventDefault()}},v.a.createElement(C,{config:e.config,query:r,update:f,updating:o}),0<e.config.facetLabels.length&&v.a.createElement(v.a.Fragment,null,v.a.createElement(I,{config:e.config,query:r,response:c,update:f,updating:o,summariseAs:e.config.summariseAs,clear:_}),v.a.createElement(L,{config:e.config,query:r,response:c,update:f,clear:_})),v.a.createElement(z,{query:r,response:c,summariseAs:e.config.summariseAs,type:e.config.resultCard,update:f,updating:o}))}a(7),a(53),a(28),a(35),a(3),a(10),a(92);var q=a(0),v=a.n(q),k=a(1),N=a.n(k),j=a(15);a(26);n.propTypes={clear:N.a.func};var w=n;const S=5,[O,D,x]=[27,38,40];r.propTypes={config:N.a.object,query:N.a.object,update:N.a.object,updating:N.a.bool};var C=r;s.propTypes={facet:N.a.object,query:N.a.object,responseFacet:N.a.arrayOf(N.a.object),update:N.a.object};var M=s;c.propTypes={facet:N.a.object,query:N.a.object,responseFacet:N.a.arrayOf(N.a.object),update:N.a.object};var T=c;l.propTypes={config:N.a.object,query:N.a.object,update:N.a.object};var R=l;o.propTypes={clear:N.a.func};var F=o;u.propTypes={config:N.a.object,query:N.a.object,response:N.a.object,update:N.a.object,clear:N.a.func};var L=u;i.propTypes={currEnd:N.a.number,currStart:N.a.number,query:N.a.string,numRanks:N.a.number,summariseAs:N.a.object,totalMatching:N.a.number};var A=i,P=a(22),B=a.n(P),U=a(34);m.propTypes={config:N.a.object,query:N.a.object,response:N.a.object,update:N.a.object,clear:N.a.func,updating:N.a.bool,summariseAs:N.a.object};var I=m,H=(a(27),(e,t)=>t?v.a.createElement(v.a.Fragment,null,e.split(t).reduce((e,a,n)=>n?e.concat(v.a.createElement("span",{className:"highlightText",key:t+a},t),a):[a],[])):e);d.propTypes={details:N.a.object,query:N.a.object};var J=d;p.propTypes={details:N.a.object};var K=p;f.propTypes={details:N.a.object,query:N.a.object,type:N.a.string};var W=f;a(121);_.propTypes={details:N.a.object};var $=_;a(50);y.propTypes={query:N.a.object,text:N.a.string,update:N.a.object};var V=y;g.propTypes={currStart:N.a.number,query:N.a.object,numRanks:N.a.number,totalMatching:N.a.number,update:N.a.object};var Y=g;b.propTypes={query:N.a.object,response:N.a.object,summariseAs:N.a.object,type:N.a.string,update:N.a.object,updating:N.a.bool};var z=b;h.propTypes={config:N.a.object},t.a=h}});