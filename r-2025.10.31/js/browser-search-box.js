!function(e){function t(t){for(var r,c,u=t[0],i=t[1],l=t[2],f=0,d=[];f<u.length;f++)c=u[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(s&&s(t);d.length;)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={5:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=i;o.push([341,1,0,3,2]),n()}({111:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),c=n.n(o);function u(e){return a.a.createElement("button",{className:"finder__clear",type:"button",onClick:function(){e.clear(e.resetSort)}},a.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon "}),a.a.createElement("span",{className:"finder__clear__text"},"Clear query"))}u.propTypes={clear:c.a.func,resetSort:c.a.bool},t.a=u},141:function(e,t){},142:function(e,t){},2:function(e,t,n){"use strict";n.d(t,"t",(function(){return l})),n.d(t,"q",(function(){return s})),n.d(t,"p",(function(){return f})),n.d(t,"m",(function(){return d})),n.d(t,"v",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"s",(function(){return h})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"u",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return x})),n.d(t,"r",(function(){return N})),n.d(t,"h",(function(){return q})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return A})),n(22),n(24),n(19),n(3),n(4),n(35),n(14),n(15),n(30),n(26),n(39),n(12),n(5),n(23),n(32),n(41),n(92),n(21),n(9),n(16),n(18),n(10),n(6),n(13),n(7);var r=n(25),a=n.n(r),o=n(0),c=n.n(o);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return"true"===e}function s(e,t,n){var r,a=n?(r=t,function(e){return e.indexOf(r)<0}):function(e){return function(t){return t!==e}}(t);e.className=e.className.split(/\s+/).filter((function(e){return a(e)})).join(" ")}function f(){return!!("undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)")).matches}function d(e){return 0!==e.offsetHeight&&0!==e.offsetWidth}function p(e){return e.getBoundingClientRect().top>=0&&e.getBoundingClientRect().top<=window.innerHeight}function m(e){var t={};return e.substr(1).split("&").forEach((function(e){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,u=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("="),2),r=n[0],a=n[1];t[r]=a})),t}function y(e){if(Object.keys(e).length>0){var t="?";for(var n in e)1!==t.length&&(t+="&"),t+=n+"="+e[n];return t}return""}function b(e,t,n,r,a,o){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:t,eventAction:n,eventLabel:r,eventValue:a,nonInteractionHit:o})}function g(e,t){t.forEach((function(t){return e.appendChild(t)}))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432,t=window.innerWidth;if(t<e)return!0}function h(e){for(var t=[],n=e.length>>>0;n--;)t[n]=e[n];return t}function w(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}function S(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function _(e,t){var n=document.createElement(e);return t.map((function(e){"content"===e.label?n.appendChild(document.createTextNode(e.val)):"html"===e.label?n.innerHTML=e.val:n.setAttribute(e.label,e.val)})),n}function E(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function O(e){return a()(e).then((function(e){if(200===e.status)return e.data;throw"Bad response: ".concat(e.status)})).catch((function(e){a.a.isCancel(e)||b("jsError","JavaScript error","Line ".concat(e.lineNumber," â€“ ").concat(e.message),"axiosRequest ".concat(e.fileName," (").concat(window.location,")"),!0)}))}function j(e,t){var n,r=new Date(e);return t&&(n=0==r.getTimezoneOffset()/-60?"(GMT)":"(BST)"),c.a.createElement("time",{dateTime:"".concat(r.getHours()?r.getHours():"00",":").concat(r.getMinutes()?r.getMinutes():"00")},r.getHours()?r.getHours():"00",":",r.getMinutes()?r.getMinutes():"00"," ",n)}function x(e){var t,n;return c.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),c.a.createElement("sup",null,(n=(t=e.getUTCDate()).toString().slice(-1),t>=11&&t<=13?"th":"1"===n?"st":"2"===n?"nd":"3"===n?"rd":"th"))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}function N(e){switch(e){case"tiny":return 375;case"mobile":return 432;case"tablet":return 768;case"between":return 900;case"small":return 1024;case"desktop":default:return 1280;case"large":return 1440;case"1080":return 1920;case"4k":return 3840;case"8k":return 7680}}function q(e){var t={},n=function(n){if("object"!==u(e[n])||Array.isArray(e[n]))Array.isArray(e[n])?e[n].forEach((function(e){"fixedFacets"===n?t["".concat(n,"-").concat(e.meta)]=e.value:t["".concat(n,"-").concat(e.name)]=e.value})):t[n]=e[n];else{var r=q(e[n]);for(var a in r)"parameters"===n?t["".concat(n,"-").concat(a)]=r[a]:t[a]=r[a]}};for(var r in e)n(r);return t}function k(){document.documentElement.classList.remove("no-scroll"),document.querySelector(".back-to-top").setAttribute("hidden","false")}function A(){!function(){var e=document.createElement("div");e.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;document.body.removeChild(e),document.documentElement.style.setProperty("--scrollbar-width",t+"px")}(),document.querySelector(".back-to-top").setAttribute("hidden","true"),document.documentElement.classList.add("no-scroll")}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return y})),n(14),n(3),n(15),n(9),n(30),n(68),n(16),n(19),n(78),n(93),n(94);var r=n(25),a=n.n(r),o=n(70),c=n.n(o),u=n(2);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="https://city-search.funnelback.squiz.cloud/s",d=3e4;function p(e,t,n,r,o,i,s,p,m){var y={};n.forEach((function(e){y["".concat(e.name)]=e.value}));var b={};Object.keys(m).forEach((function(e){return b[e]=m[e]}));var g={};t.forEach((function(e){g["meta_".concat(e.meta,"_sand")]=e.value}));var v={};Object.keys(p).forEach((function(e){return v["meta_".concat(e,"_sand")]=p[e]}));var h=a.a.CancelToken.source(),w={baseURL:f,cancelToken:h.token,httpsAgent:new c.a.Agent({keepAlive:!0}),url:"/search.json",timeout:d,params:l(l(l(l(l({},y),g),v),b),{},{collection:e,num_ranks:s,query:r,sort:o||"",start_rank:i})};return[Object(u.b)(w),h]}function m(e,t){var n=a.a.CancelToken.source(),r={baseURL:f,cancelToken:n.token,url:"/suggest.json",timeout:d,params:{collection:e,partial_query:t,show:100}};return[Object(u.b)(r),n]}function y(e){var t={timeout:d,url:e};return Object(u.b)(t)}},341:function(e,t,n){e.exports=n(347)},347:function(e,t,n){"use strict";n.r(t),n(4);var r=n(0),a=n.n(r),o=n(55),c=(n(19),n(3),n(21),n(16),n(18),n(10),n(6),n(13),n(5),n(9),n(7),n(1)),u=n.n(c),i=(n(22),n(42),n(12),n(69),n(27)),l=n(111);function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,u=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="Escape",y="ArrowDown";function b(e){var t=f(Object(r.useState)(""),2),n=t[0],o=t[1],c=f(Object(r.useState)([]),2),u=c[0],d=c[1],p=f(Object(r.useState)({cancel:function(){}}),2),b=p[0],g=p[1],v=f(Object(r.useState)("search-box--"+e.query.collection),1)[0],h=f(Object(r.useState)(!1),2),w=h[0],S=h[1],_=f(Object(r.useState)(""),2),E=_[0],O=_[1];Object(r.useEffect)((function(){o(e.query.query)}),[e.query.query,e.updating]);var j=null;function x(){j.focus()}var N=function(){b.cancel(),o(""),d([]),x()},q=n&&a.a.createElement(l.a,{clear:function(){N()}}),k=function(t){S(!1),d([]),x(),function(t){b.cancel();var r=e.query;r.misspelling=null,r.query=t||n||"",r.sortType=n?"":e.config.sort[0].type,r.startRank=1,r.interacted=!0,e.update.query(r),e.update.results(!e.update.updateState)}(t)},A=u&&u.length>0&&a.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":E,className:w?"search-box__query__suggestions show":"search-box__query__suggestions hide"},s(new Set(u)).slice(0,5).map((function(e,t){return a.a.createElement("li",{key:e,role:"option",id:v+"--"+t},a.a.createElement("button",{type:"button",onBlur:function(){O(""),S(!1)},onFocus:function(){return S(!0)},onMouseDown:function(){return k(e)},onClick:function(){return k(e)},onKeyDown:function(e){switch(e.key){case m:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),d([]),O("");break;case"ArrowUp":e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),O(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),O(""));break;case y:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),O(e.target.parentNode.nextElementSibling.id));break;case"Home":e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),O(e.target.parentNode.firstChild.id));break;case"End":e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),O(e.target.parentNode.lastChild.id))}}},function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,a.a.createElement("span",{className:"sr-only"},e),a.a.createElement("span",{"aria-hidden":"true"},a.a.createElement("span",{className:"search-box__suggestion"},e.slice(e.indexOf(t.toLowerCase()),t.length)),e.slice(e.indexOf(t.toLowerCase())+t.length))))}(e,n)))}))),C=a.a.createElement("div",{className:"search-box__query__input"},a.a.createElement("label",{className:"sr-only",htmlFor:v},"Search"),a.a.createElement("input",{autoComplete:"off",id:v,name:"query",placeholder:"Enter course title or keyword",ref:function(e){j=e},type:"text",value:n,onKeyDown:function(e){switch(e.key){case m:N();break;case y:u&&u.length>0&&(e.preventDefault(),e.target.parentNode.querySelector(".search-box__query__suggestions button").focus(),O(e.target.parentNode.querySelector(".search-box__query__suggestions li").id))}},onFocus:function(){return S(!0)},onBlur:function(){return S(!1)},onChange:function(t){if(d([]),o(t.target.value),b.cancel(),t.target.value){var n=f(Object(i.c)("city-university~sp-web2020-courses",t.target.value,!!e.config.dxp&&e.config.dxp),2),r=n[0],a=n[1];g({cancel:function(){a.cancel()}}),r.then((function(e){return d(e)})).catch((function(){return d([])}))}else d([])}}),A,q);return a.a.createElement("fieldset",{className:"search-box__query"},a.a.createElement("div",null,C,a.a.createElement("button",{type:"submit",className:"search-box__query__submit"},a.a.createElement("span",{className:"fal fa-sharp fa-search search-box__query__submit__icon","aria-hidden":"true"})," ",a.a.createElement("span",{className:"sr-only search-box__query__submit__text"},"Find"))))}b.propTypes={config:u.a.object,query:u.a.object,update:u.a.object,updating:u.a.bool};var g=b;function v(e){var t=e.query.facets[e.facet.meta]||"";return a.a.createElement("div",{className:"search-box__filter search-box__select ".concat(t&&"search-box__select--selected")},a.a.createElement("label",{className:"sr-only",htmlFor:"meta_".concat(e.facet.meta,"_sand--")},e.facet.name),a.a.createElement("select",{name:"meta_".concat(e.facet.meta,"_sand"),id:"meta_".concat(e.facet.meta,"_sand--"),onChange:function(t){return n=t.target.value,r=e.query,n?r.facets[e.facet.meta]=n:delete r.facets[e.facet.meta],r.startRank=1,r.misspelling=null,r.interacted=!0,e.update.query(r),void e.update.results(!e.update.updateState);var n,r},value:t},a.a.createElement("option",{value:"",id:"meta".concat(e.facet.meta,"all"),name:"meta_".concat(e.facet.meta,"_sand--")},e.facet.noSelection),e.facet.values.map((function(e,t){return a.a.createElement("option",{key:t,value:e.data.toLowerCase()},e.label)}))),a.a.createElement("span",{className:"fas fa-sharp fa-chevron-down icon"}))}v.propTypes={facet:u.a.object,query:u.a.object,update:u.a.object};var h=v;function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,u=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t={collection:e.config.collection,facets:{},fixedFacets:e.config.fixedFacets,fixedParameters:e.config.fixParameters?e.config.fixParameters:[],interacted:!1,misspelling:null,numRanks:e.config.numRanks,query:"",sortType:"",startRank:1},n=w(Object(r.useState)(t),2),o=n[0],c=n[1],u=w(Object(r.useState)(!0),1)[0],i=w(Object(r.useState)(!1),2),l=i[0],s=i[1],f={query:function(e){return c(e)},results:function(e){return s(e)},updateState:l},d=e.config.facetLabels.filter((function(e){return"level"===e.meta}));return a.a.createElement("form",{action:"https://www.citystgeorges.ac.uk/prospective-students/courses"},a.a.createElement("h2",null,"Search for a course"),a.a.createElement(h,{key:d[0].meta,facet:d[0],query:o,update:f}),a.a.createElement(g,{config:e.config,query:o,update:f,updating:u}))}_.propTypes={config:u.a.object,element:u.a.object};var E=_;document.addEventListener("DOMContentLoaded",(function(){if(!/(Trident|MSIE)/.test(navigator.userAgent)){var e=document.querySelector("#search-box");e&&Object(i.b)(e.dataset.config).then((function(t){Object(o.hydrate)(a.a.createElement(E,{element:e,config:t}),e)}))}}))}});