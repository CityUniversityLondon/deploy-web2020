!function(e){function a(a){for(var n,s,c=a[0],i=a[1],o=a[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(u&&u(a);m.length;)m.shift()();return l.push.apply(l,o||[]),t()}function t(){for(var e,a=0;a<l.length;a++){for(var t=l[a],n=!0,c=1;c<t.length;c++){var i=t[c];0!==r[i]&&(n=!1)}n&&(l.splice(a--,1),e=s(s.s=t[0]))}return e}var n={},r={10:0},l=[];function s(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)s.d(t,n,function(a){return e[a]}.bind(null,n));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var o=0;o<c.length;o++)a(c[o]);var u=i;l.push([335,1,0,3,2,4]),t()}({114:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(1),s=t.n(l),c=t(44);function i(e){var a=Math.ceil(e.totalMatching/e.numRanks),t=Math.ceil(e.currStart/e.numRanks),n=[],l=function(a){var t=1+(a-1)*e.numRanks,n=e.query;n.startRank=t,n.misspelling=null,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)};n.push(1===t?r.a.createElement("span",{key:"previousPage",className:"pagination__controls__button--prev"},r.a.createElement("span",null,"Previous page")):r.a.createElement("a",{className:"pagination__controls__button--prev",key:"prev",onClick:function(e){e.preventDefault(),l(t-1)},href:Object(c.a)(e.query,null,t-1,e.numRanks)},r.a.createElement("span",null,"Previous page ",t)));for(var s=function(s){var i=void 0;switch(s-a){case 0:i="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:i="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:i="pagination__controls__element pagination__controls__button"}n.push(r.a.createElement("a",{"aria-current":s===t?"page":null,"aria-expanded":s===t,"aria-label":"Open page ".concat(s),className:i,"data-page":s,"data-proximity":Math.abs(s-t),disabled:s===t,key:s,onClick:function(e){e.preventDefault(),l(s)},href:Object(c.a)(e.query,null,s,e.numRanks)},r.a.createElement("span",null,s))),1===s?n.push(r.a.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},r.a.createElement("span",null,"…"))):s===a-1&&n.push(r.a.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},r.a.createElement("span",null,"…")))},i=1;i<=a;i++)s(i);return n.push(t===a?r.a.createElement("span",{key:"nextPage",className:"pagination__controls__button--next"},r.a.createElement("span",null,"Next page")):r.a.createElement("a",{className:"pagination__controls__button--next",key:"next",disabled:t===a,onClick:function(e){e.preventDefault(),l(t+1)},href:Object(c.a)(e.query,null,t+1,e.numRanks)},r.a.createElement("span",null,"Next page"))),r.a.createElement("div",{className:"pagination__wrapper"},r.a.createElement("nav",{className:"pagination__controls","data-pagecount":a},n))}i.propTypes={currStart:s.a.number,query:s.a.object,numRanks:s.a.number,totalMatching:s.a.number,update:s.a.object},a.a=i},141:function(e,a){},142:function(e,a){},2:function(e,a,t){"use strict";t.d(a,"t",(function(){return o})),t.d(a,"q",(function(){return u})),t.d(a,"p",(function(){return d})),t.d(a,"m",(function(){return m})),t.d(a,"v",(function(){return p})),t.d(a,"o",(function(){return f})),t.d(a,"n",(function(){return h})),t.d(a,"k",(function(){return _})),t.d(a,"a",(function(){return y})),t.d(a,"l",(function(){return b})),t.d(a,"s",(function(){return E})),t.d(a,"e",(function(){return g})),t.d(a,"c",(function(){return v})),t.d(a,"d",(function(){return N})),t.d(a,"u",(function(){return M})),t.d(a,"b",(function(){return w})),t.d(a,"j",(function(){return j})),t.d(a,"i",(function(){return S})),t.d(a,"r",(function(){return q})),t.d(a,"h",(function(){return O})),t.d(a,"g",(function(){return k})),t.d(a,"f",(function(){return x})),t(22),t(24),t(19),t(3),t(4),t(35),t(14),t(15),t(30),t(26),t(39),t(12),t(5),t(23),t(32),t(41),t(92),t(21),t(9),t(16),t(18),t(10),t(6),t(13),t(7);var n=t(25),r=t.n(n),l=t(0),s=t.n(l);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function o(e){return"true"===e}function u(e,a,t){var n,r=t?(n=a,function(e){return e.indexOf(n)<0}):function(e){return function(a){return a!==e}}(a);e.className=e.className.split(/\s+/).filter((function(e){return r(e)})).join(" ")}function d(){return!!("undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)")).matches}function m(e){return 0!==e.offsetHeight&&0!==e.offsetWidth}function p(e){return e.getBoundingClientRect().top>=0&&e.getBoundingClientRect().top<=window.innerHeight}function f(e){var a={};return e.substr(1).split("&").forEach((function(e){var t=function(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"==typeof e)return i(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("="),2),n=t[0],r=t[1];a[n]=r})),a}function h(e){if(Object.keys(e).length>0){var a="?";for(var t in e)1!==a.length&&(a+="&"),a+=t+"="+e[t];return a}return""}function _(e,a,t,n,r,l){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:a,eventAction:t,eventLabel:n,eventValue:r,nonInteractionHit:l})}function y(e,a){a.forEach((function(a){return e.appendChild(a)}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432,a=window.innerWidth;if(a<e)return!0}function E(e){for(var a=[],t=e.length>>>0;t--;)a[t]=e[t];return a}function g(){var e=window.navigator.userAgent,a=e.indexOf("MSIE ");if(a>0)return parseInt(e.substring(a+5,e.indexOf(".",a)),10);if(e.indexOf("Trident/")>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)}function v(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function N(e,a){var t=document.createElement(e);return a.map((function(e){"content"===e.label?t.appendChild(document.createTextNode(e.val)):"html"===e.label?t.innerHTML=e.val:t.setAttribute(e.label,e.val)})),t}function M(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function w(e){return r()(e).then((function(e){if(200===e.status)return e.data;throw"Bad response: ".concat(e.status)})).catch((function(e){r.a.isCancel(e)||_("jsError","JavaScript error","Line ".concat(e.lineNumber," – ").concat(e.message),"axiosRequest ".concat(e.fileName," (").concat(window.location,")"),!0)}))}function j(e,a){var t,n=new Date(e);return a&&(t=0==n.getTimezoneOffset()/-60?"(GMT)":"(BST)"),s.a.createElement("time",{dateTime:"".concat(n.getHours()?n.getHours():"00",":").concat(n.getMinutes()?n.getMinutes():"00")},n.getHours()?n.getHours():"00",":",n.getMinutes()?n.getMinutes():"00"," ",t)}function S(e){var a,t;return s.a.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),s.a.createElement("sup",null,(t=(a=e.getUTCDate()).toString().slice(-1),a>=11&&a<=13?"th":"1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th"))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}function q(e){switch(e){case"tiny":return 375;case"mobile":return 432;case"tablet":return 768;case"between":return 900;case"small":return 1024;case"desktop":default:return 1280;case"large":return 1440;case"1080":return 1920;case"4k":return 3840;case"8k":return 7680}}function O(e){var a={},t=function(t){if("object"!==c(e[t])||Array.isArray(e[t]))Array.isArray(e[t])?e[t].forEach((function(e){"fixedFacets"===t?a["".concat(t,"-").concat(e.meta)]=e.value:a["".concat(t,"-").concat(e.name)]=e.value})):a[t]=e[t];else{var n=O(e[t]);for(var r in n)"parameters"===t?a["".concat(t,"-").concat(r)]=n[r]:a[r]=n[r]}};for(var n in e)t(n);return a}function k(){document.documentElement.classList.remove("no-scroll"),document.querySelector(".back-to-top").setAttribute("hidden","false")}function x(){!function(){var e=document.createElement("div");e.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var a=e.offsetWidth-e.clientWidth;document.body.removeChild(e),document.documentElement.style.setProperty("--scrollbar-width",a+"px")}(),document.querySelector(".back-to-top").setAttribute("hidden","true"),document.documentElement.classList.add("no-scroll")}},27:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"c",(function(){return f})),t.d(a,"b",(function(){return h})),t(14),t(3),t(15),t(9),t(30),t(68),t(16),t(19),t(78),t(93),t(94);var n=t(25),r=t.n(n),l=t(70),s=t.n(l),c=t(2);function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){u(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function u(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var d="https://city-search.funnelback.squiz.cloud/s",m=3e4;function p(e,a,t,n,l,i,u,p,f){var h={};t.forEach((function(e){h["".concat(e.name)]=e.value}));var _={};Object.keys(f).forEach((function(e){return _[e]=f[e]}));var y={};a.forEach((function(e){y["meta_".concat(e.meta,"_sand")]=e.value}));var b={};Object.keys(p).forEach((function(e){return b["meta_".concat(e,"_sand")]=p[e]}));var E=r.a.CancelToken.source(),g={baseURL:d,cancelToken:E.token,httpsAgent:new s.a.Agent({keepAlive:!0}),url:"/search.json",timeout:m,params:o(o(o(o(o({},h),y),b),_),{},{collection:e,num_ranks:u,query:n,sort:l||"",start_rank:i})};return[Object(c.b)(g),E]}function f(e,a){var t=r.a.CancelToken.source(),n={baseURL:d,cancelToken:t.token,url:"/suggest.json",timeout:m,params:{collection:e,partial_query:a,show:100}};return[Object(c.b)(n),t]}function h(e){var a={timeout:m,url:e};return Object(c.b)(a)}},335:function(e,a,t){e.exports=t(344)},344:function(e,a,t){"use strict";t.r(a),t(4);var n=t(0),r=t.n(n),l=t(55),s=(t(10),t(3),t(6),t(13),t(110),t(60),t(32),t(41),t(23),t(107),t(12),t(14),t(15),t(19),t(21),t(16),t(18),t(5),t(9),t(7),t(27)),c=t(53),i=t(2),o=t(1),u=t.n(o);function d(e){return r.a.createElement("div",{className:"wrapper--search__bestbets"},r.a.createElement("div",{className:"search__bestbets"},r.a.createElement("h2",{className:"search__bestbets__heading sr-only"},"Best bets"),r.a.createElement("ul",{className:"search__bestbets__list"},e.bestbets.slice(0,3).map((function(e,a){return r.a.createElement("li",{className:"card--search card--bestbet",key:"bestBet"+a},r.a.createElement("a",{href:e.displayUrl,className:"card__anchor card__details"},r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.titleHtml),r.a.createElement("p",{className:"card__description"},e.descriptionHtml),r.a.createElement("p",{className:"card__url"},e.displayUrl))))})))))}d.propTypes={bestbets:u.a.arrayOf(u.a.object)};var m=d;function p(e){return r.a.createElement("div",{className:"wrapper--search__othersites"},r.a.createElement("div",{className:"search__othersites"},r.a.createElement("h2",{className:"search__othersites__heading"},"Results on other City St George's sites"),e.collections.map((function(a,t){return!a.updating&&a.response&&a.response.summary.totalMatching>0?r.a.createElement("div",{className:"search__othersites__site",key:"site"+t},r.a.createElement("h3",{className:"search__othersites__site__heading"},r.a.createElement("a",{href:a.search+"?query="+e.query.query},a.label," (",a.response.summary.totalMatching,")")," ",r.a.createElement("span",{className:"fas fa-sharp fa-arrow-right icon","aria-hidden":"true"})),r.a.createElement("div",{className:"search__results"},r.a.createElement("ul",{className:"search__results__list"},a.response.results.slice(0,0).map((function(e,t){return function(e,a,t){var n=e.listMetadata.thumbnail&&r.a.createElement("div",{className:"card__thumbnail"},r.a.createElement("picture",null,r.a.createElement("img",{src:e.listMetadata.thumbnail[0],alt:""}))),l=e.liveUrl.indexOf("city.ac.uk")<0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{className:"fas fa-sharp external-link icon","aria-label":"(external link)"}));return r.a.createElement("li",{className:"card--search",key:a+t},r.a.createElement("a",{href:e.liveUrl,className:"card__details card__anchor"},n,r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h4",{className:"card__heading"},e.title,l),r.a.createElement("p",{className:"card__description"},e.listMetadata.c&&e.listMetadata.c[0]))))}(e,a.collection,t)}))))):null})),e.nonpublic.map((function(a,t){return!a.updating&&a.response&&a.response.summary.totalMatching>0?r.a.createElement("div",{className:"search__othersites__site",key:"site"+t},r.a.createElement("h3",{className:"search__othersites__site__heading"},r.a.createElement("a",{href:a.search+"?query="+e.query.query},a.label," (",a.response.summary.totalMatching,")")," ",r.a.createElement("span",{className:"far fa-sharp fa-lock-alt icon","aria-label":"Login required"}))):null})),r.a.createElement("div",{className:"search__othersites__noresults"},r.a.createElement("p",null,"No results found."))))}t(22),p.propTypes={query:u.a.object,collections:u.a.arrayOf(u.a.object),nonpublic:u.a.arrayOf(u.a.object)};var f=p;function h(e){return r.a.createElement("button",{className:"search__clear",type:"button",onClick:function(){e.clear()}},r.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon"}),r.a.createElement("span",{className:"search__clear__text"},"Clear query"))}t(69),h.propTypes={clear:u.a.func};var _=h;function y(e){var a=e.query.collection||e.config.primary[0].collection;return r.a.createElement("div",{className:"search__filter search__select ".concat(a!==e.config.primary.collections[0].collection&&"search__select--selected")},r.a.createElement("label",{htmlFor:"search__collection"},e.config.primary.collections[0].label),r.a.createElement("select",{name:"collection",id:"search__collection",onChange:function(a){return t=a.target.value,(n=e.query).startRank=1,n.misspelling=null,n.interacted=!0,n.collection=t,e.update.query(n),void e.update.results(!e.update.updateState);var t,n},value:a},e.config.primary.collections.map((function(e,a){return r.a.createElement("option",{key:a,value:e.collection.toLowerCase()},e.label)}))))}y.propTypes={config:u.a.object,query:u.a.object,update:u.a.object};var b=y;function E(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||v(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,a){if(e){if("string"==typeof e)return N(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,a):void 0}}function N(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var M="Escape",w="ArrowDown";function j(e){var a=g(Object(n.useState)(e.query.query),2),t=a[0],l=a[1],c=g(Object(n.useState)([]),2),i=c[0],o=c[1],u=g(Object(n.useState)({cancel:function(){}}),2),d=u[0],m=u[1],p=g(Object(n.useState)("search--"+e.query.collection+"--"+Math.random().toString(16).slice(-4)),1)[0],f=g(Object(n.useState)(!1),2),h=f[0],y=f[1],v=g(Object(n.useState)(""),2),N=v[0],j=v[1];Object(n.useEffect)((function(){l(e.query.query)}),[e.query.query,e.updating]);var S=null;function q(){S.focus()}var O=function(){d.cancel(),l(""),o([]),q();var a=e.query;a.misspelling=null,a.query="",a.sortType="",a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)},k=function(a){d.cancel(),o([]);var n=e.query;n.misspelling=null,n.query=a||t||"",n.sortType="",n.startRank=1,n.interacted=!0,e.update.query(n),e.update.results(!e.update.updateState)},x=t&&r.a.createElement(_,{clear:function(){O()}}),T=function(e){y(!1),o([]),q(),k(e)},A=i&&i.length>0&&r.a.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":N,className:h?"search__query__suggestions show":"search__query__suggestions hide"},E(new Set(i)).slice(0,5).map((function(e,a){return r.a.createElement("li",{key:e,role:"option",id:p+"--"+a},r.a.createElement("button",{type:"button",onBlur:function(){j(""),y(!1)},onFocus:function(){return y(!0)},onMouseDown:function(){return T(e)},onClick:function(){return T(e)},onKeyDown:function(e){switch(e.key){case M:e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),o([]),j("");break;case"ArrowUp":e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.querySelector("button")?(e.preventDefault(),e.target.parentNode.previousElementSibling.querySelector("button").focus(),j(e.target.parentNode.previousElementSibling.id)):(e.preventDefault(),e.target.parentNode.parentNode.parentNode.querySelector("input").focus(),j(""));break;case w:e.preventDefault(),e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.querySelector("button")&&(e.preventDefault(),e.target.parentNode.nextElementSibling.querySelector("button").focus(),j(e.target.parentNode.nextElementSibling.id));break;case"Home":e.preventDefault(),e.target.parentNode.parentNode.firstChild&&e.target.parentNode.parentNode.firstChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.firstChild.querySelector("button").focus(),j(e.target.parentNode.firstChild.id));break;case"End":e.preventDefault(),e.target.parentNode.parentNode.lastChild&&e.target.parentNode.parentNode.lastChild.querySelector("button")&&(e.preventDefault(),e.target.parentNode.parentNode.lastChild.querySelector("button").focus(),j(e.target.parentNode.lastChild.id))}}},function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("span",{className:"sr-only"},e),r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement("span",{className:"search__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(e,t)))}))),C=r.a.createElement("div",{className:"search__query__input"},r.a.createElement("div",{className:"search__query__icon--wrapper"},r.a.createElement("span",{className:"search__icon fal fa-sharp fa-search icon","aria-hidden":"true"})),r.a.createElement("label",{className:"sr-only",htmlFor:p},"Search"),r.a.createElement("input",{autoComplete:"off",id:p,name:"query",placeholder:e.primary[0].placeholder,ref:function(e){S=e},type:"text",value:t,onKeyDown:function(e){switch(e.key){case M:O();break;case w:i&&i.length>0&&(e.preventDefault(),e.target.parentNode.querySelector(".search__query__suggestions button").focus(),j(e.target.parentNode.querySelector(".search__query__suggestions li").id))}},onFocus:function(){return y(!0)},onBlur:function(){return y(!1)},onChange:function(a){if(o([]),l(a.target.value),d.cancel(),a.target.value){var t=g(Object(s.c)(e.query.collection,a.target.value,!!e.config.dxp&&e.config.dxp),2),n=t[0],r=t[1];m({cancel:function(){r.cancel()}}),n.then((function(e){return o(e)})).catch((function(){return o([])}))}else o([])}}),A,x),U=r.a.createElement(b,{config:e.config,query:e.query,update:e.update});return r.a.createElement("fieldset",{className:"search-form__query"},r.a.createElement("div",{className:"wrapper--search-form__query__fields"},U,r.a.createElement("div",{className:"wrapper--search-form__query__fields__input"},C,r.a.createElement("button",{type:"submit",className:"search__query__submit",onClick:function(){return k()}},r.a.createElement("span",{className:"fal fa-sharp fa-search search__query__submit__icon","aria-hidden":"true"})," ",r.a.createElement("span",{className:"search__query__submit__text"},"Search")))))}j.propTypes={config:u.a.object,query:u.a.object,update:u.a.object,primary:u.a.arrayOf(u.a.object),updating:u.a.bool};var S=j,q=t(28),O=t.n(q);function k(e){return r.a.createElement("li",{className:"cta-block__cta"},r.a.createElement("a",{className:"outline-cta--bright-square",href:"https://www.citystgeorges.ac.uk/about/people/"+e.path+"?query="+e.query},e.type.charAt(0).toUpperCase()+e.type.slice(1)))}t(51),k.propTypes={query:u.a.string,type:u.a.string,path:u.a.string};var x=k,T=t(71),A=t(114),C=[{type:"academics",path:"academics",fbRef:"academic"},{type:"students",path:"students",fbRef:"student"},{type:"research students",path:"research-students",fbRef:"research"},{type:"honorary graduates",path:"honorary-graduates",fbRef:"honorary"},{type:"past students",path:"past-students",fbRef:"alumni"},{type:"professional services staff",path:"professional-services-staff",fbRef:"professional"},{type:"international",path:"international",fbRef:"agent"}];function U(e,a){if(e){if("string"==typeof e)return R(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,a):void 0}}function R(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function D(e,a,t){var n=a&&r.a.createElement("p",{className:"card__label"},a),l=e.liveUrl.indexOf("citystgeorges.ac.uk")<0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{className:"ee fas fa-sharp fa-external-link icon","aria-label":"(external link)"}));return r.a.createElement("li",{className:"card--search",key:"all"+t},r.a.createElement("a",{href:e.liveUrl,className:"card__details card__anchor"},r.a.createElement("div",{className:"card__details__text"},n,r.a.createElement("h3",{className:"card__heading"},e.title,l),r.a.createElement("p",{className:"card__description"},e.listMetadata.c&&e.listMetadata.c[0]),r.a.createElement("p",{className:"card__url"},e.liveUrl))))}function I(e){var a=[],t=e.finders.filter((function(e){return"People"===e.label&&e.response}));if(JSON.stringify(t).indexOf("allValues")>-1){var l,s=function(e,a){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=U(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,l=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw l}}}}(t[0].response.facets[0].allValues);try{for(s.s();!(l=s.n()).done;){var c=l.value;a.push(c.data)}}catch(e){s.e(e)}finally{s.f()}}var i=function(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||U(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(n.useState)(0),2),o=i[0],u=i[1],d=function(e){return r.a.createElement("p",{className:"search__results__updating","aria-live":"polite"},r.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Updating ",e,"…"))},m=r.a.createElement("ul",{className:"tabs__links",role:"tablist"},r.a.createElement("li",{key:"tabs__links__primary"},r.a.createElement("button",{role:"tab",id:"link--search443531__tabs__"+e.primary[0].collection,title:e.primary[0].label,"aria-selected":0===o,"aria-current":0===o,onClick:function(){return u(0)}},r.a.createElement("span",null,e.primary[0].label," (",e.primary[0].updating?r.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-label":"Updating…"}):e.primary[0].response&&e.primary[0].response.summary.totalMatching,")"))),e.finders.map((function(e,a){return r.a.createElement("li",{key:"tabs__links__finder"+a,role:"presentation"},r.a.createElement("button",{id:"link--search443531__tabs__"+e.collection,title:e.label,"aria-selected":o===a+1,"aria-current":o===a+1,onClick:function(){return u(a+1)}},r.a.createElement("span",null,e.label," (",e.updating||!e.response?r.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-label":"Updating…"}):e.response.summary.totalMatching,")")))}))),p=e.primary[0].response&&e.primary[0].response.summary.totalMatching>e.primary[0].response.summary.numRanks&&r.a.createElement(A.a,{currStart:e.primary[0].response.summary.currStart,numRanks:e.primary[0].response.summary.numRanks,query:e.query,totalMatching:e.primary[0].response.summary.totalMatching,update:e.update}),f=e.primary[0]&&e.primary[0].response&&e.primary[0].response.spell&&r.a.createElement("p",null,"Did you mean"," ",r.a.createElement("a",{href:"search?".concat(e.primary[0].response.spell.url)},e.primary[0].response.spell.text),"?"),h=r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"tabs__panel",id:"search443531__tabs__"+e.primary[0].collection,"aria-labelledby":"link--search443531__tabs__"+e.primary[0].collection,key:"primary",role:"tabpanel",tabIndex:"-1",hidden:0!==o},r.a.createElement("h2",{className:"tabs__panel__heading sr-only"},e.primary[0].label),r.a.createElement("div",{className:"tabs__panel__body"},e.primary[0].updating?d("results"):e.primary[0].response&&e.primary[0].response.summary.totalMatching>0?r.a.createElement("div",{className:"search__results"},r.a.createElement("div",{className:"search__results__summary"},r.a.createElement("h3",{"aria-live":"polite",className:"search__results__summary__heading"},r.a.createElement("span",null,"(showing"," ",r.a.createElement("span",null,e.primary[0].response.summary.currStart),"–",r.a.createElement("span",null,e.primary[0].response.summary.currEnd)," ","of"," ",r.a.createElement("span",null,e.primary[0].response.summary.totalMatching)," ",0===e.primary[0].response.summary.totalMatching?"results":1===e.primary[0].response.summary.totalMatching?"result":"results",")"))),r.a.createElement("ol",{className:"search__results__list",start:e.primary[0].response.summary.currStart},e.primary[0].response.results.map((function(e,a){switch(e.collection){case"web2020-residentialhalls":return D(e,"Residential hall",a);case"web2020-business-impact":case"web2020-research":return D(e,"Case study",a);case"web2020-centres":return D(e,"Research centre",a);case"web2020-courses":return D(e,"Course",a);case"web2020-events":return D(e,"Event",a);case"web2020-facilities":return D(e,"Facility",a);case"web2020-locations":return D(e,"Location",a);case"web2020-pathways":return D(e,"Career pathway",a);case"web2020-funding":return D(e,"Funding",a);case"web2020-news":return D(e,"News",a);case"web2020-profiles":return D(e,"Profile",a);default:return D(e,null,a)}}))),p):r.a.createElement("div",{className:"search__results__summary search__results__summary--noresults"},r.a.createElement("h3",{className:"search__results__summary__heading"},"Your search did not match any results."),f,r.a.createElement("p",null,"Suggestions:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Make sure that all words are spelled correctly"),r.a.createElement("li",null,"Try different keywords"),r.a.createElement("li",null,"Try more general keywords"),r.a.createElement("li",null,"Try fewer keywords"))))),e.finders.map((function(t,n){return r.a.createElement("section",{className:"tabs__panel",id:"search443531__tabs__"+t.collection,"aria-labelledby":"link--search443531__tabs__"+t.collection,key:"finder"+n,role:"tabpanel",tabIndex:"-1",hidden:o!==n+1},r.a.createElement("h2",{className:"tabs__panel__heading sr-only"},t.label),r.a.createElement("div",{className:"tabs__panel__body"},t.updating||!t.response?d(t.summariseAs.plural):t.response.summary.totalMatching>0?r.a.createElement("div",{className:"search__results"},r.a.createElement("div",{className:"search__results__summary"},r.a.createElement("h3",{"aria-live":"polite",className:"search__results__summary__heading"},r.a.createElement("span",null,"(showing"," ",r.a.createElement("span",null,t.response&&t.response.summary.currStart),"–",r.a.createElement("span",null,t.response&&t.response.summary.currEnd)," ","of"," ",r.a.createElement("span",null,t.response&&t.response.summary.totalMatching)," ",t.response&&0===t.response.summary.totalMatching?t.summariseAs.plural:t.response&&1===t.response.summary.totalMatching?t.summariseAs.singular:t.summariseAs.plural,")"))),r.a.createElement("ol",{className:"search__results__list",start:t.response&&t.response.summary.currStart},t.response&&t.response.results.map((function(a,n){return r.a.createElement(T.a,{bestBet:!1,details:a,key:t.collection+n,type:t.resultCard,query:e.query})}))),t.response&&t.response.summary.totalMatching>t.response.summary.currEnd&&"people"!==t.summariseAs.plural&&t.search&&r.a.createElement("p",{className:"search__results__more"},r.a.createElement("a",{href:t.search+"?query="+e.query.query},"Browse more"," ",t.summariseAs.plural," ")," ",r.a.createElement("span",{className:"fas fa-sharp fa-arrow-right icon","aria-hidden":"true"})),t.response&&t.response.summary.totalMatching>t.response.summary.currEnd&&"people"===t.summariseAs.plural&&t.search&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search__results__browse-more"},r.a.createElement("h3",null,"Browse more people"),r.a.createElement("ul",{className:"cta-block cta-block--inline"},C.map((function(e,n){if(a.includes(e.fbRef))return r.a.createElement(x,{key:n,query:t.response.query,path:e.path,type:e.type})})))))):r.a.createElement("p",{className:"search__summary__noresults"},"No matching ",t.summariseAs.plural,"."," ",t.search&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t.search},"Browse"," ",t.summariseAs.plural," ","instead")," ",r.a.createElement("span",{className:"fas fa-sharp fa-arrow-right icon","aria-hidden":"true"})))))})));return r.a.createElement("div",{className:"tabs wrapper--search__results",onKeyDown:function(a){return function(a){switch(a.key){case"ArrowLeft":e.element.querySelector(".tabs__links li:nth-child(".concat(0!==o?o:1,") button")).focus(),0!==o&&u(o-1);break;case"ArrowRight":e.element.querySelector(".tabs__links li:nth-child(".concat(o!==e.finders.length?o+2:o+1,") button")).focus(),o!==e.finders.length&&u(o+1);break;case"ArrowUp":e.element.querySelector('.tabs__links button[aria-current="true"]').focus();break;case"ArrowDown":e.element.querySelector(".tabs__panel:not([hidden])").focus();break;case"Home":u(0);break;case"End":u(e.finders.length)}}(a)}},m,h)}I.propTypes={config:u.a.object,element:u.a.object,finders:u.a.arrayOf(u.a.object),primary:u.a.arrayOf(u.a.object),query:u.a.object,update:u.a.object};var L=I;function P(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"==typeof e)return F(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var B=Object(i.p)()?0:1e3;function H(e){var a=new URLSearchParams(window.location.search),t={collection:a.get("collection")||e.config.primary.collections[0].collection,interacted:!1,misspelling:null,numRanks:a.get("num_ranks")||e.config.primary.numRanks,query:a.get("query")||"",sortType:"",startRank:a.get("start_rank")||1},l=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),i={primary:e.config.primary.collections.map((function(e){return{label:e.label,collection:e.collection,placeholder:e.placeholder,response:l,search:e.search,updating:!1,call:{cancel:function(){}}}})),finders:e.config.finders.map((function(e){return{label:e.label,summariseAs:e.summariseAs,resultCard:e.resultCard,search:e.search,collection:e.collection,response:l,updating:!1,call:{cancel:function(){}}}})),nonpublic:e.config.nonpublic.map((function(e){return{label:e.label,collection:e.collection,response:l,search:e.search,updating:!1,call:{cancel:function(){}}}}))},o=P(Object(n.useState)(0),2),u=(o[0],o[1]),d=P(Object(n.useState)(t),2),p=d[0],h=d[1],_=P(Object(n.useState)(i),2),y=_[0],b=_[1],E=P(Object(n.useState)(!1),2),g=E[0],v=E[1];Object(n.useEffect)((function(){!function(e,a,t,n){if(window){var r=new URLSearchParams(window.location.search);""!==e?r.set("query",e):r.delete("query"),1!==a?r.set("start_rank",a):r.delete("start_rank"),t!==n?r.set("collection",t):r.delete("collection");var l=r.toString().length?"?":"";window.history.replaceState({},"","".concat(window.location.pathname).concat(l).concat(r.toString()))}}(p.query,p.startRank,p.collection,e.config.primary.collections[0].collection),p.query.length>0?(p.interacted&&e.element.querySelector(".search__results")&&O.a.center(e.element.querySelector(".search__results"),B,-window.innerHeight/10),e.config.primary.collections.forEach((function(e,a){y.primary[a].call.cancel();var t=P(Object(s.a)(e.collection,[],[],p.query,"",p.startRank,p.numRanks,[],[]),2),n=t[0],r=t[1],i=y;i.primary[a].call={cancel:function(){r.cancel()}},i.primary[a].updating=!0,b(i),u(Math.random()),n.then((function(e){var t=y;t.primary[a].response=Object(c.a)(e),t.primary[a].updating=!1,b(t),u(Math.random())})).catch((function(){var e=y;e.primary[a].response=l,e.primary[a].updating=!1,b(e),u(Math.random())}))})),e.config.finders.forEach((function(a,t){y.finders[t].call.cancel();var n=P(Object(s.a)(a.collection,[],[],p.query,"",1,a.numRanks,[],[]),2),r=n[0],i=n[1],o=y;o.finders[t].call={cancel:function(){i.cancel()}},o.finders[t].updating=!0,b(o),u(Math.random()),r.then((function(e){var a=y;a.finders[t].response=Object(c.a)(e),a.finders[t].updating=!1,b(a),u(Math.random())})).then((function(){e.element.querySelector(".tabs__links")&&p.interacted&&O.a.center(e.element.querySelector(".tabs__links"),B)})).catch((function(){var e=y;e.finders[t].response=l,e.finders[t].updating=!1,b(e),u(Math.random())}))})),e.config.nonpublic.forEach((function(e,a){y.nonpublic[a].call.cancel();var t=P(Object(s.a)(e.collection,[],[],p.query,"",1,0,[],[]),2),n=t[0],r=t[1],i=y;i.nonpublic[a].call={cancel:function(){r.cancel()}},i.nonpublic[a].updating=!0,b(i),u(Math.random()),n.then((function(e){var t=y;t.nonpublic[a].response=Object(c.a)(e),t.nonpublic[a].updating=!1,b(t),u(Math.random())})).catch((function(){var e=y;e.nonpublic[a].response=l,e.nonpublic[a].updating=!1,b(e),u(Math.random())}))}))):b(i)}),[g]);var N={query:function(e){return h(e)},results:function(e){return v(e)},updateState:g},M=r.a.createElement(S,{config:e.config,query:p,update:N,primary:y.primary.filter((function(e){return e.collection===p.collection})),updating:y.primary[0].updating}),w=p.query&&!y.primary[0].updating&&r.a.createElement(f,{query:p,collections:y.primary.filter((function(e){return e.collection!==p.collection})),nonpublic:y.nonpublic}),j=p.query&&!y.primary[0].updating&&y.primary[0].response&&y.primary[0].response.bestBets&&r.a.createElement(m,{bestbets:y.primary[0].response.bestBets}),q=p.query&&r.a.createElement(L,{config:e.config,query:p,update:N,primary:y.primary.filter((function(e){return e.collection===p.collection})),finders:y.finders,element:e.element});return r.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault()}},M,j,q,w)}H.propTypes={config:u.a.object,element:u.a.object};var J=H,$=(t(26),t(52)),W=t.n($);function Y(e){return r.a.createElement("button",{className:"search--inline__clear",type:"button",onClick:function(){e.clear()}},r.a.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon "}),r.a.createElement("span",{className:"search--inline__clear__text"},"Clear query"))}Y.propTypes={clear:u.a.func};var z=Y;function K(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"==typeof e)return V(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function G(e){var a=K(Object(n.useState)(e.query.query),2),t=a[0],l=a[1],s=K(Object(n.useState)("search--inline--"+e.query.collection+"--"+Math.random().toString(16).slice(-4)),1)[0];Object(n.useEffect)((function(){l(e.query.query)}),[e.query.query,e.updating]);var c=null,i=function(){l(""),c.focus();var a=e.query;a.query="",a.startRank=1,e.update.query(a),e.update.results(!e.update.updateState)},o=t&&r.a.createElement(z,{clear:function(){i()}}),u=r.a.createElement("div",{className:"search--inline__query__input"},r.a.createElement("div",{className:"search--inline__query__icon--wrapper"},r.a.createElement("span",{className:"search--inline__icon fal fa-sharp fa-search icon","aria-hidden":"true"})),r.a.createElement("label",{className:"sr-only",htmlFor:s},"Search"),r.a.createElement("input",{autoComplete:"off",id:s,name:"query",placeholder:e.config.placeholder,ref:function(e){c=e},type:"text",required:!0,value:t,onKeyDown:function(e){"Escape"===e.key&&i()},onChange:function(a){l(a.target.value),function(a){var t=e.query;t.query=a,t.startRank=1,e.update.query(t),e.update.results(!e.update.updateState)}(a.target.value)}}),o);return r.a.createElement("fieldset",{className:"search--inline__query"},r.a.createElement("div",null,u,r.a.createElement("button",{type:"submit",className:"search--inline__query__submit"},r.a.createElement("span",{className:"search--inline__query__submit__content"},r.a.createElement("span",{className:"fas fa-sharp fa-search search--inline__query__submit__icon","aria-hidden":"true"})," ",r.a.createElement("span",{className:"search--inline__query__submit__text"},"Search")))))}G.propTypes={config:u.a.object,query:u.a.object,update:u.a.object,updating:u.a.bool};var Q=G;function X(e){return r.a.createElement("div",{className:"search--inline__suggestions"},r.a.createElement("h3",null,"Suggestions"),r.a.createElement("ul",null,e.suggestions.map((function(a,t){var n=a.replace(/\s+/g,"+"),l=function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("span",{className:"sr-only"},e),r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement("span",{className:"search--inline__suggestion"},e.slice(e.indexOf(a.toLowerCase()),a.length)),e.slice(e.indexOf(a.toLowerCase())+a.length))))}(a,e.query.query);return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"/search?query=".concat(n)},l))}))))}X.propTypes={query:u.a.object,suggestions:u.a.arrayOf(u.a.string)};var Z=X;function ee(e,a){var t=e.listMetadata.thumbnail&&r.a.createElement("div",{className:"card__thumbnail"},r.a.createElement("picture",null,r.a.createElement("img",{src:e.listMetadata.thumbnail[0],alt:""}))),n=a&&r.a.createElement("p",{className:"card__label"},a),l=e.liveUrl.indexOf("citystgeorges.ac.uk")<0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"}));return r.a.createElement("li",{className:"card--search",key:e.docNum},r.a.createElement("a",{href:e.liveUrl,className:"card__details card__anchor"},t,r.a.createElement("div",{className:"card__details__text"},n,r.a.createElement("h4",{className:"card__heading"},e.title,l),r.a.createElement("p",{className:"card__description"},e.listMetadata.c&&e.listMetadata.c[0]),r.a.createElement("p",{className:"card__url"},e.liveUrl))))}function ae(e){return r.a.createElement("div",{className:"search--inline__topresults"},r.a.createElement("h3",null,"Top results"),r.a.createElement("ul",null,e.results.map((function(e){switch(e.collection){case"web2020-residentialhalls":return ee(e,"Residential hall");case"web2020-business-impact":case"web2020-research":return ee(e,"Case study");case"web2020-centres":return ee(e,"Research centre");case"web2020-courses":return ee(e,"Course");case"web2020-events":return ee(e,"Event");case"web2020-facilities":return ee(e,"Facility");case"web2020-locations":return ee(e,"Location");case"web2020-pathways":return ee(e,"Career pathway");case"web2020-funding":return ee(e,"Funding");case"web2020-news":return ee(e,"News");case"web2020-profiles":return ee(e,"Profile");default:return ee(e,null)}}))))}ae.propTypes={query:u.a.object,results:u.a.arrayOf(u.a.object)};var te=ae;function ne(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"==typeof e)return re(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?re(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var le=null,se=function(){return le};function ce(e){var a=ne(Object(n.useState)(!1),2),t=a[0],l=a[1],i=ne(Object(n.useState)({}),2),o=i[0],u=i[1],d={collection:e.config.collection,misspelling:null,numRanks:e.config.numRanks,query:"",startRank:1,facets:[],fixedFacets:[],fixedParameters:[],parameters:[]},m=Object.freeze({bestBets:[],facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),p=[],f=ne(Object(n.useState)(d),2),h=f[0],_=f[1],y=ne(Object(n.useState)(m),2),b=y[0],E=y[1],g=ne(Object(n.useState)(p),2),v=g[0],N=g[1],M=ne(Object(n.useState)(!1),2),w=M[0],j=M[1],S=ne(Object(n.useState)(!1),2),q=S[0],O=S[1],k=ne(Object(n.useState)({cancel:function(){}}),2),x=k[0],T=k[1],A=ne(Object(n.useState)(!1),2),C=A[0],U=A[1],R=ne(Object(n.useState)({cancel:function(){}}),2),D=R[0],I=R[1];Object(n.useEffect)((function(){j(!0),O(!0),x.cancel(),D.cancel();var e=ne(Object(s.a)(h.collection,h.fixedFacets,h.fixedParameters,h.query,h.sortType,h.startRank,h.numRanks,h.facets,h.parameters),2),a=e[0],t=e[1],n=ne(Object(s.c)(h.collection,h.query),2),r=n[0],l=n[1];T({cancel:function(){t.cancel()}}),I({cancel:function(){l.cancel()}}),a.then((function(e){E(Object(c.a)(e)),j(!1)})).catch((function(){E(m),j(!1)})),r.then((function(e){e&&(N(e),O(!1))})).catch((function(){N(p)}))}),[C]);var L={query:function(e){return _(e)},results:function(e){return U(e)},updateState:C},P=function(e){return r.a.createElement("p",{className:"search--inline__results__updating search--inline__results__updating--".concat(e.replace(/ /g,"")),"aria-live":"polite"},r.a.createElement("span",{className:"fas fa-sharp fa-spinner fa-pulse icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Updating ",e,"…"))};Object(n.useEffect)((function(){o.activate||u(W()(se(),{initialFocus:se().querySelector("input"),onDeactivate:function(){return l(!1)},clickOutsideDeactivates:!0})),t?o.activate&&o.activate():o.deactivate&&o.deactivate()}),[t,o]);var F="global-header__search__icon far fa-sharp fa-fw ".concat(t?"fa-xmark":"fa-search"),B="".concat(t?"Close search":"Open search"),H=t&&r.a.createElement("div",{className:"veil--search","data-on":"true"}),J=r.a.createElement("button",{className:"global-header__search__button",type:"button",id:"search","aria-expanded":t,"aria-label":B,onClick:function(){l(!t)}},r.a.createElement("div",{className:"global-header__search__wrapper"},r.a.createElement("span",{className:"global-header__search__text"},t?"Close":"Search"),r.a.createElement("span",{className:F,"aria-hidden":"true"}))),$=r.a.createElement("button",{className:"global-header__search__button",type:"button",id:"modal-search","aria-expanded":t,onClick:function(){l(!t)}},r.a.createElement("div",{className:"global-header__search__wrapper"},r.a.createElement("span",{className:"global-header__search__text"},t?"Close":"Search"),r.a.createElement("span",{className:F,"aria-hidden":"true"}))),Y=r.a.createElement(Q,{config:e.config,query:h,update:L,updating:w}),z=q?P("suggestions"):v&&v.length>0?r.a.createElement(Z,{query:h,suggestions:v.slice(0,10)}):null,K=w?P("top results"):b&&b.results.length>0?r.a.createElement(te,{query:h,results:b.results}):null;return r.a.createElement(r.a.Fragment,null,J,r.a.createElement("div",{className:"global-header__search__modal",ref:function(e){return le=e}},r.a.createElement("div",{className:"global-header__search__modal__header"},r.a.createElement("div",{className:"header-logo header-logo--city"},r.a.createElement("div",{className:"header-logo__responsive"},r.a.createElement("a",{href:"https://www.citystgeorges.ac.uk",rel:"home"},r.a.createElement("img",{className:"logo",src:"https://www.citystgeorges.ac.uk/__data/assets/file/0007/860452/city-st-georges-white-responsive-logo.svg",width:"180",alt:"City St George's, University of London"})))),$),r.a.createElement("div",{className:"global-header__search__modal__body"},r.a.createElement("h2",null,"What are you looking for?"),r.a.createElement("form",{action:"/search",method:"get"},Y),r.a.createElement("div",{className:"global-header__search__modal__body__results"},z,K))),H)}ce.propTypes={config:u.a.object,element:u.a.object};var ie=ce;document.addEventListener("DOMContentLoaded",(function(){if(!/(Trident|MSIE)/.test(navigator.userAgent)){var e=document.querySelector(".wrapper--search"),a=document.querySelector(".global-header__search");a&&Object(s.b)(a.dataset.config).then((function(e){Object(l.render)(r.a.createElement(ie,{config:e,element:a}),a)})),e&&Object(s.b)(e.dataset.config).then((function(a){Object(l.render)(r.a.createElement(J,{config:a,element:e}),e)}))}}))},44:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t(24),t(12),t(19),t(3),t(165),t(143),t(4),t(16),t(18),t(10),t(6),t(13);var n=t(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,a){for(var t in e)t===a?delete e[t]:"object"===r(e[t])&&l(e[t],a)}function s(e,a,t,r){var s=t&&1+(t-1)*r,c=JSON.parse(JSON.stringify(e));a&&"tag"===a.type&&l(c,a.meta);var i=Object(n.h)(c);return"?"+Object.entries(i).filter((function(e){var a=Object.values(e);if(""===a[1])return!1;switch(a[0]){case"interacted":case"num_rank":case"start_rank":return!1;default:return!0}})).map((function(e){var t=Object.values(e);if(/fixedParameters/.test(t[0]))return encodeURIComponent(t[0].substring(16))+"="+encodeURIComponent(t[1]);if(/fixedFacets/.test(t[0]))return encodeURIComponent("meta_".concat(t[0].substring(12),"_sand"))+"="+encodeURIComponent(t[1]);if(/parameters/.test(t[0]))return encodeURIComponent(t[0].substring(11))+"="+encodeURIComponent(t[1]);switch(t[0]){case"collection":case"query":return encodeURIComponent(t[0])+"="+encodeURIComponent(t[1]);case"sortType":return encodeURIComponent("sort")+"="+encodeURIComponent(t[1]);case"startRank":return encodeURIComponent("start_rank")+"="+encodeURIComponent(a?t[1]:s);case"numRanks":return encodeURIComponent("num_rank")+"="+encodeURIComponent(t[1]);default:return encodeURIComponent("meta_".concat(t[0],"_sand"))+"="+encodeURIComponent(t[1])}})).join("&")}},53:function(e,a,t){"use strict";function n(e){var a={};return a.query=e.question.originalQuery,a.inputParameters=e.question.inputParameters,a.spell=e.response.resultPacket.spell,a.summary=e.response.resultPacket.resultsSummary,a.bestBets=e.response.curator.exhibits,a.results=e.response.resultPacket.results,a.facets=e.response.facets,a.extraSearches=e.extraSearches,a}t.d(a,"a",(function(){return n}))},71:function(e,a,t){"use strict";t(24),t(4),t(35),t(42),t(12),t(19),t(3),t(30),t(51),t(26),t(5),t(57);var n=t(0),r=t.n(n),l=t(1),s=t.n(l),c=t(2);function i(e){var a=function(e){return Math.floor(e/60)>0?Math.floor(e/60)+" hour "+e%60:e},t=e.details.listMetadata.thumbnail[0]&&r.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),n=e.details.listMetadata.level&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",r.a.createElement("span",{className:"sr-only"},"Level:")," ",r.a.createElement("span",null,Object(c.u)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),l=Object.keys(e.details.listMetadata).filter((function(a){return["accessible","catered","ensuite"].includes(a)&&"Yes"===e.details.listMetadata[a][0]})).map((function(e){return e.replace(/ensuite/,"en suite")})).sort().join(", "),s=e.details.listMetadata.type&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",{className:"sr-only"},"Type:")," ",r.a.createElement("span",null,e.details.listMetadata.type.length>2?Object(c.u)(e.details.listMetadata.type.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.u)(e.details.listMetadata.type.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.type.join("|")).split("|").join(" or "),l&&" ("+l+")")),i=e.details.listMetadata.price&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",r.a.createElement("span",{className:"sr-only"},"Price:")," ",r.a.createElement("span",null,e.details.listMetadata.price[0]," (",e.details.listMetadata.deposit[0]," deposit)")),o=e.details.listMetadata.transport&&r.a.createElement(r.a.Fragment,null," ","(",a(e.details.listMetadata.transport[0])," ","minutes by public transport)"),u=e.details.listMetadata.location&&e.details.listMetadata.location[0]?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"sr-only"},"Distance to")," ",r.a.createElement("div",{className:"card__details__location card__details__location-".concat(e.details.listMetadata.location[0].trim().replace(" ","-").toLowerCase())},r.a.createElement("span",{className:"fas fa-fw fa-location-dot icon","aria-hidden":"true"})," ",r.a.createElement("span",null,e.details.listMetadata.location[0]),r.a.createElement("span",{className:"sr-only"}," campus"))):r.a.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:"),d=e.details.listMetadata.walk&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",u,r.a.createElement("span",null,a(e.details.listMetadata.walk[0])," minutes walk to campus",o));return r.a.createElement("li",{className:"card card--accommodation"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},t,r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title),d,s,i,n)))}i.propTypes={details:s.a.object};var o=i;function u(e){var a=e.details.listMetadata.status?r.a.createElement("p",{className:"card__type"},e.details.listMetadata.status[0]):e.details.listMetadata.type&&r.a.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),t=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),n=e.details.listMetadata.department&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Department:")," ",r.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),l=e.details.listMetadata.centre&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Research centre:")," ",r.a.createElement("span",null,e.details.listMetadata.centre.length>2?e.details.listMetadata.centre.slice(0,-1).join(", ")+", and "+e.details.listMetadata.centre.slice(-1):e.details.listMetadata.centre.join(", and ")));return r.a.createElement("li",{className:"card card--casestudy"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title),a,r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),t,n,l)))}u.propTypes={details:s.a.object};var d=u;function m(e){var a=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),t=e.details.listMetadata.department&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Department:")," ",r.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.listMetadata.related&&r.a.createElement("p",{className:"card__type"},e.details.listMetadata.related.length>2?Object(c.u)(e.details.listMetadata.related.join("|")).split("|").slice(0,-1).join(", ")+" and "+Object(c.u)(e.details.listMetadata.related.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.related.join("|")).split("|").join(" and "));return r.a.createElement("li",{className:"card card--centre"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title),n,r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t)))}m.propTypes={details:s.a.object,query:s.a.object};var p=m;function f(e){var a=e.details.listMetadata.department&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),t=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",e.details.listMetadata.school[0]),n=e.details.listMetadata.jobtitle&&r.a.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle[0]),l=e.details.listMetadata.email&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Email:")," ",r.a.createElement("a",{href:"mailto:"+e.details.listMetadata.email[0]},e.details.listMetadata.email[0])),s=e.details.listMetadata.altemail&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fad fa-user icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Executive Assistant:")," ",r.a.createElement("a",{href:"mailto:"+e.details.listMetadata.altemail[0]},e.details.listMetadata.altemail[0])),c=e.details.listMetadata.telephone&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Telephone:")," ",r.a.createElement("a",{href:"tel:"+e.details.listMetadata.telephone[0]},e.details.listMetadata.friendlytelephone[0])),i=e.details.listMetadata.room&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Room:")," ",e.details.listMetadata.room[0]),o=e.details.listMetadata.enquiryurl&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-edit icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Enquiries:")," ",r.a.createElement("a",{href:e.details.listMetadata.enquiryurl[0]},e.details.listMetadata.enquirylabel[0]));return r.a.createElement("li",{className:"card card--contact"},r.a.createElement("div",{className:"card__details"},r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title),n,t,a,i,l,c,o,s)))}f.propTypes={details:s.a.object};var h=f,_=(t(22),t(7),t(6),t(10),t(69),t(13),t(162),t(54),t(23),function(e,a){return a?e:r.a.createElement(r.a.Fragment,null,e.split(a).reduce((function(e,t,n){return n?e.concat(r.a.createElement("span",{className:"highlightText",key:a+t},a),t):[t]}),[]))}),y=["www.citystgeorges.ac.uk"];function b(e){var a=e.details.listMetadata.type&&e.details.listMetadata.type[0]||e.details.listMetadata.level&&e.details.listMetadata.level[0]||null,t=e.details.listMetadata.qualification&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Award",e.details.listMetadata.qualification.length>1&&"s",":")," ",r.a.createElement("span",null,e.details.listMetadata.qualification.join(", "))),n=e.details.listMetadata.duration&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Duration:")," ",r.a.createElement("span",null,e.details.listMetadata.duration[0])),l=e.details.listMetadata.method&&"Short courses and professional development"!==e.details.listMetadata.level[0]&&(e.query.facets&&e.query.facets.method||e.query.query.indexOf(e.details.listMetadata.method[0])>=0||e.details.listMetadata.method[0].indexOf("Online")>=0)&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fa-solid fa-book-open-reader icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Method",e.details.listMetadata.method.length>1&&"s"," of study:")," ",r.a.createElement("span",null,Object(c.u)(Array.from(new Set(e.details.listMetadata.method)).join("|")).split("|").join(", "))),s="tooting"!==String(e.details.listMetadata.location).toLowerCase()?e.details.listMetadata.location&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Location:")," ",r.a.createElement("span",null,"Online|Online"===e.details.listMetadata.location.join("|")?"Online":e.details.listMetadata.location.join(", "))):null,i=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.map((function(e,a){return 0===a?r.a.createElement(r.a.Fragment,{key:a},e.replace("and","&")):r.a.createElement(r.a.Fragment,{key:a},"| ",e)})))),o="tooting"===String(e.details.listMetadata.location).toLowerCase()?r.a.createElement("div",{className:"card__label card--course__label--stgeorges"},r.a.createElement("p",null,r.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ","Tooting Campus")):null,u=e.details.listMetadata.clearing&&["Yes","yes"].includes(e.details.listMetadata.clearing[0])&&r.a.createElement("div",{className:"card__label card--course__label--clearing"},r.a.createElement("p",{className:"card__label card--course__label--clearing"},"Clearing")),d=y.some((function(a){return e.details.indexUrl.indexOf(a)>=0}))?null:r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"})),m=e.details.listMetadata.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some((function(a){return e.details.listMetadata.level.indexOf(a)>=0}))||e.query.query.indexOf(e.details.listMetadata.code)>=0)?r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Course code",e.details.listMetadata.code.length>1&&"s",":")," ",r.a.createElement("span",null,e.details.listMetadata.code.join("/"))):null,p=e.details.listMetadata.entryyears&&(["Undergraduate degree"].some((function(a){return e.details.listMetadata.level.indexOf(a)>=0}))||e.query.query.indexOf(e.details.listMetadata.entryyears)>=0)?r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-calendar icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Year",e.details.listMetadata.entryyears.length>1&&"s"," ","of entry:")," ",r.a.createElement("span",null,e.details.listMetadata.entryyears.join("/"))):null,f=e.details.listMetadata.c&&e.details.listMetadata.c[0]&&r.a.createElement("p",{className:"card__description"},e.query.query?_(e.details.listMetadata.c[0],e.query.query):e.details.listMetadata.c[0]);return r.a.createElement("li",{className:"card card--course"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.a.createElement("div",{className:"wrapper--card__label__details"},u,r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.query.query?_(e.details.title,e.query.query):e.details.title,d),r.a.createElement("p",{className:"card__type"},e.query.query?_(a,e.query.query):a&&a),f,o,i,t,n,m,p,l,s))))}b.propTypes={details:s.a.object,query:s.a.object};var E=b;function g(e){var a,t,n,l,s,i,o,u,d,m,p,f=e.details.listMetadata.d&&(d=e.details.listMetadata.d[0],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][(m=new Date(d)).getUTCMonth()],r.a.createElement("p",{className:"card--event__label--shortdate"},r.a.createElement("span",null,m.getUTCDate())," ",p)),h=e.details.listMetadata.location&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw icon fa-map-marker-alt","aria-hidden":"true"})," ",r.a.createElement("span",null,"Location:")," ",r.a.createElement("span",null,e.details.listMetadata.location.join(", "))),_=e.details.listMetadata.audience&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw icon fa-users","aria-hidden":"true"})," ",r.a.createElement("span",null,"Audience:")," ",r.a.createElement("span",null,Array.from(new Set(e.details.listMetadata.audience)).map((function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1)).replace(/-/g," ")})).join("|").split("|").join("; "))),y=e.details.listMetadata.thumbnail&&r.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),b=(a=e.details.listMetadata.d&&e.details.listMetadata.d[0],t=e.details.listMetadata.d&&e.details.listMetadata.d[1],n=parseInt(e.details.listMetadata.displayTime&&e.details.listMetadata.displayTime[0]),l=new Date(a),s=new Date(t),i=new Date(l.setUTCHours(0,0,0)),o=new Date(s.setUTCHours(0,0,0)),u=n?r.a.createElement(r.a.Fragment,null,", ",Object(c.j)(a)," - ",Object(c.j)(t,!0)):null,i.getTime()===o.getTime()?r.a.createElement("p",{className:"card__type true"},Object(c.i)(l),u):r.a.createElement("p",{className:"card__type false"},Object(c.i)(l)," - ",Object(c.i)(s),u));return r.a.createElement("li",{className:"card card--event card--landscape"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},y,f,r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title),r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),b,h,_)))}t(32),t(39),g.propTypes={details:s.a.object};var v=g;function N(e){var a=e.details.listMetadata.school&&e.query.facets&&e.query.facets.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", or "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", or "))),t=e.details.listMetadata.hardship&&"1"===e.details.listMetadata.hardship[0]&&r.a.createElement("div",{className:"card--funding__label--hardship"},r.a.createElement("p",null,"Hardship funding")),n=e.details.listMetadata.programme&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Programme",e.details.listMetadata.programme.length>2?"s":null,":")," ",r.a.createElement("span",null,e.details.listMetadata.programme.length>2?Object(c.u)(e.details.listMetadata.programme.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.u)(e.details.listMetadata.programme.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.programme.join("|")).split("|").join(" or "))),l=e.details.listMetadata.level&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Programme level:")," ",r.a.createElement("span",null,e.details.listMetadata.level.length>2?Object(c.u)(e.details.listMetadata.level.join("|")).split("|").slice(0,-1).join(", ")+" or "+Object(c.u)(e.details.listMetadata.level.join("|")).split("|").slice(-1):Object(c.u)(e.details.listMetadata.level.join("|")).split("|").join(" or "))),s=e.details.listMetadata.feestatus&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Fee status:")," ",r.a.createElement("span",null,e.details.listMetadata.feestatus.length>2?e.details.listMetadata.feestatus.slice(0,-1).join(", ")+" or "+e.details.listMetadata.feestatus.slice(-1):e.details.listMetadata.feestatus.join(" or ")));return r.a.createElement("li",{className:"card card--funding"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},t,r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title.replace("&amp;","&")),r.a.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),l,n,s,a)))}N.propTypes={details:s.a.object,query:s.a.object};var M=N;function w(e){var a=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),t=e.details.listMetadata.department&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Department:")," ",r.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.title&&r.a.createElement("h3",{className:"card__heading"},e.details.title.indexOf("School")>=0?e.details.title.replace("&amp;","&"):e.details.title);return r.a.createElement("li",{className:"card card--generic"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.a.createElement("div",{className:"card__details__text"},n,r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t)))}w.propTypes={details:s.a.object};var j=w;function S(e){var a=e.details.listMetadata.location&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Location:")," ",r.a.createElement("span",null,e.details.listMetadata.location[0])),t=e.details.listMetadata.code?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"card--module__code"},e.details.listMetadata.code[0])," ",r.a.createElement("span",null,e.details.title)):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.details.title)),n=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),l=e.details.listMetadata.term&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Semester:")," ",r.a.createElement("span",null,e.details.listMetadata.term.length>2?"All year":e.details.listMetadata.term.join(" or "))),s=e.details.listMetadata.related&&r.a.createElement("p",{className:"card__type"},e.details.listMetadata.related.sort().map((function(e,a){return a>0?e.toLowerCase():e})).join(", ")),c=e.details.listMetadata.specification&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",r.a.createElement("a",{href:e.details.listMetadata.specification[0]},"Download module specification"));return r.a.createElement("li",{className:"card card--module"},r.a.createElement("div",{className:"card__details"},r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},t),s,r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),l,n,a,c)))}S.propTypes={details:s.a.object,query:s.a.object};var q=S;function O(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function k(e){var a=function(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"==typeof e)return O(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(n.useState)(!1),2),t=a[0],l=a[1],s=e.thumbnailSourceName,c=e.thumbnailSourceUrl,i=e.thumbnailAuthorName,o=e.thumbnailAuthorUrl,u=e.thumbnailLicenseType,d=e.thumbnailLicenseUrl,m=e.displayToolTip,p=o&&i?r.a.createElement("a",{href:o},i):i?r.a.createElement("span",null,i):null,f=c&&s?r.a.createElement("a",{href:c},s):s?r.a.createElement("span",null,s):null,h=d&&u?r.a.createElement("a",{href:d},u):u||null;return m&&(i||s)?r.a.createElement("figure",{className:"wrapper--tooltip__label","data-open":t},r.a.createElement("button",{className:"tooltip tooltip--image-credit",type:"button","aria-expanded":t,onClick:function(){return l(!t)}},r.a.createElement("span",{className:"tooltip__icon icon fa-sharp fa-light fa-subtitles ".concat(t?"fa-xmark":"fa-subtitles")}),r.a.createElement("span",{className:"sr-only"},"Show image credit")),r.a.createElement("figcaption",{className:"tooltip__label"},p," ",f&&"/ "," ",f," ",h)):null}t(21),t(16),t(18),t(9),k.propTypes={thumbnailSourceName:s.a.oneOfType([s.a.string,s.a.bool]),thumbnailSourceUrl:s.a.oneOfType([s.a.string,s.a.bool]),thumbnailAuthorName:s.a.oneOfType([s.a.string,s.a.bool]),thumbnailAuthorUrl:s.a.oneOfType([s.a.string,s.a.bool]),thumbnailLicenseType:s.a.oneOfType([s.a.string,s.a.bool]),thumbnailLicenseUrl:s.a.oneOfType([s.a.string,s.a.bool]),displayToolTip:s.a.bool};var x=k;function T(e){var a=e.details.listMetadata.thumbnailSourceName&&e.details.listMetadata.thumbnailSourceName[0]||!1,t=e.details.listMetadata.thumbnailSourceUrl&&e.details.listMetadata.thumbnailSourceUrl[0]||!1,n=e.details.listMetadata.thumbnailAuthorName&&e.details.listMetadata.thumbnailAuthorName[0]||!1,l=e.details.listMetadata.thumbnailAuthorUrl&&e.details.listMetadata.thumbnailAuthorUrl[0]||!1,s=e.details.listMetadata.thumbnailLicenceType&&e.details.listMetadata.thumbnailLicenceType[0]||!1,i=e.details.listMetadata.thumbnailLicenceUrl&&e.details.listMetadata.thumbnailLicenceUrl[0]||!1,o=e.details.listMetadata.thumbnailToolTip&&Object(c.t)(e.details.listMetadata.thumbnailToolTip[0]),u=e.details.listMetadata.d&&Object(c.i)(new Date(e.details.listMetadata.d[0])),d=e.details.listMetadata.d&&r.a.createElement("p",{className:"card__type"},u),m=e.details.listMetadata.hashtagtext&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Hashtag",e.details.listMetadata.hashtagtext.length>1&&"s",":")," ",r.a.createElement("span",null,e.details.listMetadata.hashtagtext.join(", "))),p=e.details.listMetadata.thumbnailTiny&&e.details.listMetadata.thumbnailTiny[0]&&e.details.listMetadata.thumbnailMax&&e.details.listMetadata.thumbnailMax[0]&&e.details.listMetadata.thumbnailMobile&&e.details.listMetadata.thumbnailMobile[0]?r.a.createElement("picture",null,r.a.createElement("source",{srcSet:e.details.listMetadata.thumbnailTiny[0],media:"(max-width: 375px)"}),r.a.createElement("source",{srcSet:e.details.listMetadata.thumbnailMax[0],media:"(min-width: 3840px)"}),r.a.createElement("img",{src:e.details.listMetadata.thumbnailMobile[0],alt:e.details.title})):e.details.listMetadata.thumbnail?r.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}):null;return r.a.createElement("li",{className:"card card--news"},r.a.createElement(x,{thumbnailSourceName:a,thumbnailSourceUrl:t,thumbnailAuthorName:n,thumbnailAuthorUrl:l,thumbnailLicenceType:s,thumbnailLicenceUrl:i,displayToolTip:o}),r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},p,r.a.createElement("div",{className:"card__details__text"},d,r.a.createElement("h3",{className:"card__heading"},e.details.title),r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),m)))}T.propTypes={details:s.a.object};var A=T;function C(e){var a=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",e.details.listMetadata.school[0].replace("and","&")),t=e.details.listMetadata.department&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),n=e.details.listMetadata.thumbnail&&r.a.createElement("div",{className:"card__thumbnail"},r.a.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"Photo of "+e.details.title})),l=e.details.listMetadata.ediAmbassador&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-people-roof icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"EDI Ambassador")),s=e.details.listMetadata.thumbnail&&"card--profile--thumbnailAvailable",c=e.query.facets&&e.query.facets.country&&e.details.listMetadata.country&&r.a.createElement("div",{className:"card__tag"},r.a.createElement("span",{className:"fad fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Country:")," ",e.details.listMetadata.country.length>2?e.details.listMetadata.country.slice(0,-1).join(", ")+" and "+e.details.listMetadata.country.slice(-1):e.details.listMetadata.country.join(" and "));return r.a.createElement("li",{className:"card card--profile"},r.a.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details ".concat(s)},n,r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card__heading"},e.details.title),r.a.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle&&e.details.listMetadata.jobtitle[0]),a,t,c,l)))}C.propTypes={details:s.a.object,query:s.a.object};var U=C;function R(e){var a=e.details.listMetadata.school&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"School:")," ",r.a.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+" and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(" and "))),t=e.details.listMetadata.department&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Department:")," ",r.a.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+" and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(" and "))),n=e.details.listMetadata.researchCentre&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",e.details.listMetadata.researchCentre.length>1?r.a.createElement("span",null,"Research centres: "):r.a.createElement("span",null,"Research centre: ")),l=e.details.listMetadata.academic&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-chalkboard-teacher icon","aria-hidden":"true"})," ",e.details.listMetadata.academic.length>1?r.a.createElement("span",null,"Academics: "):r.a.createElement("span",null,"Academic: ")),s=e.details.listMetadata.student&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"fas fa-fw fa-users icon","aria-hidden":"true"})," ",e.details.listMetadata.student.length>1?r.a.createElement("span",null,"Students: "):r.a.createElement("span",null,"Student: ")),c=e.details.listMetadata.relatedDegree&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"far fa-fw fa-diploma icon","aria-hidden":"true"})," ",e.details.listMetadata.relatedDegree.length>1?r.a.createElement("span",null,"Related degrees: "):r.a.createElement("span",null,"Related degree: ")),i=e.details.listMetadata.status&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"far fa-fw fa-hourglass icon","aria-hidden":"true"})," ",r.a.createElement("span",null,"Status:")," ",r.a.createElement("span",null,e.details.listMetadata.status[0]," "),"Completed project"===e.details.listMetadata.status[0]?r.a.createElement("span",{className:"far fa-fw fa-check-circle icon","aria-hidden":"true"}):null),o=e.details.listMetadata.site&&r.a.createElement("p",{className:"card__tag"},r.a.createElement("span",{className:"far fa-fw fa-globe icon","aria-hidden":"true"})," ",r.a.createElement("span",null,r.a.createElement("a",{href:e.details.listMetadata.site},"View case study site")));return r.a.createElement("li",{className:"card card--research"},r.a.createElement("div",{className:"card__details"},r.a.createElement("div",{className:"card__details__text"},r.a.createElement("h3",{className:"card--research__title-link"},e.details.title),r.a.createElement("p",{className:"card__description"},e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,t,n,c,l,s,i,o)))}R.propTypes={details:s.a.object};var D=R;function I(e){switch(e.type){case"accommodation":return r.a.createElement(o,{details:e.details});case"casestudy":return r.a.createElement(d,{details:e.details});case"centre":return r.a.createElement(p,{details:e.details,query:e.query});case"contact":return r.a.createElement(h,{details:e.details,query:e.query});case"course":return r.a.createElement(E,{details:e.details,query:e.query});case"event":return r.a.createElement(v,{details:e.details});case"funding":return r.a.createElement(M,{details:e.details,query:e.query});case"module":return r.a.createElement(q,{details:e.details,query:e.query});case"news":return r.a.createElement(A,{details:e.details});case"profile":return r.a.createElement(U,{details:e.details,query:e.query});case"research":return r.a.createElement(D,{details:e.details,query:e.query});default:return r.a.createElement(j,{details:e.details})}}I.propTypes={details:s.a.object,query:s.a.object,type:s.a.string},a.a=I}});